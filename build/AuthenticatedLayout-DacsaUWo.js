import{hK as h,hL as Be,r as O,j as o,hM as Fe,dd as me,u as C,s as Y,fR as Ge,dW as We,dX as ze,l as y,I as qe,B as Ve,c6 as I,bJ as ve,o as T,h as E,p as Xe,cd as Se,bz as re,f6 as ye,da as De,cW as Ye,hN as Qe,g5 as Te,cf as Je,cj as L,ep as k,g6 as Ze,ck as Ke,cR as et,cV as tt,ez as nt,bT as be,e3 as rt,d as Oe,cx as st,aO as it,a6 as ot,bh as at,ho as ct,hO as ut,hP as lt,hQ as dt,hR as gt,eB as ht}from"./strapi-y0akA7lV.js";import{e as se,f as ft}from"./lt-Bz706YXL.js";import{L as pt,V as F,S as N,N as ie}from"./Ornaments-D55pivJv.js";import{g as mt,h as vt}from"./users-MOwOr-tf.js";import{P as St}from"./PrivateRoute-B7DpmljR.js";import{u as yt}from"./useOnce-DlFOiB6K.js";function Dt(t,e,n){return e.split(".").reduce((s,r)=>s&&s[r]?s[r]:n||null,t)}function Tt(t,e){return t.filter(n=>n!==e)}function xe(t){return typeof t=="object"}function bt(t,e){const n=new Map,s=i=>{n.set(i,n.has(i)?n.get(i)+1:1)};t.forEach(s),e.forEach(s);const r=[];return n.forEach((i,c)=>{i===1&&r.push(c)}),r}function Ot(t,e){return t.filter(n=>e.indexOf(n)>-1)}const Q="dnd-core/INIT_COORDS",A="dnd-core/BEGIN_DRAG",J="dnd-core/PUBLISH_DRAG_SOURCE",$="dnd-core/HOVER",U="dnd-core/DROP",H="dnd-core/END_DRAG";function oe(t,e){return{type:Q,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const xt={type:Q,payload:{clientOffset:null,sourceClientOffset:null}};function Et(t){return function(n=[],s={publishSource:!0}){const{publishSource:r=!0,clientOffset:i,getSourceClientOffset:c}=s,a=t.getMonitor(),d=t.getRegistry();t.dispatch(oe(i)),It(n,a,d);const u=Nt(n,a);if(u==null){t.dispatch(xt);return}let g=null;if(i){if(!c)throw new Error("getSourceClientOffset must be defined");Ct(c),g=c(u)}t.dispatch(oe(i,g));const p=d.getSource(u).beginDrag(a,u);if(p==null)return;wt(p),d.pinSource(u);const l=d.getSourceType(u);return{type:A,payload:{itemType:l,item:p,sourceId:u,clientOffset:i||null,sourceClientOffset:g||null,isSourcePublic:!!r}}}}function It(t,e,n){h(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(s){h(n.getSource(s),"Expected sourceIds to be registered.")})}function Ct(t){h(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function wt(t){h(xe(t),"Item must be an object.")}function Nt(t,e){let n=null;for(let s=t.length-1;s>=0;s--)if(e.canDragSource(t[s])){n=t[s];break}return n}function jt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),s.forEach(function(r){jt(t,r,n[r])})}return t}function Pt(t){return function(n={}){const s=t.getMonitor(),r=t.getRegistry();Rt(s),Mt(s).forEach((c,a)=>{const d=kt(c,a,r,s),u={type:U,payload:{dropResult:Lt({},n,d)}};t.dispatch(u)})}}function Rt(t){h(t.isDragging(),"Cannot call drop while not dragging."),h(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function kt(t,e,n,s){const r=n.getTarget(t);let i=r?r.drop(s,t):void 0;return _t(i),typeof i>"u"&&(i=e===0?{}:s.getDropResult()),i}function _t(t){h(typeof t>"u"||xe(t),"Drop result must either be an object or undefined.")}function Mt(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function At(t){return function(){const n=t.getMonitor(),s=t.getRegistry();$t(n);const r=n.getSourceId();return r!=null&&(s.getSource(r,!0).endDrag(n,r),s.unpinSource()),{type:H}}}function $t(t){h(t.isDragging(),"Cannot call endDrag while not dragging.")}function q(t,e){return e===null?t===null:Array.isArray(t)?t.some(n=>n===e):t===e}function Ut(t){return function(n,{clientOffset:s}={}){Ht(n);const r=n.slice(0),i=t.getMonitor(),c=t.getRegistry(),a=i.getItemType();return Ft(r,c,a),Bt(r,i,c),Gt(r,i,c),{type:$,payload:{targetIds:r,clientOffset:s||null}}}}function Ht(t){h(Array.isArray(t),"Expected targetIds to be an array.")}function Bt(t,e,n){h(e.isDragging(),"Cannot call hover while not dragging."),h(!e.didDrop(),"Cannot call hover after drop.");for(let s=0;s<t.length;s++){const r=t[s];h(t.lastIndexOf(r)===s,"Expected targetIds to be unique in the passed array.");const i=n.getTarget(r);h(i,"Expected targetIds to be registered.")}}function Ft(t,e,n){for(let s=t.length-1;s>=0;s--){const r=t[s],i=e.getTargetType(r);q(i,n)||t.splice(s,1)}}function Gt(t,e,n){t.forEach(function(s){n.getTarget(s).hover(e,s)})}function Wt(t){return function(){if(t.getMonitor().isDragging())return{type:J}}}function zt(t){return{beginDrag:Et(t),publishDragSource:Wt(t),hover:Ut(t),drop:Pt(t),endDrag:At(t)}}class qt{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function s(i){return(...c)=>{const a=i.apply(e,c);typeof a<"u"&&n(a)}}const r=zt(this);return Object.keys(r).reduce((i,c)=>{const a=r[c];return i[c]=s(a),i},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const s=this.store.getState().refCount>0;this.backend&&(s&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!s&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function Vt(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Ee(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xt(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:s}=t;return!e||!n||!s?null:Ee(Vt(e,s),n)}function Yt(t){const{clientOffset:e,initialClientOffset:n}=t;return!e||!n?null:Ee(e,n)}const P=[],Z=[];P.__IS_NONE__=!0;Z.__IS_ALL__=!0;function Qt(t,e){return t===P?!1:t===Z||typeof e>"u"?!0:Ot(e,t).length>0}class Jt{subscribeToStateChange(e,n={}){const{handlerIds:s}=n;h(typeof e=="function","listener must be a function."),h(typeof s>"u"||Array.isArray(s),"handlerIds, when specified, must be an array of strings.");let r=this.store.getState().stateId;const i=()=>{const c=this.store.getState(),a=c.stateId;try{a===r||a===r+1&&!Qt(c.dirtyHandlerIds,s)||e()}finally{r=a}};return this.store.subscribe(i)}subscribeToOffsetChange(e){h(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const s=()=>{const r=this.store.getState().dragOffset;r!==n&&(n=r,e())};return this.store.subscribe(s)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return h(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(h(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const s=this.registry.getTargetType(e),r=this.getItemType();return q(s,r)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(h(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const s=this.registry.getSourceType(e),r=this.getItemType();return s!==r?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:s}=n;if(!this.isDragging())return!1;const r=this.registry.getTargetType(e),i=this.getItemType();if(i&&!q(r,i))return!1;const c=this.getTargetIds();if(!c.length)return!1;const a=c.indexOf(e);return s?a===c.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Xt(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Yt(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const ae=typeof global<"u"?global:self,Ie=ae.MutationObserver||ae.WebKitMutationObserver;function Ce(t){return function(){const n=setTimeout(r,0),s=setInterval(r,50);function r(){clearTimeout(n),clearInterval(s),t()}}}function Zt(t){let e=1;const n=new Ie(t),s=document.createTextNode("");return n.observe(s,{characterData:!0}),function(){e=-e,s.data=e}}const Kt=typeof Ie=="function"?Zt:Ce;class en{enqueueTask(e){const{queue:n,requestFlush:s}=this;n.length||(s(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let s=0,r=e.length-this.index;s<r;s++)e[s]=e[s+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=Kt(this.flush),this.requestErrorThrow=Ce(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class tn{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class nn{create(e){const n=this.freeTasks,s=n.length?n.pop():new tn(this.onError,r=>n[n.length]=r);return s.task=e,s}constructor(e){this.onError=e,this.freeTasks=[]}}const we=new en,rn=new nn(we.registerPendingError);function sn(t){we.enqueueTask(rn.create(t))}const K="dnd-core/ADD_SOURCE",ee="dnd-core/ADD_TARGET",te="dnd-core/REMOVE_SOURCE",B="dnd-core/REMOVE_TARGET";function on(t){return{type:K,payload:{sourceId:t}}}function an(t){return{type:ee,payload:{targetId:t}}}function cn(t){return{type:te,payload:{sourceId:t}}}function un(t){return{type:B,payload:{targetId:t}}}function ln(t){h(typeof t.canDrag=="function","Expected canDrag to be a function."),h(typeof t.beginDrag=="function","Expected beginDrag to be a function."),h(typeof t.endDrag=="function","Expected endDrag to be a function.")}function dn(t){h(typeof t.canDrop=="function","Expected canDrop to be a function."),h(typeof t.hover=="function","Expected hover to be a function."),h(typeof t.drop=="function","Expected beginDrag to be a function.")}function V(t,e){if(e&&Array.isArray(t)){t.forEach(n=>V(n,!1));return}h(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var b;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(b||(b={}));let gn=0;function hn(){return gn++}function fn(t){const e=hn().toString();switch(t){case b.SOURCE:return`S${e}`;case b.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function ce(t){switch(t[0]){case"S":return b.SOURCE;case"T":return b.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function ue(t,e){const n=t.entries();let s=!1;do{const{done:r,value:[,i]}=n.next();if(i===e)return!0;s=!!r}while(!s);return!1}class pn{addSource(e,n){V(e),ln(n);const s=this.addHandler(b.SOURCE,e,n);return this.store.dispatch(on(s)),s}addTarget(e,n){V(e,!0),dn(n);const s=this.addHandler(b.TARGET,e,n);return this.store.dispatch(an(s)),s}containsHandler(e){return ue(this.dragSources,e)||ue(this.dropTargets,e)}getSource(e,n=!1){return h(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return h(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return h(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return h(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return ce(e)===b.SOURCE}isTargetId(e){return ce(e)===b.TARGET}removeSource(e){h(this.getSource(e),"Expected an existing source."),this.store.dispatch(cn(e)),sn(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){h(this.getTarget(e),"Expected an existing target."),this.store.dispatch(un(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);h(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){h(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,s){const r=fn(e);return this.types.set(r,n),e===b.SOURCE?this.dragSources.set(r,s):e===b.TARGET&&this.dropTargets.set(r,s),r}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const mn=(t,e)=>t===e;function vn(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function Sn(t,e,n=mn){if(t.length!==e.length)return!1;for(let s=0;s<t.length;++s)if(!n(t[s],e[s]))return!1;return!0}function yn(t=P,e){switch(e.type){case $:break;case K:case ee:case B:case te:return P;case A:case J:case H:case U:default:return Z}const{targetIds:n=[],prevTargetIds:s=[]}=e.payload,r=bt(n,s);if(!(r.length>0||!Sn(n,s)))return P;const c=s[s.length-1],a=n[n.length-1];return c!==a&&(c&&r.push(c),a&&r.push(a)),r}function Dn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),s.forEach(function(r){Dn(t,r,n[r])})}return t}const le={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function bn(t=le,e){const{payload:n}=e;switch(e.type){case Q:case A:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case $:return vn(t.clientOffset,n.clientOffset)?t:Tn({},t,{clientOffset:n.clientOffset});case H:case U:return le;default:return t}}function On(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),s.forEach(function(r){On(t,r,n[r])})}return t}const xn={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function En(t=xn,e){const{payload:n}=e;switch(e.type){case A:return j({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case J:return j({},t,{isSourcePublic:!0});case $:return j({},t,{targetIds:n.targetIds});case B:return t.targetIds.indexOf(n.targetId)===-1?t:j({},t,{targetIds:Tt(t.targetIds,n.targetId)});case U:return j({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case H:return j({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function In(t=0,e){switch(e.type){case K:case ee:return t+1;case te:case B:return t-1;default:return t}}function Cn(t=0){return t+1}function wn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),s.forEach(function(r){wn(t,r,n[r])})}return t}function jn(t={},e){return{dirtyHandlerIds:yn(t.dirtyHandlerIds,{type:e.type,payload:Nn({},e.payload,{prevTargetIds:Dt(t,"dragOperation.targetIds",[])})}),dragOffset:bn(t.dragOffset,e),refCount:In(t.refCount,e),dragOperation:En(t.dragOperation,e),stateId:Cn(t.stateId)}}function Ln(t,e=void 0,n={},s=!1){const r=Pn(s),i=new Jt(r,new pn(r)),c=new qt(r,i),a=t(c,e,n);return c.receiveBackend(a),c}function Pn(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Be(jn,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function Rn(t,e){if(t==null)return{};var n=kn(t,e),s,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function kn(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}let de=0;const M=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var _n=O.memo(function(e){var{children:n}=e,s=Rn(e,["children"]);const[r,i]=Mn(s);return O.useEffect(()=>{if(i){const c=Ne();return++de,()=>{--de===0&&(c[M]=null)}}},[]),o.jsx(Fe.Provider,{value:r,children:n})});function Mn(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=An(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function An(t,e=Ne(),n,s){const r=e;return r[M]||(r[M]={dragDropManager:Ln(t,e,n,s)}),r[M]}function Ne(){return typeof global<"u"?global:window}const $n="5.12.3",Un={version:$n};function je(t){let e=null;return()=>(e==null&&(e=t()),e)}function Hn(t,e){return t.filter(n=>n!==e)}function Bn(t,e){const n=new Set,s=i=>n.add(i);t.forEach(s),e.forEach(s);const r=[];return n.forEach(i=>r.push(i)),r}class Fn{enter(e){const n=this.entered.length,s=r=>this.isNodeInDocument(r)&&(!r.contains||r.contains(e));return this.entered=Bn(this.entered.filter(s),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=Hn(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Gn{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(s=>{const r=this.config.exposeProperties[s];r!=null&&(n[s]={value:r(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Le="__NATIVE_FILE__",Pe="__NATIVE_URL__",Re="__NATIVE_TEXT__",ke="__NATIVE_HTML__",ge=Object.freeze(Object.defineProperty({__proto__:null,FILE:Le,HTML:ke,TEXT:Re,URL:Pe},Symbol.toStringTag,{value:"Module"}));function G(t,e,n){const s=e.reduce((r,i)=>r||t.getData(i),"");return s??n}const X={[Le]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[ke]:{exposeProperties:{html:(t,e)=>G(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[Pe]:{exposeProperties:{urls:(t,e)=>G(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[Re]:{exposeProperties:{text:(t,e)=>G(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Wn(t,e){const n=X[t];if(!n)throw new Error(`native type ${t} has no configuration`);const s=new Gn(n);return s.loadDataTransfer(e),s}function W(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(X).filter(n=>{const s=X[n];return s?.matchesTypes?s.matchesTypes.some(r=>e.indexOf(r)>-1):!1})[0]||null}const zn=je(()=>/firefox/i.test(navigator.userAgent)),_e=je(()=>!!window.safari);class he{interpolate(e){const{xs:n,ys:s,c1s:r,c2s:i,c3s:c}=this;let a=n.length-1;if(e===n[a])return s[a];let d=0,u=c.length-1,g;for(;d<=u;){g=Math.floor(.5*(d+u));const l=n[g];if(l<e)d=g+1;else if(l>e)u=g-1;else return s[g]}a=Math.max(0,u);const v=e-n[a],p=v*v;return s[a]+r[a]*v+i[a]*p+c[a]*v*p}constructor(e,n){const{length:s}=e,r=[];for(let l=0;l<s;l++)r.push(l);r.sort((l,m)=>e[l]<e[m]?-1:1);const i=[],c=[];let a,d;for(let l=0;l<s-1;l++)a=e[l+1]-e[l],d=n[l+1]-n[l],i.push(a),c.push(d/a);const u=[c[0]];for(let l=0;l<i.length-1;l++){const m=c[l],f=c[l+1];if(m*f<=0)u.push(0);else{a=i[l];const S=i[l+1],D=a+S;u.push(3*D/((D+S)/m+(D+a)/f))}}u.push(c[c.length-1]);const g=[],v=[];let p;for(let l=0;l<u.length-1;l++){p=c[l];const m=u[l],f=1/i[l],S=m+u[l+1]-p-p;g.push((p-m-S)*f),v.push(S*f*f)}this.xs=e,this.ys=n,this.c1s=u,this.c2s=g,this.c3s=v}}const qn=1;function Me(t){const e=t.nodeType===qn?t:t.parentElement;if(!e)return null;const{top:n,left:s}=e.getBoundingClientRect();return{x:s,y:n}}function _(t){return{x:t.clientX,y:t.clientY}}function Vn(t){var e;return t.nodeName==="IMG"&&(zn()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function Xn(t,e,n,s){let r=t?e.width:n,i=t?e.height:s;return _e()&&t&&(i/=window.devicePixelRatio,r/=window.devicePixelRatio),{dragPreviewWidth:r,dragPreviewHeight:i}}function Yn(t,e,n,s,r){const i=Vn(e),a=Me(i?t:e),d={x:n.x-a.x,y:n.y-a.y},{offsetWidth:u,offsetHeight:g}=t,{anchorX:v,anchorY:p}=s,{dragPreviewWidth:l,dragPreviewHeight:m}=Xn(i,e,u,g),f=()=>{let ne=new he([0,.5,1],[d.y,d.y/g*m,d.y+m-g]).interpolate(p);return _e()&&i&&(ne+=(window.devicePixelRatio-1)*m),ne},S=()=>new he([0,.5,1],[d.x,d.x/u*l,d.x+l-u]).interpolate(v),{offsetX:D,offsetY:w}=r,x=D===0||D,Ue=w===0||w;return{x:x?D:S(),y:Ue?w:f()}}class Qn{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}}function Jn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),s.forEach(function(r){Jn(t,r,n[r])})}return t}class Zn{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,s){return this.sourcePreviewNodeOptions.set(e,s),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,s){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,s);const r=c=>this.handleDragStart(c,e),i=c=>this.handleSelectStart(c);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",r),n.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",r),n.removeEventListener("selectstart",i),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const s=c=>this.handleDragEnter(c,e),r=c=>this.handleDragOver(c,e),i=c=>this.handleDrop(c,e);return n.addEventListener("dragenter",s),n.addEventListener("dragover",r),n.addEventListener("drop",i),()=>{n.removeEventListener("dragenter",s),n.removeEventListener("dragover",r),n.removeEventListener("drop",i)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return fe({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return fe({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(ge).some(n=>ge[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=Wn(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var s;return(s=this.rootElement)===null||s===void 0?void 0:s.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,s){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=r=>{const i=this.sourceNodes.get(r);return i&&Me(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=r=>!!(r&&this.document&&this.document.body&&this.document.body.contains(r)),this.endDragIfSourceWasRemovedFromDOM=()=>{const r=this.currentDragSourceNode;r==null||this.isNodeInDocument(r)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=r=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(r||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=r=>{if(r.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const c=_(r);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:c});const{dataTransfer:a}=r,d=W(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const g=this.monitor.getSourceId(),v=this.sourceNodes.get(g),p=this.sourcePreviewNodes.get(g)||v;if(p){const{anchorX:l,anchorY:m,offsetX:f,offsetY:S}=this.getCurrentSourcePreviewNodeOptions(),x=Yn(v,p,c,{anchorX:l,anchorY:m},{offsetX:f,offsetY:S});a.setDragImage(p,x.x,x.y)}}try{a?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(r.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(d)this.beginDragNativeItem(d);else{if(a&&!a.types&&(r.target&&!r.target.hasAttribute||!r.target.hasAttribute("draggable")))return;r.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=r=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(r.dataTransfer)}if(!this.enterLeaveCounter.enter(r.target)||this.monitor.isDragging())return;const{dataTransfer:a}=r,d=W(a);d&&this.beginDragNativeItem(d,a)},this.handleTopDragEnter=r=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=r.altKey,i.length>0&&this.actions.hover(i,{clientOffset:_(r)}),i.some(a=>this.monitor.canDropOnTarget(a))&&(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=r=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(r.dataTransfer)}},this.handleTopDragOver=r=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect="none");return}this.altKeyPressed=r.altKey,this.lastClientOffset=_(r),this.scheduleHover(i),(i||[]).some(a=>this.monitor.canDropOnTarget(a))?(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?r.preventDefault():(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=r=>{this.isDraggingNativeItem()&&r.preventDefault(),this.enterLeaveCounter.leave(r.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=r=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;r.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(r.dataTransfer)}else W(r.dataTransfer)&&r.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=r=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:_(r)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=r=>{const i=r.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(r.preventDefault(),i.dragDrop()))},this.options=new Qn(n,s),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Fn(this.isNodeInDocument)}}const Kn=function(e,n,s){return new Zn(e,n,s)},er=()=>{const t=me("GuidedTourModal",x=>x),{currentStep:e,guidedTourState:n,setCurrentStep:s,setStepState:r,isGuidedTourVisible:i,setSkipped:c}=t,{formatMessage:a}=C(),{trackUsage:d}=Y();if(!e||!i)return null;const u=Ge(pt,e),g=Object.keys(n),[v,p]=e.split("."),l=g.indexOf(v),m=Object.keys(n[v]).indexOf(p),f=l<g.length-1,S=m<Object.keys(n[v]).length-1,D=()=>{r(e,!0),u&&d(u.trackingEvent),s(null)},w=()=>{c(!0),s(null),d("didSkipGuidedtour")};return o.jsx(We,{children:o.jsx(tr,{onClick:D,padding:8,justifyContent:"center",children:o.jsx(ze,{onEscape:D,children:o.jsxs(y,{direction:"column",alignItems:"stretch",background:"neutral0",width:"66rem",shadow:"popupShadow",hasRadius:!0,padding:4,gap:8,role:"dialog","aria-modal":!0,onClick:x=>x.stopPropagation(),children:[o.jsx(y,{justifyContent:"flex-end",children:o.jsx(qe,{onClick:D,withTooltip:!1,label:a({id:"app.utils.close-label",defaultMessage:"Close"}),children:o.jsx(Ve,{})})}),o.jsx(I,{paddingLeft:7,paddingRight:7,paddingBottom:!S&&!f?8:0,children:o.jsx(nr,{title:u&&"title"in u?u.title:void 0,cta:u&&"cta"in u?u.cta:void 0,onCtaClick:D,sectionIndex:l,stepIndex:m,hasSectionAfter:f,children:u&&"content"in u&&o.jsx(rr,{...u.content})})}),!(!S&&!f)&&o.jsx(y,{justifyContent:"flex-end",children:o.jsx(ve,{variant:"tertiary",onClick:w,children:a({id:"app.components.GuidedTour.skip",defaultMessage:"Skip the tour"})})})]})})})})},tr=T(y)`
  position: fixed;
  z-index: 4;
  inset: 0;
  /* this is theme.colors.neutral800 with opacity */
  background: ${({theme:t})=>`${t.colors.neutral800}1F`};
`,nr=({title:t,children:e,cta:n,onCtaClick:s,sectionIndex:r,stepIndex:i,hasSectionAfter:c})=>{const{formatMessage:a}=C(),d=r>0,u=i>0,g=r+1;return o.jsxs(o.Fragment,{children:[o.jsxs(y,{alignItems:"stretch",children:[o.jsx(y,{marginRight:8,justifyContent:"center",minWidth:"3rem",children:d&&o.jsx(F,{state:N.IS_DONE,minHeight:"2.4rem"})}),o.jsx(E,{variant:"sigma",textColor:"primary600",children:a({id:"app.components.GuidedTour.title",defaultMessage:"3 steps to get started"})})]}),o.jsxs(y,{children:[o.jsx(y,{marginRight:8,minWidth:"3rem",children:o.jsx(ie,{state:u?N.IS_DONE:N.IS_ACTIVE,paddingTop:3,paddingBottom:3,children:r+1})}),t&&o.jsx(E,{variant:"alpha",fontWeight:"bold",textColor:"neutral800",tag:"h3",id:"title",children:a(t)})]}),o.jsxs(y,{alignItems:"stretch",children:[o.jsx(y,{marginRight:8,direction:"column",justifyContent:"center",minWidth:"3rem",children:c&&o.jsxs(o.Fragment,{children:[o.jsx(F,{state:N.IS_DONE}),u&&o.jsx(ie,{state:N.IS_ACTIVE,paddingTop:3,children:g+1})]})}),o.jsxs(I,{children:[e,n&&(n.target?o.jsx(Xe,{tag:Se,endIcon:o.jsx(re,{}),onClick:s,to:n.target,children:a(n.title)}):o.jsx(ve,{endIcon:o.jsx(re,{}),onClick:s,children:a(n.title)}))]})]}),u&&c&&o.jsx(I,{paddingTop:3,children:o.jsx(y,{marginRight:8,justifyContent:"center",width:"3rem",children:o.jsx(F,{state:N.IS_DONE,minHeight:"2.4rem"})})})]})},rr=({id:t,defaultMessage:e})=>{const{formatMessage:n}=C();return o.jsx(y,{direction:"column",alignItems:"stretch",gap:4,paddingBottom:6,children:n({id:t,defaultMessage:e},{documentationLink:sr,b:ir,p:or,light:ar,ul:cr,li:lr})})},sr=t=>o.jsx(E,{tag:"a",textColor:"primary600",target:"_blank",rel:"noopener noreferrer",href:"https://docs.strapi.io/developer-docs/latest/developer-resources/database-apis-reference/rest-api.html#api-parameters",children:t}),ir=t=>o.jsx(E,{fontWeight:"semiBold",children:t}),or=t=>o.jsx(E,{children:t}),ar=t=>o.jsx(E,{textColor:"neutral600",children:t}),cr=t=>o.jsx(I,{paddingLeft:6,children:o.jsx("ul",{children:t})}),ur=T.li`
  list-style: disc;
  &::marker {
    color: ${({theme:t})=>t.colors.neutral800};
  }
`,lr=t=>o.jsx(ur,{children:t}),dr=T(y)`
  border-right: 1px solid ${({theme:t})=>t.colors.neutral150};
`,gr=t=>o.jsx(dr,{alignItems:"normal",tag:"nav",background:"neutral0",direction:"column",height:"100vh",position:"sticky",top:0,zIndex:2,width:10,...t}),hr=T(y)`
  svg,
  img {
    border-radius: ${({theme:t})=>t.borderRadius};
    object-fit: contain;
    height: 2.4rem;
    width: 2.4rem;
  }
`,fr=()=>{const{formatMessage:t}=C(),{logos:{menu:e}}=ye("LeftMenu");return o.jsx(I,{padding:3,children:o.jsxs(hr,{direction:"column",justifyContent:"center",width:"3.2rem",height:"3.2rem",children:[o.jsx("img",{src:e.custom?.url||e.default,alt:t({id:"app.components.LeftMenu.logo.alt",defaultMessage:"Application logo"}),width:"100%",height:"100%"}),o.jsxs(De,{children:[o.jsx("span",{children:t({id:"app.components.LeftMenu.navbrand.title",defaultMessage:"Strapi Dashboard"})}),o.jsx("span",{children:t({id:"app.components.LeftMenu.navbrand.workplace",defaultMessage:"Workplace"})})]})]})})},pr=T(Se)`
  text-decoration: none;
  display: flex;
  border-radius: ${({theme:t})=>t.borderRadius};
  background: ${({theme:t})=>t.colors.neutral0};
  color: ${({theme:t})=>t.colors.neutral500};
  position: relative;
  width: fit-content;
  padding-block: 0.6rem;
  padding-inline: 0.6rem;

  &:hover {
    svg path {
      fill: ${({theme:t})=>t.colors.neutral600};
    }
    background: ${({theme:t})=>t.colors.neutral100};
  }

  &.active {
    svg path {
      fill: ${({theme:t})=>t.colors.primary600};
    }
    background: ${({theme:t})=>t.colors.primary100};
  }
`,mr=({children:t,...e})=>o.jsx(pr,{...e,children:t}),vr=({children:t,label:e,position:n="right"})=>o.jsx(Ye,{side:n,label:e,delayDuration:0,children:o.jsx("span",{children:t})}),Sr=({label:t,children:e})=>e?o.jsx(Qe,{label:t,children:e}):null,yr=T(Te)`
  /* override default badge styles to change the border radius of the Base element in the Design System */
  border-radius: ${({theme:t})=>t.spaces[10]};
  height: 2rem;
`,Dr=({children:t,label:e,...n})=>t?o.jsx(yr,{position:"absolute",top:"-0.8rem",left:"1.7rem","aria-label":e,active:!1,...n,children:t}):null,R={Link:mr,Tooltip:vr,Icon:Sr,Badge:Dr},Tr=T(k.Trigger)`
  height: ${({theme:t})=>t.spaces[7]};
  width: ${({theme:t})=>t.spaces[7]};
  border: none;
  border-radius: 50%;
  padding: 0;
  overflow: hidden;
`,br=T(k.Content)`
  max-height: fit-content;
  width: 200px;
`,Or=T(y)`
  && {
    padding: ${({theme:t})=>t.spaces[3]};
  }
  align-items: flex-start;
`,xr=T(y)`
  display: flex;
  flex-wrap: wrap;
  gap: ${({theme:t})=>t.spaces[1]};

  width: 100%;
`,Er=T(E)`
  margin-bottom: ${({theme:t})=>t.spaces[3]};
`,Ae=T(k.Item)`
  & > span {
    width: 100%;
    display: flex;
    align-items: center;
    gap: ${({theme:t})=>t.spaces[3]};
  }
`,Ir=T(Ae)`
  &:hover {
    background: ${({theme:t})=>t.colors.danger100};
  }
`,Cr=({children:t,initials:e,...n})=>{const{formatMessage:s}=C(),r=Je(),i=L("User",u=>u.user),c=L("Logout",u=>u.logout),a=()=>{r("/me")},d=()=>{c(),r("/auth/login")};return o.jsx(y,{justifyContent:"center",padding:3,borderStyle:"solid",borderWidth:"1px 0 0 0",borderColor:"neutral150",...n,children:o.jsxs(k.Root,{children:[o.jsxs(Tr,{endIcon:null,fullWidth:!0,justifyContent:"center",children:[o.jsx(Ze.Item,{delayMs:0,fallback:e}),o.jsx(De,{tag:"span",children:t})]}),o.jsxs(br,{popoverPlacement:"top-start",zIndex:3,children:[o.jsxs(Or,{direction:"column",gap:0,alignItems:"flex-start",children:[o.jsx(E,{variant:"omega",fontWeight:"bold",textTransform:"none",children:t}),o.jsx(Er,{variant:"pi",textColor:"neutral600",children:i?.email}),o.jsx(xr,{children:i?.roles?.map(u=>o.jsx(Te,{children:u.name},u.id))})]}),o.jsx(k.Separator,{}),o.jsx(Ae,{onSelect:a,children:s({id:"global.profile",defaultMessage:"Profile settings"})}),o.jsx(Ir,{onSelect:d,color:"danger600",children:s({id:"app.components.LeftMenu.logout",defaultMessage:"Log out"})})]})]})})},wr=t=>t.sort((e,n)=>{const s=e.position??6,r=n.position??6;return s<r?-1:1}),Nr=T(R.Badge)`
  span {
    color: ${({theme:t})=>t.colors.neutral0};
  }
`,jr=T(R.Badge)`
  background-color: transparent;
`,Lr=T(y)`
  overflow-y: auto;
`,Pr=({generalSectionLinks:t,pluginsSectionLinks:e})=>{const n=L("AuthenticatedApp",l=>l.user),{trackUsage:s}=Y(),{pathname:r}=Ke(),i=mt(n),{formatMessage:c,locale:a}=C(),d=et(a,{sensitivity:"base"}),u=i.split(" ").map(l=>l.substring(0,1)).join("").substring(0,2),g=l=>{s("willNavigate",{from:r,to:l})},v=[...e,...t].sort((l,m)=>d.compare(c(l.intlLabel),c(m.intlLabel))),p=wr(v);return o.jsxs(gr,{children:[o.jsx(fr,{}),o.jsx(tt,{}),o.jsx(Lr,{tag:"ul",gap:3,direction:"column",flex:1,paddingTop:3,paddingBottom:3,children:p.length>0?p.map(l=>{const m=l.icon,f=l?.licenseOnly?o.jsx(nt,{fill:"warning500"}):void 0,S=l.notificationsCount&&l.notificationsCount>0?l.notificationsCount.toString():void 0,D=c(l.intlLabel);return o.jsx(y,{tag:"li",children:o.jsx(R.Tooltip,{label:D,children:o.jsxs(R.Link,{to:l.to,onClick:()=>g(l.to),"aria-label":D,children:[o.jsx(R.Icon,{label:D,children:o.jsx(m,{width:"20",height:"20",fill:"neutral500"})}),f?o.jsx(jr,{label:"locked",textColor:"neutral500",paddingLeft:0,paddingRight:0,children:f}):S?o.jsx(Nr,{label:S,backgroundColor:"primary600",width:"2.3rem",color:"neutral0",children:S}):null]})})},l.to)}):null}),o.jsx(Cr,{initials:u,children:i})]})},Rr=({children:t})=>{const e=be("PluginsInitializer",c=>c.plugins),[{plugins:n},s]=O.useReducer(kr,$e,()=>_r(e)),r=O.useRef(c=>{s({type:"SET_PLUGIN_READY",pluginId:c})});if(Object.keys(n).some(c=>n[c].isReady===!1)){const c=Object.keys(n).reduce((a,d)=>{const u=n[d].initializer;if(u){const g=n[d].pluginId;a.push(o.jsx(u,{setPlugin:r.current},g))}return a},[]);return o.jsxs(o.Fragment,{children:[c,o.jsx(Oe.Loading,{})]})}return t},$e={plugins:{}},kr=(t=$e,e)=>rt(t,n=>{switch(e.type){case"SET_PLUGIN_READY":{n.plugins[e.pluginId].isReady=!0;break}default:return n}}),_r=t=>({plugins:t}),Mr=t=>{const e=L("useMenu",a=>a.checkUserHasPermissions),n=be("useMenu",a=>a.menu),s=st(a=>a.admin_app.permissions),[r,i]=O.useState({generalSectionLinks:[{icon:it,intlLabel:{id:"global.home",defaultMessage:"Home"},to:"/",permissions:[],position:0},{icon:ot,intlLabel:{id:"global.marketplace",defaultMessage:"Marketplace"},to:"/marketplace",permissions:s.marketplace?.main??[],position:7},{icon:at,intlLabel:{id:"global.settings",defaultMessage:"Settings"},to:"/settings",permissions:[],notificationsCount:0,position:9}],pluginsSectionLinks:[],isLoading:!0}),c=O.useRef(r.generalSectionLinks);return O.useEffect(()=>{async function a(){const d=await $r(n,e),u=await Ar(c.current,t,e);i(g=>({...g,generalSectionLinks:u,pluginsSectionLinks:d,isLoading:!1}))}a()},[i,c,n,s,t,e]),r},Ar=async(t,e=!1,n)=>{const s=await Promise.all(t.map(({permissions:a})=>n(a))),r=t.filter((a,d)=>s[d].length>0),i=r.findIndex(a=>a.to==="/settings");if(i===-1)return[];const c=ct(r);return c[i].notificationsCount=e?1:0,c},$r=async(t,e)=>{const n=await Promise.all(t.map(({permissions:r})=>e(r)));return t.filter((r,i)=>n[i].length>0)},{version:z}=Un,Ur=()=>{const t=me("AdminLayout",f=>f.setGuidedTourVisibility),{formatMessage:e}=C(),n=L("AuthenticatedApp",f=>f.user),[s,r]=O.useState(),{showReleaseNotification:i}=ye("AuthenticatedApp"),{data:c,isLoading:a}=ut(),[d,u]=O.useState(z);O.useEffect(()=>{i&&fetch("https://api.github.com/repos/strapi/strapi/releases/latest").then(async f=>{if(!f.ok)return;const S=await f.json();if(!S.tag_name)throw new Error;u(S.tag_name)}).catch(()=>{})},[i]);const g=L("AuthenticatedApp",f=>f.user?.roles);O.useEffect(()=>{g&&g.find(({code:S})=>S==="strapi-super-admin")&&c?.autoReload&&t(!0)},[g,c?.autoReload,t]),O.useEffect(()=>{vt(n).then(f=>{f&&r(f)})},[n]);const{trackUsage:v}=Y(),{isLoading:p,generalSectionLinks:l,pluginsSectionLinks:m}=Mr(pe(z,d));return yt(()=>{v("didAccessAuthenticatedAdministration")}),p||a?o.jsx(Oe.Loading,{}):o.jsxs(lt,{...c,userId:s,latestStrapiReleaseTag:d,shouldUpdateStrapi:pe(z,d),children:[o.jsx(dt,{}),o.jsx(Rr,{children:o.jsx(_n,{backend:Kn,children:o.jsxs(I,{background:"neutral100",children:[o.jsx(gt,{children:e({id:"skipToContent",defaultMessage:"Skip to content"})}),o.jsxs(y,{alignItems:"flex-start",children:[o.jsx(Pr,{generalSectionLinks:l,pluginsSectionLinks:m}),o.jsxs(I,{flex:1,children:[o.jsx(ht,{}),o.jsx(er,{})]})]})]})})})]})},qr=()=>o.jsx(St,{children:o.jsx(Ur,{})}),pe=(t,e="")=>!se(t)||!se(e)?!1:ft(t,e);export{Ur as AdminLayout,qr as PrivateAdminLayout};
