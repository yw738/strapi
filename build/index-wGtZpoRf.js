const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["ListView-L93yk8iN.js","strapi-y0akA7lV.js","strapi-B5podyrr.css","groupBy-D3UMkOFU.js","_baseEach-G4a-WJLT.js","index-D-dOmonc.js","index-BRVyLNfZ.js","_arrayIncludesWith-BNzMLSv9.js","sortBy-DtDgK6J3.js","_baseMap-hh6JGYGa.js"])))=>i.map(i=>d[i]);
import{hS as Qe,r as he,a as Ba,u as ye,s as Wa,fk as Jy,cR as Xy,ei as Va,j as l,ev as Qy,ew as eb,ex as tb,ey as nb,hT as rb,cH as on,eA as Dl,cd as nl,c6 as $e,cu as ab,aj as Cn,o as Pt,hU as ql,dw as ob,hV as Pl,hW as ib,hX as zl,dn as Za,w as sb,hY as ub,hZ as lb,h_ as Ul,bN as re,hl as Bl,bT as Dr,bX as cb,bZ as Ia,b_ as rl,h$ as db,i0 as fb,b$ as pb,c0 as mb,c2 as Ir,c1 as pi,bY as al,c3 as ol,c4 as hb,bV as gb,i1 as il,bW as yb,c5 as bb,bU as vb,l as le,h as Be,i2 as xb,i3 as Ri,bK as zn,cc as _b,p as Cb,cm as wb,cX as Tb,dq as Wl,em as wn,dD as $t,cV as Ai,cr as Pr,cs as zr,i4 as Vl,d9 as $i,ct as Pn,i5 as Zl,D as jb,C as Mb,bJ as Pe,bA as Hl,eD as Fb,eE as kb,M as sl,N as Rb,O as Ab,Q as $b,R as Sb,U as Nb,V as Lb,W as Ib,X as Eb,Y as Ob,Z as Db,_ as qb,$ as Pb,a0 as zb,a1 as Ub,a2 as Bb,a3 as Wb,a4 as Vb,a5 as Zb,a6 as Hb,a7 as Gb,a8 as Kb,a9 as Yb,aa as Jb,v as Gl,ab as Xb,ac as Qb,ad as ev,ae as tv,m as nv,af as rv,ag as av,ah as ov,ai as iv,ak as sv,al as uv,am as lv,an as cv,ao as dv,ap as fv,A as pv,aq as mv,ar as mi,as as Kl,at as Yl,au as Jl,av as hv,aw as gv,ax as yv,ay as bv,az as vv,aA as xv,aB as Xl,aC as Ql,aD as ec,aE as _v,aF as Cv,aG as wv,aH as Tv,aI as jv,aJ as Mv,aK as Fv,aL as kv,aM as Rv,aN as Av,aO as $v,aP as Sv,aQ as Nv,aR as Lv,aS as Iv,aT as Ev,aU as Ov,aV as Dv,aW as qv,aX as Pv,aY as zv,aZ as Uv,a_ as Bv,a$ as Wv,F as tc,b0 as Vv,b1 as Zv,b2 as Hv,b3 as Gv,b4 as Kv,b5 as Yv,b6 as Jv,b7 as Xv,b8 as Qv,b9 as ex,ba as tx,bb as nx,bc as rx,bd as ax,be as ox,bf as ix,bg as sx,bh as ux,bi as lx,bj as cx,bk as dx,bl as fx,bm as px,bn as mx,bo as hx,bp as gx,bq as yx,br as bx,bs as vx,bt as xx,bu as _x,bv as Cx,bw as wx,bx as Tx,by as jx,bz as Mx,bB as Fx,bC as kx,bD as Rx,bE as Ax,t as $x,I as ul,cW as Sx,n as Nx,da as Lx,i6 as nc,hF as Pa,gh as Ix,d4 as rc,e8 as Ex,gg as Ox,i7 as Dx,e7 as qx,ge as Px,K as Ha,ep as Da,i8 as ze,ff as zx,i9 as Ux,hc as Bx,hA as Wx,ia as Vx,ib as Zx,ic as Hx,fR as Y,id as Si,bO as Gx,bP as Kx,ie as ac,ig as Yx,ih as oc,ii as Jx,hw as Xx,hx as Qx,hy as e0,ij as t0,ik as Er,il as n0,dg as qt,cO as qr,cC as Te,cD as je,im as hi,cB as Re,fN as r0,cM as ll,io as qa,ip as ic,iq as sc,ir as a0,J as uc,is as o0,cf as i0,eg as lc,h4 as s0,it as u0,iu as l0,hk as cc,iv as dc,iw as c0,dd as fc,et as d0,cj as f0,ck as p0,ce as cl,e4 as m0,ix as at,iy as h0,cl as g0,d as gi,iz as y0,iA as b0,L as v0,bQ as x0,bR as dl,bS as _0}from"./strapi-y0akA7lV.js";import{g as C0}from"./groupBy-D3UMkOFU.js";import{f as w0}from"./index-D-dOmonc.js";import{_ as T0}from"./_arrayIncludesWith-BNzMLSv9.js";import{s as j0}from"./sortBy-DtDgK6J3.js";const C=a=>`${Qe}.${a}`,pc=he.createContext(),Tn=()=>he.useContext(pc),mc=he.createContext(),lr=()=>he.useContext(mc),M0=()=>{const{components:a,componentsGroupedByCategory:s,contentTypes:u,isInDevelopmentMode:p,sortedContentTypesList:f,modifiedData:b,initialData:h}=Tn(),{toggleNotification:y}=Ba(),{formatMessage:x}=ye(),{trackUsage:M}=Wa(),[w,j]=he.useState(""),{onOpenModalCreateSchema:E,onOpenModalEditCategory:O}=lr(),{locale:S}=ye(),{startsWith:P}=Jy(S,{sensitivity:"base"}),H=Xy(S,{sensitivity:"base"}),ae=!Object.keys(u).some(de=>u[de].isTemporary===!0)&&!Object.keys(a).some(de=>a[de].isTemporary===!0)&&Va(b,h),L=()=>{ae?(M("willCreateContentType"),E({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):ce()},A=()=>{ae?(M("willCreateSingleType"),E({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):ce()},oe=()=>{ae?(M("willCreateComponent"),E({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):ce()},ce=()=>{y({type:"info",message:x({id:C("notification.info.creating.notSaved"),defaultMessage:"Please save your work before creating a new collection type or component"})})},Se=Object.entries(s).map(([de,et])=>({name:de,title:de,isEditable:p,onClickEdit(xe,ie){xe.stopPropagation(),ae?O(ie.name):ce()},links:et.map(xe=>({name:xe.uid,to:`/plugins/${Qe}/component-categories/${de}/${xe.uid}`,title:xe.schema.displayName})).sort((xe,ie)=>H.compare(xe.title,ie.title))})).sort((de,et)=>H.compare(de.title,et.title)),ee=f.filter(de=>de.visible);return{menu:[{name:"models",title:{id:`${C("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:p&&{id:`${C("button.model.create")}`,defaultMessage:"Create new collection type",onClick:L},links:ee.filter(de=>de.kind==="collectionType")},{name:"singleTypes",title:{id:`${C("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:p&&{id:`${C("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:A},links:ee.filter(de=>de.kind==="singleType")},{name:"components",title:{id:`${C("menu.section.components.name")}`,defaultMessage:"Components"},customLink:p&&{id:`${C("button.component.create")}`,defaultMessage:"Create a new component",onClick:oe},links:Se}].map(de=>{if(de.links.some(ie=>Array.isArray(ie.links))){let ie=0;return{...de,links:de.links.map(Ie=>{const Ce=Ie.links.filter(N=>P(N.title,w));return Ce.length===0?null:(ie+=Ce.length,{...Ie,links:Ce.sort((N,U)=>H.compare(N.title,U.title))})}).filter(Boolean),linksCount:ie}}const xe=de.links.filter(ie=>P(ie.title,w)).sort((ie,Ie)=>H.compare(ie.title,Ie.title));return{...de,links:xe,linksCount:xe.length}}),search:{value:w,onChange:j,clear:()=>j("")}}},F0=Pt(Dl)`
  div {
    width: inherit;
    span:nth-child(2) {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      width: inherit;
    }
  }
`,k0=()=>{const{menu:a,search:s}=M0(),{formatMessage:u}=ye(),p=u({id:C("plugin.name"),defaultMessage:"Content-Type Builder"});return l.jsxs(Qy,{"aria-label":p,children:[l.jsx(eb,{searchable:!0,value:s.value,onClear:()=>s.clear(),onChange:f=>s.onChange(f.target.value),label:p,searchLabel:u({id:"global.search",defaultMessage:"Search"})}),l.jsx(tb,{children:a.map(f=>l.jsxs(he.Fragment,{children:[l.jsx(nb,{label:u({id:f.title.id,defaultMessage:f.title.defaultMessage}),collapsable:!0,badgeLabel:f.linksCount.toString(),children:f.links.map(b=>b.links?l.jsx(rb,{label:on(b.title),children:b.links.map(h=>l.jsx(Dl,{tag:nl,to:h.to,active:h.active,isSubSectionChild:!0,children:on(u({id:h.name,defaultMessage:h.title}))},h.name))},b.name):l.jsx(F0,{tag:nl,to:b.to,active:b.active,width:"100%",children:on(u({id:b.name,defaultMessage:b.title}))},b.name))}),f.customLink&&l.jsx($e,{paddingLeft:7,children:l.jsx(ab,{onClick:f.customLink.onClick,startIcon:l.jsx(Cn,{width:"0.8rem",height:"0.8rem"}),marginTop:2,cursor:"pointer",children:u({id:f.customLink.id,defaultMessage:f.customLink.defaultMessage})})})]},f.name))})]})};var R0=Pl,A0=ob,$0=ql,S0="[object String]";function N0(a){return typeof a=="string"||!A0(a)&&$0(a)&&R0(a)==S0}var L0=N0,I0=ib,E0=I0("length"),O0=E0,hc="\\ud800-\\udfff",D0="\\u0300-\\u036f",q0="\\ufe20-\\ufe2f",P0="\\u20d0-\\u20ff",z0=D0+q0+P0,U0="\\ufe0e\\ufe0f",B0="["+hc+"]",wi="["+z0+"]",Ti="\\ud83c[\\udffb-\\udfff]",W0="(?:"+wi+"|"+Ti+")",gc="[^"+hc+"]",yc="(?:\\ud83c[\\udde6-\\uddff]){2}",bc="[\\ud800-\\udbff][\\udc00-\\udfff]",V0="\\u200d",vc=W0+"?",xc="["+U0+"]?",Z0="(?:"+V0+"(?:"+[gc,yc,bc].join("|")+")"+xc+vc+")*",H0=xc+vc+Z0,G0="(?:"+[gc+wi+"?",wi,yc,bc,B0].join("|")+")",fl=RegExp(Ti+"(?="+Ti+")|"+G0+H0,"g");function K0(a){for(var s=fl.lastIndex=0;fl.test(a);)++s;return s}var Y0=K0,J0=O0,X0=zl,Q0=Y0;function e_(a){return X0(a)?Q0(a):J0(a)}var _c=e_,t_=lb,n_=ub,r_=sb,a_=L0,o_=_c,i_="[object Map]",s_="[object Set]";function u_(a){if(a==null)return 0;if(r_(a))return a_(a)?o_(a):a.length;var s=n_(a);return s==i_||s==s_?a.size:t_(a).length}var l_=u_;const c_=Za(l_);var d_=Ul;function f_(a){return d_(a).toLowerCase()}var p_=f_;const pl=Za(p_),Cc=a=>a.kind==="collectionType"&&(a.restrictRelationsTo===null||Array.isArray(a.restrictRelationsTo)&&a.restrictRelationsTo.length>0),ji=(a,s)=>a.find(({name:u})=>u===s),m_=(a,s)=>!a||!s?{}:{[a]:s[a]},h_=a=>(a?.inner||[]).reduce((s,u)=>(u.path&&(s[u.path.split("[").join(".").split("]").join("")]={id:u.message,defaultMessage:u.message,values:m_(u?.type,u?.params)}),s),{}),g_=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],y_=({intlLabel:a,name:s,onChange:u,value:p=null})=>{const{formatMessage:f}=ye(),b=p===null||p?.length===0?f({id:"global.none",defaultMessage:"None"}):[...p].sort().map(y=>on(y)).join(", "),h=a.id?f({id:a.id,defaultMessage:a.defaultMessage}):s;return l.jsxs(re.Root,{name:s,children:[l.jsx(re.Label,{children:h}),l.jsx(Bl,{customizeContent:()=>b,onChange:y=>{y.length>0?u({target:{name:s,value:y,type:"allowed-types-select"}}):u({target:{name:s,value:null,type:"allowed-types-select"}})},options:g_,value:p||[]})]})},ml={biginteger:Ir,blocks:vb,boolean:bb,collectionType:il,component:yb,contentType:il,date:Ia,datetime:Ia,decimal:Ir,dynamiczone:gb,email:hb,enum:ol,enumeration:ol,file:pi,files:pi,float:Ir,integer:Ir,json:al,JSON:al,media:pi,number:Ir,password:mb,relation:pb,richtext:fb,singleType:db,string:rl,text:rl,time:Ia,timestamp:Ia,uid:cb},b_=Pt($e)`
  svg {
    height: 100%;
    width: 100%;
  }
`,za=({type:a,customField:s=null,...u})=>{const p=Dr("AttributeIcon",b=>b.customFields.get);let f=ml[a];if(s){const h=p(s)?.icon;h&&(f=h)}return ml[a]?l.jsx(b_,{width:"3.2rem",shrink:0,...u,"aria-hidden":!0,children:l.jsx($e,{tag:f})}):null},wc=Pt($e)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:a})=>a.colors.neutral200};
  text-align: left;
  &:hover {
    cursor: pointer;
    background: ${({theme:a})=>a.colors.primary100};
    border: 1px solid ${({theme:a})=>a.colors.primary200};
  }
`,v_=[],x_=()=>l.jsx(le,{grow:1,justifyContent:"flex-end",children:l.jsxs(le,{gap:1,hasRadius:!0,background:"alternative100",padding:"0.2rem 0.4rem",children:[l.jsx(xb,{width:"1rem",height:"1rem",fill:"alternative600"}),l.jsx(Be,{textColor:"alternative600",variant:"sigma",children:"New"})]})}),__=({type:a="text"})=>{const{formatMessage:s}=ye(),{onClickSelectField:u}=lr(),p=()=>{u({attributeType:a,step:a==="component"?"1":null})};return l.jsx(wc,{padding:4,tag:"button",hasRadius:!0,type:"button",onClick:p,children:l.jsxs(le,{children:[l.jsx(za,{type:a}),l.jsxs($e,{paddingLeft:4,width:"100%",children:[l.jsxs(le,{justifyContent:"space-between",children:[l.jsx(Be,{fontWeight:"bold",textColor:"neutral800",children:s({id:C(`attribute.${a}`),defaultMessage:a})}),v_.includes(a)&&l.jsx(x_,{})]}),l.jsx(le,{children:l.jsx(Be,{variant:"pi",textColor:"neutral600",children:s({id:C(`attribute.${a}.description`),defaultMessage:"A type for modeling data"})})})]})]})})},C_=({attributes:a})=>l.jsx(Ri,{tagName:"button",children:l.jsx(le,{direction:"column",alignItems:"stretch",gap:8,children:a.map((s,u)=>l.jsx(zn.Root,{gap:3,children:s.map(p=>l.jsx(zn.Item,{col:6,direction:"column",alignItems:"stretch",children:l.jsx(__,{type:p})},p))},u))})}),w_=({customFieldUid:a,customField:s})=>{const{type:u,intlLabel:p,intlDescription:f}=s,{formatMessage:b}=ye(),{onClickSelectCustomField:h}=lr(),y=()=>{h({attributeType:u,customFieldUid:a})};return l.jsx(wc,{padding:4,tag:"button",hasRadius:!0,type:"button",onClick:y,children:l.jsxs(le,{children:[l.jsx(za,{type:u,customField:a}),l.jsxs($e,{paddingLeft:4,children:[l.jsx(le,{children:l.jsx(Be,{fontWeight:"bold",textColor:"neutral800",children:b(p)})}),l.jsx(le,{children:l.jsx(Be,{variant:"pi",textColor:"neutral600",children:b(f)})})]})]})})},T_=Pt($e)`
  background: ${({theme:a})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${a.colors.neutral150} 100%)`};
  opacity: 0.33;
`,j_=()=>l.jsx(le,{wrap:"wrap",gap:4,children:[...Array(4)].map((a,s)=>l.jsx(T_,{height:"138px",width:"375px",hasRadius:!0},`empty-card-${s}`))}),M_=()=>{const{formatMessage:a}=ye();return l.jsxs($e,{position:"relative",children:[l.jsx(j_,{}),l.jsx($e,{position:"absolute",top:6,width:"100%",children:l.jsxs(le,{alignItems:"center",justifyContent:"center",direction:"column",children:[l.jsx(_b,{width:"160px",height:"88px"}),l.jsx($e,{paddingTop:6,paddingBottom:4,children:l.jsxs($e,{textAlign:"center",children:[l.jsx(Be,{variant:"delta",tag:"p",textColor:"neutral600",children:a({id:C("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})}),l.jsx($e,{paddingTop:4,children:l.jsx(Be,{variant:"delta",tag:"p",textColor:"neutral600",children:a({id:C("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."})})})]})}),l.jsx(Cb,{tag:Tb,to:`/marketplace?${wb.stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:l.jsx(Cn,{}),children:a({id:C("modalForm.empty.button"),defaultMessage:"Add custom fields"})})]})})]})},F_=()=>{const{formatMessage:a}=ye(),s=Dr("CustomFieldsList",f=>f.customFields.getAll),u=Object.entries(s());if(!u.length)return l.jsx(M_,{});const p=u.sort((f,b)=>f[1].name>b[1].name?1:-1);return l.jsx(Ri,{tagName:"button",children:l.jsxs(le,{direction:"column",alignItems:"stretch",gap:3,children:[l.jsx(zn.Root,{gap:3,children:p.map(([f,b])=>l.jsx(zn.Item,{col:6,direction:"column",alignItems:"stretch",children:l.jsx(w_,{customFieldUid:f,customField:b},f)},f))}),l.jsx(Wl,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0,children:a({id:C("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"})})]})})},k_=({attributes:a,forTarget:s,kind:u})=>{const{formatMessage:p}=ye(),f=C("modalForm.tabs.default"),b=C("modalForm.tabs.custom"),h=s.includes("component")?"component":u,y=C(`modalForm.sub-header.chooseAttribute.${h}`);return l.jsx(wn.Body,{children:l.jsxs($t.Root,{variant:"simple",defaultValue:"default",children:[l.jsxs(le,{justifyContent:"space-between",children:[l.jsx(Be,{variant:"beta",tag:"h2",children:p({id:y,defaultMessage:"Select a field"})}),l.jsxs($t.List,{children:[l.jsx($t.Trigger,{value:"default",children:p({id:f,defaultMessage:"Default"})}),l.jsx($t.Trigger,{value:"custom",children:p({id:b,defaultMessage:"Custom"})})]})]}),l.jsx(Ai,{marginBottom:6}),l.jsx($t.Content,{value:"default",children:l.jsx(C_,{attributes:a})}),l.jsx($t.Content,{value:"custom",children:l.jsx(F_,{})})]})})},R_=({intlLabel:a,name:s,options:u,onChange:p,value:f=null})=>{const{formatMessage:b}=ye(),h=a.id?b({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):s,y=x=>{let M="";x==="true"&&(M=!0),x==="false"&&(M=!1),p({target:{name:s,value:M,type:"select-default-boolean"}})};return l.jsxs(re.Root,{name:s,children:[l.jsx(re.Label,{children:h}),l.jsx(Pr,{onChange:y,value:(f===null?"":f).toString(),children:u.map(({metadatas:{intlLabel:x,disabled:M,hidden:w},key:j,value:E})=>l.jsx(zr,{value:E,disabled:M,hidden:w,children:x.defaultMessage},j))})]})},A_=Pt(le)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    border-radius: 4px;
    border: 1px solid ${({theme:a})=>a.colors.neutral200};

    ${Vl()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    will-change: transform, opacity;
    background: ${({theme:a})=>a.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:a})=>a.colors.neutral0};
      width: ${({theme:a})=>a.spaces[5]};
      height: ${({theme:a})=>a.spaces[5]};
      border: solid 1px ${({theme:a})=>a.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:a})=>a.spaces[3]};
        height: ${({theme:a})=>a.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:a})=>a.colors.primary100};
    color: ${({theme:a})=>a.colors.primary600};
    .checkmark {
      border: solid 1px ${({theme:a})=>a.colors.primary600};
      &::after {
        background: ${({theme:a})=>a.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,Ni=({intlLabel:a,name:s,onChange:u,radios:p=[],value:f})=>{const{formatMessage:b}=ye();return l.jsxs(le,{direction:"column",alignItems:"stretch",gap:2,children:[l.jsx(Be,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:s,tag:"label",children:b(a)}),l.jsx(A_,{gap:4,alignItems:"stretch",children:p.map(h=>l.jsxs("label",{htmlFor:h.value.toString(),className:"container",children:[l.jsx("input",{id:h.value.toString(),name:s,className:"option-input",checked:h.value===f,value:h.value,onChange:u,type:"radio"},h.value),l.jsx($e,{className:"option",padding:4,children:l.jsxs(le,{children:[l.jsx($e,{paddingRight:4,children:l.jsx("span",{className:"checkmark"})}),l.jsxs(le,{direction:"column",alignItems:"stretch",gap:2,children:[l.jsx(Be,{fontWeight:"bold",children:b(h.title)}),l.jsx(Be,{variant:"pi",textColor:"neutral600",children:b(h.description)})]})]})})]},h.value))})]})},$_=({onChange:a,name:s,intlLabel:u,...p})=>{const f=b=>{const h=b.target.value!=="false";a({target:{name:s,value:h,type:"boolean-radio-group"}})};return l.jsx(Ni,{...p,name:s,onChange:f,intlLabel:u})},S_=({error:a,intlLabel:s,modifiedData:u,name:p,onChange:f,value:b=null})=>{const{formatMessage:h}=ye(),y=s.id?h({id:s.id,defaultMessage:s.defaultMessage},{...s.values}):p,x=u.type==="biginteger"?"text":"number",M=!u.type,w=a?h({id:a,defaultMessage:a}):"";return l.jsxs(le,{direction:"column",alignItems:"stretch",gap:2,children:[l.jsx($i,{id:p,name:p,onCheckedChange:j=>{f({target:{name:p,value:j?x==="text"?"0":0:null}})},checked:b!==null,children:y}),b!==null&&l.jsx($e,{paddingLeft:6,style:{maxWidth:"200px"},children:x==="text"?l.jsxs(re.Root,{error:w,name:p,children:[l.jsx(Pn,{"aria-label":y,disabled:M,onChange:f,value:b===null?"":b}),l.jsx(re.Error,{})]}):l.jsxs(re.Root,{error:w,name:p,children:[l.jsx(Zl,{"aria-label":y,disabled:M,onValueChange:j=>{f({target:{name:p,value:j??0,type:x}})},value:b||0}),l.jsx(re.Error,{})]})})]})},N_=({onChange:a,...s})=>{const{formatMessage:u}=ye(),{toggleNotification:p}=Ba(),f=b=>{p({type:"info",message:u({id:C("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."})}),a(b)};return l.jsx(Ni,{...s,onChange:f})},L_=({description:a,disabled:s=!1,intlLabel:u,isCreating:p,name:f,onChange:b,value:h=!1})=>{const{formatMessage:y}=ye(),[x,M]=he.useState(!1),w=u.id?y({id:u.id,defaultMessage:u.defaultMessage},{...u.values}):f,j=a?y({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):"",E=()=>{b({target:{name:f,value:!1}}),M(!1)},O=S=>{if(!S&&!p){M(!0);return}b({target:{name:f,value:!!S}})};return l.jsxs(l.Fragment,{children:[l.jsxs(re.Root,{hint:j,name:f,children:[l.jsx($i,{checked:h,disabled:s,onCheckedChange:O,children:w}),l.jsx(re.Hint,{})]}),l.jsx(jb.Root,{open:x,onOpenChange:S=>M(S),children:l.jsx(Mb,{endAction:l.jsx(Pe,{onClick:E,variant:"danger",width:"100%",justifyContent:"center",children:y({id:C("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"})}),children:y({id:C("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."})})})]})},I_=({categoryName:a,deleteCategory:s,deleteComponent:u,deleteContentType:p,isAttributeModal:f,isCustomFieldModal:b,isComponentAttribute:h,isComponentToDzModal:y,isContentTypeModal:x,isCreatingComponent:M,isCreatingComponentAttribute:w,isCreatingComponentInDz:j,isCreatingComponentWhileAddingAField:E,isCreatingContentType:O,isCreatingDz:S,isComponentModal:P,isDzAttribute:H,isEditingAttribute:ae,isEditingCategory:L,isInFirstComponentStep:A,onSubmitAddComponentAttribute:oe,onSubmitAddComponentToDz:ce,onSubmitCreateContentType:Se,onSubmitCreateComponent:ee,onSubmitCreateDz:Ae,onSubmitEditAttribute:de,onSubmitEditCategory:et,onSubmitEditComponent:xe,onSubmitEditContentType:ie,onSubmitEditCustomFieldAttribute:Ie,onSubmitEditDz:Ce,onClickFinish:N})=>{const{formatMessage:U}=ye();return y?j?l.jsx(Pe,{variant:"secondary",type:"submit",onClick:D=>{D.preventDefault(),ce(D,!0)},startIcon:l.jsx(Cn,{}),children:U({id:C("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})}):l.jsx(Pe,{variant:"default",type:"submit",onClick:D=>{D.preventDefault(),ce(D,!1)},children:U({id:"global.finish",defaultMessage:"Finish"})}):f&&H&&!S?l.jsx(Pe,{variant:"default",type:"submit",onClick:D=>{D.preventDefault(),N(),Ce(D,!1)},children:U({id:"global.finish",defaultMessage:"Finish"})}):f&&H&&S?l.jsx(l.Fragment,{children:l.jsx(Pe,{variant:"secondary",type:"submit",onClick:D=>{D.preventDefault(),Ae(D,!0)},startIcon:l.jsx(Cn,{}),children:U({id:C("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"})})}):f&&h?A?l.jsx(Pe,{variant:"secondary",type:"submit",onClick:D=>{D.preventDefault(),oe(D,!0)},children:U(w?{id:C("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:C("form.button.select-component"),defaultMessage:"Configure the component"})}):l.jsxs(le,{gap:2,children:[l.jsx(Pe,{variant:"secondary",type:"submit",onClick:D=>{D.preventDefault(),oe(D,!0)},startIcon:l.jsx(Cn,{}),children:U(E?{id:C("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:C("form.button.add-field"),defaultMessage:"Add another field"})}),l.jsx(Pe,{variant:"default",type:"button",onClick:D=>{D.preventDefault(),N(),oe(D,!1)},children:U({id:"global.finish",defaultMessage:"Finish"})})]}):f&&!h&&!H?l.jsxs(le,{gap:2,children:[l.jsx(Pe,{type:ae?"button":"submit",variant:"secondary",onClick:D=>{D.preventDefault(),de(D,!0)},startIcon:l.jsx(Cn,{}),children:U({id:C("form.button.add-field"),defaultMessage:"Add another field"})}),l.jsx(Pe,{type:ae?"submit":"button",variant:"default",onClick:D=>{D.preventDefault(),N(),de(D,!1)},children:U({id:"global.finish",defaultMessage:"Finish"})})]}):x?l.jsxs(le,{gap:2,children:[!O&&l.jsxs(l.Fragment,{children:[l.jsx(Pe,{type:"button",variant:"danger",onClick:D=>{D.preventDefault(),p()},children:U({id:"global.delete",defaultMessage:"Delete"})}),l.jsx(Pe,{type:"submit",variant:"default",onClick:D=>{D.preventDefault(),ie(D,!1)},children:U({id:"global.finish",defaultMessage:"Finish"})})]}),O&&l.jsx(Pe,{type:"submit",variant:"secondary",onClick:D=>{D.preventDefault(),Se(D,!0)},children:U({id:"global.continue",defaultMessage:"Continue"})})]}):P?l.jsxs(le,{gap:2,children:[!M&&l.jsxs(l.Fragment,{children:[l.jsx(Pe,{type:"button",variant:"danger",onClick:D=>{D.preventDefault(),u()},children:U({id:"global.delete",defaultMessage:"Delete"})}),l.jsx(Pe,{type:"submit",variant:"default",onClick:D=>{D.preventDefault(),xe(D,!1)},children:U({id:"global.finish",defaultMessage:"Finish"})})]}),M&&l.jsx(Pe,{type:"submit",variant:"secondary",onClick:D=>{D.preventDefault(),ee(D,!0)},children:U({id:"global.continue",defaultMessage:"Continue"})})]}):L?l.jsxs(le,{gap:2,children:[l.jsx(Pe,{type:"button",variant:"danger",onClick:D=>{D.preventDefault(),a&&s(a)},children:U({id:"global.delete",defaultMessage:"Delete"})}),l.jsx(Pe,{type:"submit",variant:"default",onClick:D=>{D.preventDefault(),et(D)},children:U({id:"global.finish",defaultMessage:"finish"})})]}):b?l.jsxs(le,{gap:2,children:[l.jsx(Pe,{type:ae?"button":"submit",variant:"secondary",onClick:D=>{D.preventDefault(),Ie(D,!0)},startIcon:l.jsx(Cn,{}),children:U({id:C("form.button.add-field"),defaultMessage:"Add another field"})}),l.jsx(Pe,{type:ae?"submit":"button",variant:"default",onClick:D=>{D.preventDefault(),N(),Ie(D,!1)},children:U({id:"global.finish",defaultMessage:"Finish"})})]}):null},E_=({actionType:a=null,attributeName:s,attributeType:u,categoryName:p,contentTypeKind:f,dynamicZoneTarget:b,forTarget:h,modalType:y=null,targetUid:x,customFieldUid:M=null,showBackLink:w=!1})=>{const{formatMessage:j}=ye(),{modifiedData:E}=Tn(),{onOpenModalAddField:O}=lr();let S="component",P=[];const H=E?.[h]?.[x]||E?.[h]||null,ae=H?.schema.displayName;if(y==="contentType"&&(S=f),["component","editCategory"].includes(y||"")&&(S="component"),["component","contentType"].includes(y||"")){let A=C(`modalForm.component.header-${a}`);return y==="contentType"&&(A=C(`modalForm.${f}.header-create`)),a==="edit"&&(A=C("modalForm.header-edit")),l.jsx(wn.Header,{children:l.jsxs(le,{children:[l.jsx($e,{children:l.jsx(za,{type:S})}),l.jsx($e,{paddingLeft:3,children:l.jsx(wn.Title,{children:j({id:A},{name:ae})})})]})})}return P=[{label:ae,info:{category:H?.category||null,name:H?.schema.displayName}}],y==="chooseAttribute"&&(S=["component","components"].includes(h)?"component":H.schema.kind),y==="addComponentToDynamicZone"&&(S="dynamiczone",P.push({label:b})),(y==="attribute"||y==="customField")&&(S=u,P.push({label:s})),y==="editCategory"&&(P=[{label:j({id:C("modalForm.header.categories"),defaultMessage:"Categories"})},{label:p}]),l.jsx(wn.Header,{children:l.jsxs(le,{gap:3,children:[w&&l.jsx(Wl,{"aria-label":j({id:C("modalForm.header.back"),defaultMessage:"Back"}),startIcon:l.jsx(Hl,{}),onClick:()=>O({forTarget:h,targetUid:x}),href:"#back",isExternal:!1}),l.jsx(za,{type:S,customField:M}),l.jsx(Fb,{label:P.map(({label:A})=>A).join(","),children:P.map(({label:A,info:oe},ce,Se)=>{if(A=on(A),!A)return null;const ee=`${A}.${ce}`;return oe?.category&&(A=`${A} (${on(oe.category)} - ${on(oe.name)})`),l.jsx(kb,{isCurrent:ce===Se.length-1,children:A},ee)})})]})})},O_=({modalType:a,forTarget:s,kind:u,actionType:p,step:f})=>{switch(a){case"chooseAttribute":return C(`modalForm.sub-header.chooseAttribute.${s?.includes("component")?"component":u||"collectionType"}`);case"attribute":return C(`modalForm.sub-header.attribute.${p}${f!=="null"&&f!==null&&p!=="edit"?".step":""}`);case"customField":return C(`modalForm.sub-header.attribute.${p}`);case"addComponentToDynamicZone":return C("modalForm.sub-header.addComponentToDynamicZone");default:return C("configurations")}},D_=({actionType:a,modalType:s,forTarget:u,kind:p,step:f,attributeType:b,attributeName:h,customField:y})=>{const{formatMessage:x}=ye(),M=s==="customField"?y?.intlLabel:{id:C(`attribute.${b}`)};return l.jsxs(le,{direction:"column",alignItems:"flex-start",paddingBottom:1,gap:1,children:[l.jsx(Be,{tag:"h2",variant:"beta",children:x({id:O_({actionType:a,forTarget:u,kind:p,step:f,modalType:s}),defaultMessage:"Add new field"},{type:M?on(x(M)):"",name:on(h),step:f})}),l.jsx(Be,{variant:"pi",textColor:"neutral600",children:x({id:C(`attribute.${b}.description`),defaultMessage:"A type for modeling data"})})]})},Tc={alien:Ax,apps:Rx,archive:kx,arrowDown:Fx,arrowLeft:Hl,arrowRight:Mx,arrowUp:jx,attachment:Tx,bell:wx,bold:Cx,book:_x,briefcase:xx,brush:mi,bulletList:vx,calendar:bx,car:yx,cast:gx,chartBubble:hx,chartCircle:mx,chartPie:px,check:fx,clock:dx,cloud:cx,code:lx,cog:ux,collapse:sx,command:ix,connector:ox,crop:ax,crown:rx,cup:nx,cursor:tx,dashboard:ex,database:Qv,discuss:Xv,doctor:Jv,earth:Yv,emotionHappy:Kv,emotionUnhappy:Gv,envelop:Hv,exit:Zv,expand:Vv,eye:tc,feather:sl,file:Wv,fileError:Bv,filePdf:Uv,filter:zv,folder:Pv,gate:qv,gift:Dv,globe:Ov,grid:Ev,handHeart:Iv,hashtag:Lv,headphone:Nv,heart:Sv,house:$v,information:Av,italic:Rv,key:kv,landscape:Fv,layer:Mv,layout:jv,lightbulb:Tv,link:wv,lock:Cv,magic:_v,manyToMany:ec,manyToOne:Ql,manyWays:Xl,medium:xv,message:vv,microphone:bv,monitor:yv,moon:gv,music:hv,oneToMany:Jl,oneToOne:Yl,oneWay:Kl,paint:mi,paintBrush:mi,paperPlane:mv,pencil:pv,phone:fv,picture:dv,pin:cv,pinMap:lv,plane:uv,play:sv,plus:Cn,priceTag:iv,puzzle:ov,question:av,quote:rv,refresh:nv,restaurant:tv,rocket:ev,rotate:Qb,scissors:Xb,search:Gl,seed:Jb,server:Yb,shield:Kb,shirt:Gb,shoppingCart:Hb,slideshow:Zb,stack:Vb,star:Wb,store:Bb,strikeThrough:Ub,sun:zb,television:Pb,thumbDown:qb,thumbUp:Db,train:Ob,twitter:Eb,typhoon:Ib,underline:Lb,user:Nb,volumeMute:Sb,volumeUp:$b,walk:Ab,wheelchair:Rb,write:sl},q_=Pt(le)`
  label {
    ${Vl()}
    border-radius: ${({theme:a})=>a.borderRadius};
    border: 1px solid ${({theme:a})=>a.colors.neutral100};
  }
`,P_=({iconKey:a,name:s,onChange:u,isSelected:p,ariaLabel:f})=>{const b=Tc[a];return l.jsx(re.Root,{name:s,required:!1,children:l.jsxs(re.Label,{children:[l.jsxs(Lx,{children:[f,l.jsx(re.Input,{type:"radio",checked:p,onChange:u,value:a,"aria-checked":p})]}),l.jsx(le,{padding:2,cursor:"pointer",hasRadius:!0,background:p?"primary200":void 0,children:l.jsx(b,{fill:p?"primary600":"neutral300"})})]})})},z_=({intlLabel:a,name:s,onChange:u,value:p=""})=>{const{formatMessage:f}=ye(),[b,h]=he.useState(!1),[y,x]=he.useState(""),M=Object.keys(Tc),[w,j]=he.useState(M),E=he.useRef(null),O=he.useRef(null),S=()=>{h(!b)},P=({target:{value:L}})=>{x(L),j(()=>M.filter(A=>A.toLowerCase().includes(L.toLowerCase())))},H=()=>{S(),x(""),j(M)},ae=()=>{u({target:{name:s,value:""}})};return he.useEffect(()=>{b&&O.current?.focus()},[b]),l.jsxs(l.Fragment,{children:[l.jsxs(le,{justifyContent:"space-between",paddingBottom:2,children:[l.jsx(Be,{variant:"pi",fontWeight:"bold",textColor:"neutral800",tag:"label",children:f(a)}),l.jsxs(le,{gap:1,children:[b?l.jsx($x,{ref:O,name:"searchbar",placeholder:f({id:C("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{y||S()},onChange:P,value:y,onClear:H,clearLabel:f({id:C("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"}),children:f({id:C("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})}):l.jsx(ul,{ref:E,onClick:S,withTooltip:!1,label:f({id:C("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),variant:"ghost",children:l.jsx(Gl,{})}),p&&l.jsx(Sx,{label:f({id:C("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"}),children:l.jsx(ul,{onClick:ae,withTooltip:!1,label:f({id:C("IconPicker.remove.button"),defaultMessage:"Remove the selected icon"}),variant:"ghost",children:l.jsx(Nx,{})})})]})]}),l.jsx(q_,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center",children:w.length>0?w.map(L=>l.jsx(P_,{iconKey:L,name:s,onChange:u,isSelected:L===p,ariaLabel:f({id:C("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:L})},L)):l.jsx($e,{padding:4,grow:2,children:l.jsx(Be,{variant:"delta",textColor:"neutral600",textAlign:"center",children:f({id:C("IconPicker.emptyState.label"),defaultMessage:"No icon found"})})})})]})},U_=({description:a,error:s,intlLabel:u,modifiedData:p,name:f,onChange:b,value:h})=>{const{formatMessage:y}=ye(),x=he.useRef(b),M=p?.displayName||"";he.useEffect(()=>{if(M){const O=nc(M);try{const S=Pa(O,2);x.current({target:{name:f,value:S}})}catch{x.current({target:{name:f,value:O}})}}else x.current({target:{name:f,value:""}})},[M,f]);const w=s?y({id:s,defaultMessage:s}):"",j=a?y({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):"",E=y(u);return l.jsxs(re.Root,{error:w,hint:j,name:f,children:[l.jsx(re.Label,{children:E}),l.jsx(Pn,{onChange:b,value:h||""}),l.jsx(re.Error,{})]})},hl=a=>{if(a instanceof Date&&gl(a))return a;if(typeof a=="string"||typeof a=="number"){const s=new Date(a);if(gl(s))return s}},gl=a=>!isNaN(a.getTime()),B_=a=>{const[s,u]=a.split(":");return`${s}:${u}`},W_=a=>a.split(":").length===2?`${a}:00.000`:a,V_=a=>{if(a)return a.split(":").length>2?B_(a):a},Z_=a=>{if(a)return W_(a)},H_=({value:a})=>V_(a),yl=(a,s,u,p)=>{const f=Z_(p);a({target:{name:s,value:f,type:u}})},G_=({autoComplete:a,customInputs:s,description:u,disabled:p,intlLabel:f,labelAction:b,error:h,name:y,onChange:x,options:M=[],placeholder:w,required:j,step:E,type:O,value:S,isNullable:P,attribute:H,...ae})=>{const{formatMessage:L}=ye(),A=(N,U)=>{if(N&&(U==="minLength"&&U in N||U==="maxLength"&&U in N||U==="max"&&U in N||U==="min"&&U in N))return N[U]},{hint:oe}=K_({description:u,fieldSchema:{minLength:A(H,"minLength"),maxLength:A(H,"maxLength"),max:A(H,"max"),min:A(H,"min")},type:H?.type||O}),[ce,Se]=he.useState(!1),ee=s?s[O]:null,Ae=S??void 0,de=Ae??"";function et(N){if(!N)return null;if(typeof N=="string")return L({id:N,defaultMessage:N});const U={...N.values};return L({id:N.id,defaultMessage:N?.defaultMessage??N.id},U)}const xe=et(h)??void 0;if(ee)return l.jsx(ee,{...ae,attribute:H,description:u,hint:oe,disabled:p,intlLabel:f,labelAction:b,error:xe||"",name:y,onChange:x,options:M,required:j,placeholder:w,type:O,value:Ae});const ie=f.id?L({id:f.id,defaultMessage:f.defaultMessage},{...f.values}):y,Ie=w?L({id:w.id,defaultMessage:w.defaultMessage},{...w.values}):"",Ce=()=>{switch(O){case"json":return l.jsx(Px,{value:Ae,disabled:p,onChange:N=>{const U=H&&"required"in H&&!H?.required&&!N.length?null:N;x({target:{name:y,value:U}},!1)},minHeight:"25.2rem",maxHeight:"50.4rem"});case"bool":return l.jsx(qx,{checked:S===null?null:S||!1,disabled:p,offLabel:L({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"False"}),onLabel:L({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"True"}),onChange:N=>{x({target:{name:y,value:N.target.checked}})}});case"checkbox":return l.jsx($i,{disabled:p,onCheckedChange:N=>{x({target:{name:y,value:N}})},checked:!!Ae,children:ie});case"datetime":{const N=hl(Ae);return l.jsx(Dx,{clearLabel:L({id:"clearLabel",defaultMessage:"Clear"}),disabled:p,onChange:U=>{const D=U?U.toISOString():null;x({target:{name:y,value:D,type:O}})},onClear:()=>x({target:{name:y,value:null,type:O}}),placeholder:Ie,value:N})}case"date":{const N=hl(Ae);return l.jsx(Ox,{clearLabel:L({id:"clearLabel",defaultMessage:"Clear"}),disabled:p,onChange:U=>{x({target:{name:y,value:U?w0(U,{representation:"date"}):null,type:O}})},onClear:()=>x({target:{name:y,value:null,type:O}}),placeholder:Ie,value:N})}case"number":return l.jsx(Zl,{disabled:p,onValueChange:N=>{x({target:{name:y,value:N,type:O}})},placeholder:Ie,step:E,value:Ae});case"email":return l.jsx(Pn,{autoComplete:a,disabled:p,onChange:N=>{x({target:{name:y,value:N.target.value,type:O}})},placeholder:Ie,type:"email",value:de});case"timestamp":case"text":case"string":return l.jsx(Pn,{autoComplete:a,disabled:p,onChange:N=>{x({target:{name:y,value:N.target.value,type:O}})},placeholder:Ie,type:"text",value:de});case"password":return l.jsx(Pn,{autoComplete:a,disabled:p,endAction:l.jsx("button",{"aria-label":L({id:"Auth.form.password.show-password",defaultMessage:"Show password"}),onClick:()=>{Se(N=>!N)},style:{border:"none",padding:0,background:"transparent"},type:"button",children:ce?l.jsx(tc,{fill:"neutral500"}):l.jsx(Ex,{fill:"neutral500"})}),onChange:N=>{x({target:{name:y,value:N.target.value,type:O}})},placeholder:Ie,type:ce?"text":"password",value:de});case"select":return l.jsx(Pr,{disabled:p,onChange:N=>{x({target:{name:y,value:N,type:"select"}})},placeholder:Ie,value:Ae,children:M.map(({metadatas:{intlLabel:N,disabled:U,hidden:D},key:sn,value:un})=>l.jsx(zr,{value:un,disabled:U,hidden:D,children:L(N)},sn))});case"textarea":return l.jsx(rc,{disabled:p,onChange:N=>x({target:{name:y,value:N.target.value,type:O}}),placeholder:Ie,value:de});case"time":{const N=H_({value:Ae});return l.jsx(Ix,{clearLabel:L({id:"clearLabel",defaultMessage:"Clear"}),disabled:p,onChange:U=>yl(x,y,O,U),onClear:()=>yl(x,y,O,void 0),value:N})}default:return l.jsx(Pn,{disabled:!0,placeholder:"Not supported",type:"text",value:""})}};return l.jsxs(re.Root,{error:xe,name:y,hint:oe,required:j,children:[O!=="checkbox"?l.jsx(re.Label,{action:b,children:ie}):null,Ce(),l.jsx(re.Error,{}),l.jsx(re.Hint,{})]})},K_=({description:a,fieldSchema:s,type:u})=>{const{formatMessage:p}=ye(),f=()=>a?.id?p({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):"";return{hint:(()=>{const{maximum:h,minimum:y}=J_(s),x=Y_({type:u,minimum:y,maximum:h}),M=typeof y=="number",w=typeof h=="number",j=w&&M,E=w||M;return!a?.id&&!E?"":p({id:"content-manager.form.Input.hint.text",defaultMessage:"{min, select, undefined {} other {min. {min}}}{divider}{max, select, undefined {} other {max. {max}}}{unit}{br}{description}"},{min:y,max:h,description:f(),unit:x?.message&&E?p(x.message,x.values):null,divider:j?p({id:"content-manager.form.Input.hint.minMaxDivider",defaultMessage:" / "}):null,br:E?l.jsx("br",{}):null})})()}},Y_=({type:a,minimum:s,maximum:u})=>{if(a&&["biginteger","integer","number"].includes(a))return{};const p=Math.max(s||0,u||0);return{message:{id:"content-manager.form.Input.hint.character.unit",defaultMessage:"{maxValue, plural, one { character} other { characters}}"},values:{maxValue:p}}},J_=a=>{if(!a)return{maximum:void 0,minimum:void 0};const{minLength:s,maxLength:u,max:p,min:f}=a;let b,h;const y=Number(f),x=Number(s);Number.isNaN(y)?Number.isNaN(x)||(b=x):b=y;const M=Number(p),w=Number(u);return Number.isNaN(M)?Number.isNaN(w)||(h=w):h=M,{maximum:h,minimum:b}},jc=he.memo(G_,Va),X_=({oneThatIsCreatingARelationWithAnother:a,target:s})=>{const{contentTypes:u,sortedContentTypesList:p}=Tn(),f=Ha(),b=p.filter(Cc),{plugin:h=null,schema:{displayName:y}={displayName:"error"}}=u?.[s]??{},x=({uid:M,plugin:w,title:j,restrictRelationsTo:E})=>()=>{const O=w?`${w}_${j}`:j;f(ze.onChangeRelationTarget({target:{value:M,oneThatIsCreatingARelationWithAnother:a,selectedContentTypeFriendlyName:O,targetContentTypeAllowedRelations:E}}))};return l.jsxs(Da.Root,{children:[l.jsx(Q_,{children:`${y} ${h?`(from: ${h})`:""}`}),l.jsx(Da.Content,{zIndex:"popover",children:b.map(({uid:M,title:w,restrictRelationsTo:j,plugin:E})=>l.jsxs(Da.Item,{onSelect:x({uid:M,plugin:E,title:w,restrictRelationsTo:j}),children:[w," ",E&&l.jsxs(l.Fragment,{children:["(from: ",E,")"]})]},M))})]})},Q_=Pt(Da.Trigger)`
  max-width: 16.8rem;
  span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
`,bl=({disabled:a=!1,error:s,header:u,isMain:p=!1,name:f,onChange:b,oneThatIsCreatingARelationWithAnother:h="",target:y="",value:x=""})=>l.jsxs($e,{background:"neutral100",hasRadius:!0,borderColor:"neutral200",children:[l.jsx(le,{paddingTop:p?4:1,paddingBottom:p?3:1,justifyContent:"center",children:p?l.jsx(Be,{variant:"pi",fontWeight:"bold",textColor:"neutral800",children:u}):l.jsx(X_,{target:y,oneThatIsCreatingARelationWithAnother:h})}),l.jsx(Ai,{background:"neutral200"}),l.jsx($e,{padding:4,children:l.jsx(jc,{disabled:a,error:s?.id||null,intlLabel:{id:C("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:f,onChange:b,type:"text",value:x})})]});var e1=Pl,t1=ql,n1="[object RegExp]";function r1(a){return t1(a)&&e1(a)==n1}var a1=r1,o1=a1,i1=zx,vl=Ux,xl=vl&&vl.isRegExp,s1=xl?i1(xl):o1,u1=s1,_l=Vx,l1=Hx,c1=zl,d1=Bx,f1=u1,p1=_c,m1=Zx,h1=Wx,Cl=Ul,g1=30,y1="...",b1=/\w*$/;function v1(a,s){var u=g1,p=y1;if(d1(s)){var f="separator"in s?s.separator:f;u="length"in s?h1(s.length):u,p="omission"in s?_l(s.omission):p}a=Cl(a);var b=a.length;if(c1(a)){var h=m1(a);b=h.length}if(u>=b)return a;var y=u-p1(p);if(y<1)return p;var x=h?l1(h,0,y).join(""):a.slice(0,y);if(f===void 0)return x+p;if(h&&(y+=x.length-y),f1(f)){if(a.slice(y).search(f)){var M,w=x;for(f.global||(f=RegExp(f.source,Cl(b1.exec(f))+"g")),f.lastIndex=0;M=f.exec(w);)var j=M.index;x=x.slice(0,j===void 0?y:j)}}else if(a.indexOf(_l(f),y)!=y){var E=x.lastIndexOf(f);E>-1&&(x=x.slice(0,E))}return x+p}var x1=v1;const wl=Za(x1),_1=Pt($e)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:a})=>a.colors.primary600};
    z-index: 0;
  }
`,C1=Pt($e)`
  background: ${({theme:a,$isSelected:s})=>a.colors[s?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:a,$isSelected:s})=>a.colors[s?"primary700":"neutral200"]};
  border-radius: ${({theme:a})=>a.borderRadius};
  z-index: 1;
  flex: 0 0 2.4rem;
  svg {
    width: 2.4rem;
    height: 2.4rem;
    max-width: unset;
    path {
      fill: ${({theme:a,$isSelected:s})=>a.colors[s?"primary700":"neutral500"]};
    }
  }
  cursor: pointer;
  &:disabled {
    cursor: not-allowed;
  }
`,w1=Pt(le)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,T1={oneWay:Kl,oneToOne:Yl,oneToMany:Jl,manyToOne:Ql,manyToMany:ec,manyWay:Xl},j1=({naturePickerType:a,oneThatIsCreatingARelationWithAnother:s,relationType:u,target:p})=>{const f=Ha(),{formatMessage:b}=ye(),{contentTypes:h,modifiedData:y}=Tn(),x=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],M=["oneWay","manyWay"],j=(a==="contentType"?Y(y,[a,"schema","kind"],""):a)==="collectionType"?x:M,E=u==="manyToOne",O=Y(h,[p,"schema","displayName"],"unknown"),S=E?O:s,P=E?s:O,H=Pa(S,u==="manyToMany"?2:1),ae=Y(h,[p,"schema","restrictRelationsTo"],null),L=Pa(P,["manyToMany","oneToMany","manyToOne","manyWay"].includes(u)?2:1);return u?l.jsxs(le,{style:{flex:1},children:[l.jsx(_1,{children:l.jsx(le,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center",children:l.jsx(Ri,{tagName:"button",children:l.jsx(le,{gap:3,children:j.map(A=>{const oe=T1[A],ce=ae===null||ae.includes(A);return l.jsx(C1,{tag:"button",$isSelected:u===A,disabled:!ce,onClick:()=>{ce&&f(ze.onChangeRelationType({target:{oneThatIsCreatingARelationWithAnother:s,value:A}}))},padding:2,type:"button","aria-label":b({id:C(`relation.${A}`)}),"aria-pressed":u===A,"data-relation-type":A,children:l.jsx(oe,{"aria-hidden":"true"},A)},A)})})})})}),l.jsxs(w1,{justifyContent:"center",children:[l.jsxs(Be,{children:[wl(H,{length:24})," "]}),l.jsxs(Be,{textColor:"primary600",children:[b({id:C(`relation.${u}`)})," "]}),l.jsx(Be,{children:wl(L,{length:24})})]})]}):null},M1=({formErrors:a,mainBoxHeader:s,modifiedData:u,naturePickerType:p,onChange:f})=>{const b=Si(u.relation,u.targetAttribute);return l.jsxs(le,{style:{position:"relative"},children:[l.jsx(bl,{isMain:!0,header:s,error:a?.name||null,name:"name",onChange:f,value:u?.name||""}),l.jsx(j1,{naturePickerType:p,oneThatIsCreatingARelationWithAnother:s,relationType:b,target:u.target}),l.jsx(bl,{disabled:["oneWay","manyWay"].includes(b),error:a?.targetAttribute||null,name:"targetAttribute",onChange:f,oneThatIsCreatingARelationWithAnother:s,target:u.target,value:u?.targetAttribute||""})]})},F1=({error:a=null,intlLabel:s,name:u,onChange:p,value:f=void 0,isCreating:b,dynamicZoneTarget:h})=>{const{formatMessage:y}=ye(),{allComponentsCategories:x}=Tn(),[M,w]=he.useState(x),j=a?y({id:a,defaultMessage:a}):"",E=y(s),O=P=>{p({target:{name:u,value:P,type:"select-category"}})},S=P=>{w(H=>[...H,P]),O(P)};return l.jsxs(re.Root,{error:j,name:u,children:[l.jsx(re.Label,{children:E}),l.jsx(Gx,{disabled:!b&&!h,onChange:O,onCreateOption:S,value:f,creatable:!0,children:M.map(P=>l.jsx(Kx,{value:P,children:P},P))}),l.jsx(re.Error,{})]})},Mi=(a,s)=>s.find(u=>u.component===a),Mc=(a,s,u=0)=>{const p=Mi(a,s);if(!p||!p.childComponents||p.childComponents.length===0)return u;let f=u;return p.childComponents.forEach(b=>{const h=Mc(b.component,s,u+1);h>f&&(f=h)}),f},Fc=(a,s)=>{const u=(b,h)=>{const y=[];if(y.push(h),!b.uidsOfAllParents)return y;for(const x of b.uidsOfAllParents){const M=Mi(x,s);M&&y.push(...u(M,h+1))}return y},p=Mi(a,s);return p?Math.max(...u(p,1)):0},k1=({error:a=null,intlLabel:s,isAddingAComponentToAnotherComponent:u,isCreating:p,isCreatingComponentWhileAddingAField:f,componentToCreate:b,name:h,onChange:y,targetUid:x,forTarget:M,value:w})=>{const{formatMessage:j}=ye(),E=a?j({id:a,defaultMessage:a}):"",O=j(s),{componentsGroupedByCategory:S,componentsThatHaveOtherComponentInTheirAttributes:P,nestedComponents:H}=Tn(),ae=["component","components"].includes(M);let L=Object.entries(S).reduce((A,oe)=>{const[ce,Se]=oe,ee=Se.map(Ae=>({uid:Ae.uid,label:Ae.schema.displayName,categoryName:ce}));return[...A,...ee]},[]);return u&&(L=L.filter(({uid:A})=>{const oe=Mc(A,P),ce=Fc(x,H);return oe+ce<=ac})),ae&&(L=L.filter(A=>A.uid!==x)),f&&(L=[{uid:w,label:b?.displayName,categoryName:b?.category}]),l.jsxs(re.Root,{error:E,name:h,children:[l.jsx(re.Label,{children:O}),l.jsx(Pr,{disabled:f||!p,onChange:A=>{y({target:{name:h,value:A,type:"select-category"}})},value:w||"",children:L.map(A=>l.jsx(zr,{value:A.uid,children:`${A.categoryName} - ${A.label}`},A.uid))}),l.jsx(re.Error,{})]})},R1=({dynamicZoneTarget:a,intlLabel:s,name:u,onChange:p,value:f})=>{const{formatMessage:b}=ye(),{componentsGroupedByCategory:h,modifiedData:y}=Tn(),M=ji(y.contentType.schema.attributes,a)?.components||[],w=Object.keys(h).reduce((O,S)=>{const P=h[S].filter(({uid:H})=>!M.includes(H));return P.length>0&&(O[S]=P),O},{}),j=Object.entries(w).reduce((O,S)=>{const[P,H]=S,ae={label:P,children:H.map(({uid:L,schema:{displayName:A}})=>({label:A,value:L}))};return O.push(ae),O},[]),E=b({id:C("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:f?.length??0});return l.jsxs(re.Root,{name:u,children:[l.jsx(re.Label,{children:b(s)}),l.jsx(Bl,{id:"select1",customizeContent:()=>E,onChange:O=>{p({target:{name:u,value:O,type:"select-components"}})},options:j,value:f||[]})]})},A1=({intlLabel:a,error:s=void 0,modifiedData:u,name:p,onChange:f,options:b,value:h=""})=>{const{formatMessage:y}=ye(),x=y(a),M=s?y({id:s,defaultMessage:s}):"",w=j=>{f({target:{name:p,value:j,type:"select"}}),h&&u.default!==void 0&&u.default!==null&&f({target:{name:"default",value:null}})};return l.jsxs(re.Root,{error:M,name:p,children:[l.jsx(re.Label,{children:x}),l.jsx(Pr,{onChange:w,value:h||"",children:b.map(({metadatas:{intlLabel:j,disabled:E,hidden:O},key:S,value:P})=>l.jsx(zr,{value:P,disabled:E,hidden:O,children:y({id:j.id,defaultMessage:j.defaultMessage},j.values)},S))}),l.jsx(re.Error,{})]})},kc=({intlLabel:a,error:s=void 0,modifiedData:u,name:p,onChange:f,options:b,value:h=""})=>{const{formatMessage:y}=ye(),x=y(a),M=s?y({id:s,defaultMessage:s}):"",w=j=>{f({target:{name:p,value:j,type:"select"}}),h&&(j==="biginteger"&&h!=="biginteger"&&(u.default!==void 0&&u.default!==null&&f({target:{name:"default",value:null}}),u.max!==void 0&&u.max!==null&&f({target:{name:"max",value:null}}),u.min!==void 0&&u.min!==null&&f({target:{name:"min",value:null}})),typeof j=="string"&&["decimal","float","integer"].includes(j)&&h==="biginteger"&&(u.default!==void 0&&u.default!==null&&f({target:{name:"default",value:null}}),u.max!==void 0&&u.max!==null&&f({target:{name:"max",value:null}}),u.min!==void 0&&u.min!==null&&f({target:{name:"min",value:null}})))};return l.jsxs(re.Root,{error:M,name:p,children:[l.jsx(re.Label,{children:x}),l.jsx(Pr,{onChange:w,value:h||"",children:b.map(({metadatas:{intlLabel:j,disabled:E,hidden:O},key:S,value:P})=>l.jsx(zr,{value:P,disabled:E,hidden:O,children:y(j)},S))}),l.jsx(re.Error,{})]})};kc.defaultProps={error:void 0,value:""};const $1=({description:a=null,error:s=null,intlLabel:u,modifiedData:p,name:f,onChange:b,value:h=null})=>{const{formatMessage:y}=ye(),x=he.useRef(b),M=p?.displayName||"";he.useEffect(()=>{M?x.current({target:{name:f,value:nc(M)}}):x.current({target:{name:f,value:""}})},[M,f]);const w=s?y({id:s,defaultMessage:s}):"",j=a?y({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):"",E=y(u);return l.jsxs(re.Root,{error:w,hint:j,name:f,children:[l.jsx(re.Label,{children:E}),l.jsx(Pn,{onChange:b,value:h||""}),l.jsx(re.Error,{}),l.jsx(re.Hint,{})]})},Tl=({form:a,formErrors:s,genericInputProps:u,modifiedData:p,onChange:f})=>{const{formatMessage:b}=ye();return l.jsx(l.Fragment,{children:a.map((h,y)=>h.items.length===0?null:l.jsxs($e,{children:[h.sectionTitle&&l.jsx($e,{paddingBottom:4,children:l.jsx(Be,{variant:"delta",tag:"h3",children:b(h.sectionTitle)})}),l.jsx(zn.Root,{gap:4,children:h.items.map((x,M)=>{const w=`${y}.${M}`,j=Y(p,x.name,void 0),E=Object.keys(s).find(S=>S===x.name),O=E?s[E].id:Y(s,[...x.name.split(".").filter(S=>S!=="componentToCreate"),"id"],null);return x.type==="pushRight"?l.jsx(zn.Item,{col:x.size||6,direction:"column",alignItems:"stretch",children:l.jsx("div",{})},x.name||w):l.jsx(zn.Item,{col:x.size||6,direction:"column",alignItems:"stretch",children:l.jsx(jc,{...x,...u,error:O,onChange:f,value:j})},x.name||w)})})]},y))})},S1=({description:a=null,disabled:s=!1,error:u="",intlLabel:p,labelAction:f,name:b,onChange:h,placeholder:y=null,value:x=""})=>{const{formatMessage:M}=ye(),w=u?M({id:u,defaultMessage:u}):"",j=a?M({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):"",E=M(p),O=y?M({id:y.id,defaultMessage:y.defaultMessage},{...y.values}):"",S=Array.isArray(x)?x.join(`
`):"",P=H=>{const ae=H.target.value.split(`
`);h({target:{name:b,value:ae}})};return l.jsxs(re.Root,{error:w,hint:j,name:b,children:[l.jsx(re.Label,{action:f,children:E}),l.jsx(rc,{disabled:s,onChange:P,placeholder:O,value:S}),l.jsx(re.Error,{}),l.jsx(re.Hint,{})]})},Ht={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:C("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},N1={sections:[{sectionTitle:null,items:[Ht]}]},ur={base(a=""){return[{sectionTitle:null,items:[{name:`${a}displayName`,type:"text",intlLabel:{id:C("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${a}category`,type:"select-category",intlLabel:{id:C("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${a}icon`,type:"icon-picker",size:12,intlLabel:{id:C("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},Z={default:{name:"default",type:"text",intlLabel:{id:C("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:C("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:C("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:C("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:C("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:C("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:C("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:C("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:C("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:C("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:C("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:C("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:C("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},L1={blocks(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private]}]}},boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:C("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private]}]}},component({repeatable:a},s){return s==="1"?{sections:ur.advanced()}:a?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private,Z.max,Z.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private]}]}},date({type:a}){return{sections:[{sectionTitle:null,items:[{...Z.default,type:a||"date",value:null,withDefaultValue:!1,disabled:!a,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.unique,Z.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.max,Z.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...Z.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.unique,Z.maxLength,Z.minLength,Z.private]}]}},enumeration(a){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:C("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(a.enum||[]).filter((s,u)=>a.enum.indexOf(s)===u&&s).map(s=>({key:s,value:s,metadatas:{intlLabel:{id:`${s}.no-override`,defaultMessage:s}}}))]},{intlLabel:{id:C("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:C("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:C("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private]}]}},number(a){const s=a.type==="decimal"||a.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:a.type==="biginteger"?"text":"number",step:s,intlLabel:{id:C("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.unique,Z.max,Z.min,Z.private]}]}},password(){return{sections:[{sectionTitle:null,items:[Z.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.maxLength,Z.minLength,Z.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[Z.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.maxLength,Z.minLength,Z.private]}]}},text(){return{sections:[{sectionTitle:null,items:[Z.default,Z.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.unique,Z.maxLength,Z.minLength,Z.private]}]}},uid(a){return{sections:[{sectionTitle:null,items:[{...Z.default,disabled:!!a.targetField,type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.maxLength,Z.minLength,Z.private]}]}}},Fi={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:C("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:C("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:C("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:C("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},I1={component(a,s){if(s==="1"){const u=a.createComponent===!0?ur.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Fi]},...u]}}return{sections:[{sectionTitle:null,items:[Ht,{name:"component",type:"select-component",intlLabel:{id:C("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:C("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:C("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:C("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:C("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Ht,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:C("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:C("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:C("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Ht]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:C("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:C("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Ht]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:C("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:C("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:C("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:C("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Ht,{intlLabel:{id:C("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:C("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:C("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:C("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:C("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Ht]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:C("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:C("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:C("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:C("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Ht]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:C("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:C("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:C("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:C("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(a,s,u){const p=u.filter(({type:f})=>["string","text"].includes(f)).map(({name:f})=>({key:f,value:f,metadatas:{intlLabel:{id:`${f}.no-override`,defaultMessage:f}}}));return{sections:[{sectionTitle:null,items:[{...Ht,placeholder:{id:C("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:C("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...p]}]}]}}},jl={advanced:L1,base:I1};var yi=Jx,E1=Yx(),O1=oc,D1=1/0,q1=yi&&1/O1(new yi([,-0]))[1]==D1?function(a){return new yi(a)}:E1,P1=q1,z1=Xx,U1=Qx,B1=T0,W1=e0,V1=P1,Z1=oc,H1=200;function G1(a,s,u){var p=-1,f=U1,b=a.length,h=!0,y=[],x=y;if(u)h=!1,f=B1;else if(b>=H1){var M=s?null:V1(a);if(M)return Z1(M);h=!1,f=W1,x=new z1}else x=s?[]:y;e:for(;++p<b;){var w=a[p],j=s?s(w):w;if(w=u||w!==0?w:0,h&&j===j){for(var E=x.length;E--;)if(x[E]===j)continue e;s&&x.push(j),y.push(w)}else f(x,j,u)||(x!==y&&x.push(j),y.push(w))}return y}var K1=G1,Y1=K1;function J1(a){return a&&a.length?Y1(a):[]}var X1=J1;const Q1=Za(X1),bi=a=>a?t0(a,{decamelize:!1,lowercase:!1,separator:"_"}):"";var Ua={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ua.exports;(function(a,s){(function(){function u(v,T,o){switch(o.length){case 0:return v.call(T);case 1:return v.call(T,o[0]);case 2:return v.call(T,o[0],o[1]);case 3:return v.call(T,o[0],o[1],o[2])}return v.apply(T,o)}function p(v,T,o,q){for(var J=-1,z=v==null?0:v.length;++J<z;){var dt=v[J];T(q,dt,o(dt),v)}return q}function f(v,T){for(var o=-1,q=v==null?0:v.length;++o<q&&T(v[o],o,v)!==!1;);return v}function b(v,T){for(var o=v==null?0:v.length;o--&&T(v[o],o,v)!==!1;);return v}function h(v,T){for(var o=-1,q=v==null?0:v.length;++o<q;)if(!T(v[o],o,v))return!1;return!0}function y(v,T){for(var o=-1,q=v==null?0:v.length,J=0,z=[];++o<q;){var dt=v[o];T(dt,o,v)&&(z[J++]=dt)}return z}function x(v,T){return!!(v!=null&&v.length)&&A(v,T,0)>-1}function M(v,T,o){for(var q=-1,J=v==null?0:v.length;++q<J;)if(o(T,v[q]))return!0;return!1}function w(v,T){for(var o=-1,q=v==null?0:v.length,J=Array(q);++o<q;)J[o]=T(v[o],o,v);return J}function j(v,T){for(var o=-1,q=T.length,J=v.length;++o<q;)v[J+o]=T[o];return v}function E(v,T,o,q){var J=-1,z=v==null?0:v.length;for(q&&z&&(o=v[++J]);++J<z;)o=T(o,v[J],J,v);return o}function O(v,T,o,q){var J=v==null?0:v.length;for(q&&J&&(o=v[--J]);J--;)o=T(o,v[J],J,v);return o}function S(v,T){for(var o=-1,q=v==null?0:v.length;++o<q;)if(T(v[o],o,v))return!0;return!1}function P(v){return v.split("")}function H(v){return v.match(Qc)||[]}function ae(v,T,o){var q;return o(v,function(J,z,dt){if(T(J,z,dt))return q=z,!1}),q}function L(v,T,o,q){for(var J=v.length,z=o+(q?1:-1);q?z--:++z<J;)if(T(v[z],z,v))return z;return-1}function A(v,T,o){return T===T?fr(v,T,o):L(v,ce,o)}function oe(v,T,o,q){for(var J=o-1,z=v.length;++J<z;)if(q(v[J],T))return J;return-1}function ce(v){return v!==v}function Se(v,T){var o=v==null?0:v.length;return o?xe(v,T)/o:Gn}function ee(v){return function(T){return T==null?d:T[v]}}function Ae(v){return function(T){return v==null?d:v[T]}}function de(v,T,o,q,J){return J(v,function(z,dt,yo){o=q?(q=!1,z):T(o,z,dt,yo)}),o}function et(v,T){var o=v.length;for(v.sort(T);o--;)v[o]=v[o].value;return v}function xe(v,T){for(var o,q=-1,J=v.length;++q<J;){var z=T(v[q]);z!==d&&(o=o===d?z:o+z)}return o}function ie(v,T){for(var o=-1,q=Array(v);++o<v;)q[o]=T(o);return q}function Ie(v,T){return w(T,function(o){return[o,v[o]]})}function Ce(v){return v&&v.slice(0,cn(v)+1).replace(uo,"")}function N(v){return function(T){return v(T)}}function U(v,T){return w(T,function(o){return v[o]})}function D(v,T){return v.has(T)}function sn(v,T){for(var o=-1,q=v.length;++o<q&&A(T,v[o],0)>-1;);return o}function un(v,T){for(var o=v.length;o--&&A(T,v[o],0)>-1;);return o}function cr(v,T){for(var o=v.length,q=0;o--;)v[o]===T&&++q;return q}function ln(v){return"\\"+Ed[v]}function zt(v,T){return v==null?d:v[T]}function yt(v){return Rd.test(v)}function dr(v){return Ad.test(v)}function Un(v){for(var T,o=[];!(T=v.next()).done;)o.push(T.value);return o}function jn(v){var T=-1,o=Array(v.size);return v.forEach(function(q,J){o[++T]=[J,q]}),o}function Bn(v,T){return function(o){return v(T(o))}}function wt(v,T){for(var o=-1,q=v.length,J=0,z=[];++o<q;){var dt=v[o];dt!==T&&dt!==bt||(v[o]=bt,z[J++]=o)}return z}function Ue(v){var T=-1,o=Array(v.size);return v.forEach(function(q){o[++T]=q}),o}function Wn(v){var T=-1,o=Array(v.size);return v.forEach(function(q){o[++T]=[q,q]}),o}function fr(v,T,o){for(var q=o-1,J=v.length;++q<J;)if(v[q]===T)return q;return-1}function pr(v,T,o){for(var q=o+1;q--;)if(v[q]===T)return q;return q}function Ut(v){return yt(v)?B(v):Pd(v)}function Ne(v){return yt(v)?V(v):P(v)}function cn(v){for(var T=v.length;T--&&Kc.test(v.charAt(T)););return T}function B(v){for(var T=mo.lastIndex=0;mo.test(v);)++T;return T}function V(v){return v.match(mo)||[]}function ue(v){return v.match(kd)||[]}var d,Ee="4.17.21",We=200,ct="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",He="Expected a function",Ur="Invalid `variable` option passed into `_.template`",Vn="__lodash_hash_undefined__",Mn=500,bt="__lodash_placeholder__",ot=1,mr=2,Gt=4,Bt=1,dn=2,vt=1,Kt=2,it=4,St=8,fn=16,Nt=32,Fn=64,Lt=128,kn=256,Zn=512,Ga=30,Br="...",Wr=800,Vr=16,Zr=1,Ka=2,Ya=3,Hn=1/0,pn=9007199254740991,Ja=17976931348623157e292,Gn=NaN,Q=4294967295,st=Q-1,xt=Q>>>1,be=[["ary",Lt],["bind",vt],["bindKey",Kt],["curry",St],["curryRight",fn],["flip",Zn],["partial",Nt],["partialRight",Fn],["rearg",kn]],Me="[object Arguments]",Ke="[object Array]",Ye="[object AsyncFunction]",Rn="[object Boolean]",An="[object Date]",Nc="[object DOMException]",Hr="[object Error]",Gr="[object Function]",Li="[object GeneratorFunction]",It="[object Map]",hr="[object Number]",Lc="[object Null]",Yt="[object Object]",Ii="[object Promise]",Ic="[object Proxy]",gr="[object RegExp]",Et="[object Set]",yr="[object String]",Kr="[object Symbol]",Ec="[object Undefined]",br="[object WeakMap]",Oc="[object WeakSet]",vr="[object ArrayBuffer]",Kn="[object DataView]",Xa="[object Float32Array]",Qa="[object Float64Array]",eo="[object Int8Array]",to="[object Int16Array]",no="[object Int32Array]",ro="[object Uint8Array]",ao="[object Uint8ClampedArray]",oo="[object Uint16Array]",io="[object Uint32Array]",Dc=/\b__p \+= '';/g,qc=/\b(__p \+=) '' \+/g,Pc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ei=/&(?:amp|lt|gt|quot|#39);/g,Oi=/[&<>"']/g,zc=RegExp(Ei.source),Uc=RegExp(Oi.source),Bc=/<%-([\s\S]+?)%>/g,Wc=/<%([\s\S]+?)%>/g,Di=/<%=([\s\S]+?)%>/g,Vc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zc=/^\w*$/,Hc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,so=/[\\^$.*+?()[\]{}|]/g,Gc=RegExp(so.source),uo=/^\s+/,Kc=/\s/,Yc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Jc=/\{\n\/\* \[wrapped with (.+)\] \*/,Xc=/,? & /,Qc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ed=/[()=,{}\[\]\/\s]/,td=/\\(\\)?/g,nd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qi=/\w*$/,rd=/^[-+]0x[0-9a-f]+$/i,ad=/^0b[01]+$/i,od=/^\[object .+?Constructor\]$/,id=/^0o[0-7]+$/i,sd=/^(?:0|[1-9]\d*)$/,ud=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yr=/($^)/,ld=/['\n\r\u2028\u2029\\]/g,Jr="\\ud800-\\udfff",cd="\\u0300-\\u036f",dd="\\ufe20-\\ufe2f",fd="\\u20d0-\\u20ff",Pi=cd+dd+fd,zi="\\u2700-\\u27bf",Ui="a-z\\xdf-\\xf6\\xf8-\\xff",pd="\\xac\\xb1\\xd7\\xf7",md="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",hd="\\u2000-\\u206f",gd=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Bi="A-Z\\xc0-\\xd6\\xd8-\\xde",Wi="\\ufe0e\\ufe0f",Vi=pd+md+hd+gd,lo="['’]",yd="["+Jr+"]",Zi="["+Vi+"]",Xr="["+Pi+"]",Hi="\\d+",bd="["+zi+"]",Gi="["+Ui+"]",Ki="[^"+Jr+Vi+Hi+zi+Ui+Bi+"]",co="\\ud83c[\\udffb-\\udfff]",vd="(?:"+Xr+"|"+co+")",Yi="[^"+Jr+"]",fo="(?:\\ud83c[\\udde6-\\uddff]){2}",po="[\\ud800-\\udbff][\\udc00-\\udfff]",Yn="["+Bi+"]",Ji="\\u200d",Xi="(?:"+Gi+"|"+Ki+")",xd="(?:"+Yn+"|"+Ki+")",Qi="(?:"+lo+"(?:d|ll|m|re|s|t|ve))?",es="(?:"+lo+"(?:D|LL|M|RE|S|T|VE))?",ts=vd+"?",ns="["+Wi+"]?",_d="(?:"+Ji+"(?:"+[Yi,fo,po].join("|")+")"+ns+ts+")*",Cd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",wd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rs=ns+ts+_d,Td="(?:"+[bd,fo,po].join("|")+")"+rs,jd="(?:"+[Yi+Xr+"?",Xr,fo,po,yd].join("|")+")",Md=RegExp(lo,"g"),Fd=RegExp(Xr,"g"),mo=RegExp(co+"(?="+co+")|"+jd+rs,"g"),kd=RegExp([Yn+"?"+Gi+"+"+Qi+"(?="+[Zi,Yn,"$"].join("|")+")",xd+"+"+es+"(?="+[Zi,Yn+Xi,"$"].join("|")+")",Yn+"?"+Xi+"+"+Qi,Yn+"+"+es,wd,Cd,Hi,Td].join("|"),"g"),Rd=RegExp("["+Ji+Jr+Pi+Wi+"]"),Ad=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$d=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Sd=-1,Fe={};Fe[Xa]=Fe[Qa]=Fe[eo]=Fe[to]=Fe[no]=Fe[ro]=Fe[ao]=Fe[oo]=Fe[io]=!0,Fe[Me]=Fe[Ke]=Fe[vr]=Fe[Rn]=Fe[Kn]=Fe[An]=Fe[Hr]=Fe[Gr]=Fe[It]=Fe[hr]=Fe[Yt]=Fe[gr]=Fe[Et]=Fe[yr]=Fe[br]=!1;var we={};we[Me]=we[Ke]=we[vr]=we[Kn]=we[Rn]=we[An]=we[Xa]=we[Qa]=we[eo]=we[to]=we[no]=we[It]=we[hr]=we[Yt]=we[gr]=we[Et]=we[yr]=we[Kr]=we[ro]=we[ao]=we[oo]=we[io]=!0,we[Hr]=we[Gr]=we[br]=!1;var Nd={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ld={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Id={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ed={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Od=parseFloat,Dd=parseInt,as=typeof Er=="object"&&Er&&Er.Object===Object&&Er,qd=typeof self=="object"&&self&&self.Object===Object&&self,Je=as||qd||Function("return this")(),ho=s&&!s.nodeType&&s,$n=ho&&!0&&a&&!a.nodeType&&a,os=$n&&$n.exports===ho,go=os&&as.process,Tt=function(){try{var v=$n&&$n.require&&$n.require("util").types;return v||go&&go.binding&&go.binding("util")}catch{}}(),is=Tt&&Tt.isArrayBuffer,ss=Tt&&Tt.isDate,us=Tt&&Tt.isMap,ls=Tt&&Tt.isRegExp,cs=Tt&&Tt.isSet,ds=Tt&&Tt.isTypedArray,Pd=ee("length"),zd=Ae(Nd),Ud=Ae(Ld),Bd=Ae(Id),Wd=function v(T){function o(e){if(Oe(e)&&!te(e)&&!(e instanceof z)){if(e instanceof J)return e;if(_e.call(e,"__wrapped__"))return ou(e)}return new J(e)}function q(){}function J(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=d}function z(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Q,this.__views__=[]}function dt(){var e=new z(this.__wrapped__);return e.__actions__=ft(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ft(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ft(this.__views__),e}function yo(){if(this.__filtered__){var e=new z(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Vd(){var e=this.__wrapped__.value(),t=this.__dir__,n=te(e),r=t<0,i=n?e.length:0,c=tp(0,i,this.__views__),m=c.start,g=c.end,_=g-m,k=r?g:m-1,F=this.__iteratees__,R=F.length,I=0,W=tt(_,this.__takeCount__);if(!n||!r&&i==_&&W==_)return Ss(e,this.__actions__);var G=[];e:for(;_--&&I<W;){k+=t;for(var ne=-1,K=e[k];++ne<R;){var pe=F[ne],me=pe.iteratee,rt=pe.type,gt=me(K);if(rt==Ka)K=gt;else if(!gt){if(rt==Zr)continue e;break e}}G[I++]=K}return G}function Sn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zd(){this.__data__=$r?$r(null):{},this.size=0}function Hd(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Gd(e){var t=this.__data__;if($r){var n=t[e];return n===Vn?d:n}return _e.call(t,e)?t[e]:d}function Kd(e){var t=this.__data__;return $r?t[e]!==d:_e.call(t,e)}function Yd(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=$r&&t===d?Vn:t,this}function Jt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jd(){this.__data__=[],this.size=0}function Xd(e){var t=this.__data__,n=Qr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Fa.call(t,n,1),--this.size,!0)}function Qd(e){var t=this.__data__,n=Qr(t,e);return n<0?d:t[n][1]}function ef(e){return Qr(this.__data__,e)>-1}function tf(e,t){var n=this.__data__,r=Qr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Xt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function nf(){this.size=0,this.__data__={hash:new Sn,map:new(Rr||Jt),string:new Sn}}function rf(e){var t=da(this,e).delete(e);return this.size-=t?1:0,t}function af(e){return da(this,e).get(e)}function of(e){return da(this,e).has(e)}function sf(e,t){var n=da(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Nn(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Xt;++t<n;)this.add(e[t])}function uf(e){return this.__data__.set(e,Vn),this}function lf(e){return this.__data__.has(e)}function Ot(e){this.size=(this.__data__=new Jt(e)).size}function cf(){this.__data__=new Jt,this.size=0}function df(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function ff(e){return this.__data__.get(e)}function pf(e){return this.__data__.has(e)}function mf(e,t){var n=this.__data__;if(n instanceof Jt){var r=n.__data__;if(!Rr||r.length<We-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xt(r)}return n.set(e,t),this.size=n.size,this}function fs(e,t){var n=te(e),r=!n&&qn(e),i=!n&&!r&&vn(e),c=!n&&!r&&!i&&sr(e),m=n||r||i||c,g=m?ie(e.length,cg):[],_=g.length;for(var k in e)!t&&!_e.call(e,k)||m&&(k=="length"||i&&(k=="offset"||k=="parent")||c&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||nn(k,_))||g.push(k);return g}function ps(e){var t=e.length;return t?e[Fo(0,t-1)]:d}function hf(e,t){return fa(ft(e),Ln(t,0,e.length))}function gf(e){return fa(ft(e))}function bo(e,t,n){(n===d||Dt(e[t],n))&&(n!==d||t in e)||Qt(e,t,n)}function xr(e,t,n){var r=e[t];_e.call(e,t)&&Dt(r,n)&&(n!==d||t in e)||Qt(e,t,n)}function Qr(e,t){for(var n=e.length;n--;)if(Dt(e[n][0],t))return n;return-1}function yf(e,t,n,r){return bn(e,function(i,c,m){t(r,i,n(i),m)}),r}function ms(e,t){return e&&Vt(t,Ge(t),e)}function bf(e,t){return e&&Vt(t,mt(t),e)}function Qt(e,t,n){t=="__proto__"&&ka?ka(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function vo(e,t){for(var n=-1,r=t.length,i=Ve(r),c=e==null;++n<r;)i[n]=c?d:Zo(e,t[n]);return i}function Ln(e,t,n){return e===e&&(n!==d&&(e=e<=n?e:n),t!==d&&(e=e>=t?e:t)),e}function jt(e,t,n,r,i,c){var m,g=t&ot,_=t&mr,k=t&Gt;if(n&&(m=i?n(e,r,i,c):n(e)),m!==d)return m;if(!Le(e))return e;var F=te(e);if(F){if(m=rp(e),!g)return ft(e,m)}else{var R=nt(e),I=R==Gr||R==Li;if(vn(e))return Ls(e,g);if(R==Yt||R==Me||I&&!i){if(m=_||I?{}:Xs(e),!g)return _?Hf(e,bf(m,e)):Zf(e,ms(m,e))}else{if(!we[R])return i?e:{};m=ap(e,R,g)}}c||(c=new Ot);var W=c.get(e);if(W)return W;c.set(e,m),Ku(e)?e.forEach(function(K){m.add(jt(K,t,n,K,e,c))}):Gu(e)&&e.forEach(function(K,pe){m.set(pe,jt(K,t,n,pe,e,c))});var G=k?_?Do:Oo:_?mt:Ge,ne=F?d:G(e);return f(ne||e,function(K,pe){ne&&(pe=K,K=e[pe]),xr(m,pe,jt(K,t,n,pe,e,c))}),m}function vf(e){var t=Ge(e);return function(n){return hs(n,e,t)}}function hs(e,t,n){var r=n.length;if(e==null)return!r;for(e=ke(e);r--;){var i=n[r],c=t[i],m=e[i];if(m===d&&!(i in e)||!c(m))return!1}return!0}function gs(e,t,n){if(typeof e!="function")throw new Rt(He);return Nr(function(){e.apply(d,n)},t)}function _r(e,t,n,r){var i=-1,c=x,m=!0,g=e.length,_=[],k=t.length;if(!g)return _;n&&(t=w(t,N(n))),r?(c=M,m=!1):t.length>=We&&(c=D,m=!1,t=new Nn(t));e:for(;++i<g;){var F=e[i],R=n==null?F:n(F);if(F=r||F!==0?F:0,m&&R===R){for(var I=k;I--;)if(t[I]===R)continue e;_.push(F)}else c(t,R,r)||_.push(F)}return _}function xf(e,t){var n=!0;return bn(e,function(r,i,c){return n=!!t(r,i,c)}),n}function ea(e,t,n){for(var r=-1,i=e.length;++r<i;){var c=e[r],m=t(c);if(m!=null&&(g===d?m===m&&!Ct(m):n(m,g)))var g=m,_=c}return _}function _f(e,t,n,r){var i=e.length;for(n=se(n),n<0&&(n=-n>i?0:i+n),r=r===d||r>i?i:se(r),r<0&&(r+=i),r=n>r?0:wu(r);n<r;)e[n++]=t;return e}function ys(e,t){var n=[];return bn(e,function(r,i,c){t(r,i,c)&&n.push(r)}),n}function Xe(e,t,n,r,i){var c=-1,m=e.length;for(n||(n=ip),i||(i=[]);++c<m;){var g=e[c];t>0&&n(g)?t>1?Xe(g,t-1,n,r,i):j(i,g):r||(i[i.length]=g)}return i}function Wt(e,t){return e&&oi(e,t,Ge)}function xo(e,t){return e&&Pu(e,t,Ge)}function ta(e,t){return y(t,function(n){return rn(e[n])})}function In(e,t){t=hn(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Zt(t[n++])];return n&&n==r?e:d}function bs(e,t,n){var r=t(e);return te(e)?r:j(r,n(e))}function ut(e){return e==null?e===d?Ec:Lc:Dn&&Dn in ke(e)?ep(e):fp(e)}function _o(e,t){return e>t}function Cf(e,t){return e!=null&&_e.call(e,t)}function wf(e,t){return e!=null&&t in ke(e)}function Tf(e,t,n){return e>=tt(t,n)&&e<Ze(t,n)}function Co(e,t,n){for(var r=n?M:x,i=e[0].length,c=e.length,m=c,g=Ve(c),_=1/0,k=[];m--;){var F=e[m];m&&t&&(F=w(F,N(t))),_=tt(F.length,_),g[m]=!n&&(t||i>=120&&F.length>=120)?new Nn(m&&F):d}F=e[0];var R=-1,I=g[0];e:for(;++R<i&&k.length<_;){var W=F[R],G=t?t(W):W;if(W=n||W!==0?W:0,!(I?D(I,G):r(k,G,n))){for(m=c;--m;){var ne=g[m];if(!(ne?D(ne,G):r(e[m],G,n)))continue e}I&&I.push(G),k.push(W)}}return k}function jf(e,t,n,r){return Wt(e,function(i,c,m){t(r,n(i),c,m)}),r}function Cr(e,t,n){t=hn(t,e),e=nu(e,t);var r=e==null?e:e[Zt(Ft(t))];return r==null?d:u(r,e,n)}function vs(e){return Oe(e)&&ut(e)==Me}function Mf(e){return Oe(e)&&ut(e)==vr}function Ff(e){return Oe(e)&&ut(e)==An}function wr(e,t,n,r,i){return e===t||(e==null||t==null||!Oe(e)&&!Oe(t)?e!==e&&t!==t:kf(e,t,n,r,wr,i))}function kf(e,t,n,r,i,c){var m=te(e),g=te(t),_=m?Ke:nt(e),k=g?Ke:nt(t);_=_==Me?Yt:_,k=k==Me?Yt:k;var F=_==Yt,R=k==Yt,I=_==k;if(I&&vn(e)){if(!vn(t))return!1;m=!0,F=!1}if(I&&!F)return c||(c=new Ot),m||sr(e)?Ys(e,t,n,r,i,c):Xf(e,t,_,n,r,i,c);if(!(n&Bt)){var W=F&&_e.call(e,"__wrapped__"),G=R&&_e.call(t,"__wrapped__");if(W||G){var ne=W?e.value():e,K=G?t.value():t;return c||(c=new Ot),i(ne,K,n,r,c)}}return!!I&&(c||(c=new Ot),Qf(e,t,n,r,i,c))}function Rf(e){return Oe(e)&&nt(e)==It}function wo(e,t,n,r){var i=n.length,c=i,m=!r;if(e==null)return!c;for(e=ke(e);i--;){var g=n[i];if(m&&g[2]?g[1]!==e[g[0]]:!(g[0]in e))return!1}for(;++i<c;){g=n[i];var _=g[0],k=e[_],F=g[1];if(m&&g[2]){if(k===d&&!(_ in e))return!1}else{var R=new Ot;if(r)var I=r(k,F,_,e,t,R);if(!(I===d?wr(F,k,Bt|dn,r,R):I))return!1}}return!0}function xs(e){return!(!Le(e)||up(e))&&(rn(e)?hg:od).test(On(e))}function Af(e){return Oe(e)&&ut(e)==gr}function $f(e){return Oe(e)&&nt(e)==Et}function Sf(e){return Oe(e)&&ya(e.length)&&!!Fe[ut(e)]}function _s(e){return typeof e=="function"?e:e==null?ht:typeof e=="object"?te(e)?Ts(e[0],e[1]):ws(e):Ru(e)}function To(e){if(!Mr(e))return _g(e);var t=[];for(var n in ke(e))_e.call(e,n)&&n!="constructor"&&t.push(n);return t}function Nf(e){if(!Le(e))return dp(e);var t=Mr(e),n=[];for(var r in e)(r!="constructor"||!t&&_e.call(e,r))&&n.push(r);return n}function jo(e,t){return e<t}function Cs(e,t){var n=-1,r=pt(e)?Ve(e.length):[];return bn(e,function(i,c,m){r[++n]=t(i,c,m)}),r}function ws(e){var t=qo(e);return t.length==1&&t[0][2]?eu(t[0][0],t[0][1]):function(n){return n===e||wo(n,e,t)}}function Ts(e,t){return Po(e)&&Qs(t)?eu(Zt(e),t):function(n){var r=Zo(n,e);return r===d&&r===t?Ho(n,e):wr(t,r,Bt|dn)}}function na(e,t,n,r,i){e!==t&&oi(t,function(c,m){if(i||(i=new Ot),Le(c))Lf(e,t,m,n,na,r,i);else{var g=r?r(Uo(e,m),c,m+"",e,t,i):d;g===d&&(g=c),bo(e,m,g)}},mt)}function Lf(e,t,n,r,i,c,m){var g=Uo(e,n),_=Uo(t,n),k=m.get(_);if(k)return bo(e,n,k),d;var F=c?c(g,_,n+"",e,t,m):d,R=F===d;if(R){var I=te(_),W=!I&&vn(_),G=!I&&!W&&sr(_);F=_,I||W||G?te(g)?F=g:qe(g)?F=ft(g):W?(R=!1,F=Ls(_,!0)):G?(R=!1,F=Is(_,!0)):F=[]:Fr(_)||qn(_)?(F=g,qn(g)?F=Tu(g):Le(g)&&!rn(g)||(F=Xs(_))):R=!1}R&&(m.set(_,F),i(F,_,r,c,m),m.delete(_)),bo(e,n,F)}function js(e,t){var n=e.length;if(n)return t+=t<0?n:0,nn(t,n)?e[t]:d}function Ms(e,t,n){t=t.length?w(t,function(i){return te(i)?function(c){return In(c,i.length===1?i[0]:i)}:i}):[ht];var r=-1;return t=w(t,N(X())),et(Cs(e,function(i,c,m){return{criteria:w(t,function(g){return g(i)}),index:++r,value:i}}),function(i,c){return Vf(i,c,n)})}function If(e,t){return Fs(e,t,function(n,r){return Ho(e,r)})}function Fs(e,t,n){for(var r=-1,i=t.length,c={};++r<i;){var m=t[r],g=In(e,m);n(g,m)&&Tr(c,hn(m,e),g)}return c}function Ef(e){return function(t){return In(t,e)}}function Mo(e,t,n,r){var i=r?oe:A,c=-1,m=t.length,g=e;for(e===t&&(t=ft(t)),n&&(g=w(e,N(n)));++c<m;)for(var _=0,k=t[c],F=n?n(k):k;(_=i(g,F,_,r))>-1;)g!==e&&Fa.call(g,_,1),Fa.call(e,_,1);return e}function ks(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==c){var c=i;nn(i)?Fa.call(e,i,1):Ao(e,i)}}return e}function Fo(e,t){return e+Aa(Ou()*(t-e+1))}function Of(e,t,n,r){for(var i=-1,c=Ze(Ra((t-e)/(n||1)),0),m=Ve(c);c--;)m[r?c:++i]=e,e+=n;return m}function ko(e,t){var n="";if(!e||t<1||t>pn)return n;do t%2&&(n+=e),t=Aa(t/2),t&&(e+=e);while(t);return n}function fe(e,t){return ui(tu(e,t,ht),e+"")}function Df(e){return ps(tr(e))}function qf(e,t){var n=tr(e);return fa(n,Ln(t,0,n.length))}function Tr(e,t,n,r){if(!Le(e))return e;t=hn(t,e);for(var i=-1,c=t.length,m=c-1,g=e;g!=null&&++i<c;){var _=Zt(t[i]),k=n;if(_==="__proto__"||_==="constructor"||_==="prototype")return e;if(i!=m){var F=g[_];k=r?r(F,_,g):d,k===d&&(k=Le(F)?F:nn(t[i+1])?[]:{})}xr(g,_,k),g=g[_]}return e}function Pf(e){return fa(tr(e))}function Mt(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var c=Ve(i);++r<i;)c[r]=e[r+t];return c}function zf(e,t){var n;return bn(e,function(r,i,c){return n=t(r,i,c),!n}),!!n}function ra(e,t,n){var r=0,i=e==null?r:e.length;if(typeof t=="number"&&t===t&&i<=xt){for(;r<i;){var c=r+i>>>1,m=e[c];m!==null&&!Ct(m)&&(n?m<=t:m<t)?r=c+1:i=c}return i}return Ro(e,t,ht,n)}function Ro(e,t,n,r){var i=0,c=e==null?0:e.length;if(c===0)return 0;t=n(t);for(var m=t!==t,g=t===null,_=Ct(t),k=t===d;i<c;){var F=Aa((i+c)/2),R=n(e[F]),I=R!==d,W=R===null,G=R===R,ne=Ct(R);if(m)var K=r||G;else K=k?G&&(r||I):g?G&&I&&(r||!W):_?G&&I&&!W&&(r||!ne):!W&&!ne&&(r?R<=t:R<t);K?i=F+1:c=F}return tt(c,st)}function Rs(e,t){for(var n=-1,r=e.length,i=0,c=[];++n<r;){var m=e[n],g=t?t(m):m;if(!n||!Dt(g,_)){var _=g;c[i++]=m===0?0:m}}return c}function As(e){return typeof e=="number"?e:Ct(e)?Gn:+e}function _t(e){if(typeof e=="string")return e;if(te(e))return w(e,_t)+"";if(Ct(e))return Du?Du.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function mn(e,t,n){var r=-1,i=x,c=e.length,m=!0,g=[],_=g;if(n)m=!1,i=M;else if(c>=We){var k=t?null:Sg(e);if(k)return Ue(k);m=!1,i=D,_=new Nn}else _=t?[]:g;e:for(;++r<c;){var F=e[r],R=t?t(F):F;if(F=n||F!==0?F:0,m&&R===R){for(var I=_.length;I--;)if(_[I]===R)continue e;t&&_.push(R),g.push(F)}else i(_,R,n)||(_!==g&&_.push(R),g.push(F))}return g}function Ao(e,t){return t=hn(t,e),e=nu(e,t),e==null||delete e[Zt(Ft(t))]}function $s(e,t,n,r){return Tr(e,t,n(In(e,t)),r)}function aa(e,t,n,r){for(var i=e.length,c=r?i:-1;(r?c--:++c<i)&&t(e[c],c,e););return n?Mt(e,r?0:c,r?c+1:i):Mt(e,r?c+1:0,r?i:c)}function Ss(e,t){var n=e;return n instanceof z&&(n=n.value()),E(t,function(r,i){return i.func.apply(i.thisArg,j([r],i.args))},n)}function $o(e,t,n){var r=e.length;if(r<2)return r?mn(e[0]):[];for(var i=-1,c=Ve(r);++i<r;)for(var m=e[i],g=-1;++g<r;)g!=i&&(c[i]=_r(c[i]||m,e[g],t,n));return mn(Xe(c,1),t,n)}function Ns(e,t,n){for(var r=-1,i=e.length,c=t.length,m={};++r<i;)n(m,e[r],r<c?t[r]:d);return m}function So(e){return qe(e)?e:[]}function No(e){return typeof e=="function"?e:ht}function hn(e,t){return te(e)?e:Po(e,t)?[e]:Vu(ve(e))}function gn(e,t,n){var r=e.length;return n=n===d?r:n,!t&&n>=r?e:Mt(e,t,n)}function Ls(e,t){if(t)return e.slice();var n=e.length,r=Su?Su(n):new e.constructor(n);return e.copy(r),r}function Lo(e){var t=new e.constructor(e.byteLength);return new ja(t).set(new ja(e)),t}function Uf(e,t){return new e.constructor(t?Lo(e.buffer):e.buffer,e.byteOffset,e.byteLength)}function Bf(e){var t=new e.constructor(e.source,qi.exec(e));return t.lastIndex=e.lastIndex,t}function Wf(e){return Sr?ke(Sr.call(e)):{}}function Is(e,t){return new e.constructor(t?Lo(e.buffer):e.buffer,e.byteOffset,e.length)}function Es(e,t){if(e!==t){var n=e!==d,r=e===null,i=e===e,c=Ct(e),m=t!==d,g=t===null,_=t===t,k=Ct(t);if(!g&&!k&&!c&&e>t||c&&m&&_&&!g&&!k||r&&m&&_||!n&&_||!i)return 1;if(!r&&!c&&!k&&e<t||k&&n&&i&&!r&&!c||g&&n&&i||!m&&i||!_)return-1}return 0}function Vf(e,t,n){for(var r=-1,i=e.criteria,c=t.criteria,m=i.length,g=n.length;++r<m;){var _=Es(i[r],c[r]);if(_)return r>=g?_:_*(n[r]=="desc"?-1:1)}return e.index-t.index}function Os(e,t,n,r){for(var i=-1,c=e.length,m=n.length,g=-1,_=t.length,k=Ze(c-m,0),F=Ve(_+k),R=!r;++g<_;)F[g]=t[g];for(;++i<m;)(R||i<c)&&(F[n[i]]=e[i]);for(;k--;)F[g++]=e[i++];return F}function Ds(e,t,n,r){for(var i=-1,c=e.length,m=-1,g=n.length,_=-1,k=t.length,F=Ze(c-g,0),R=Ve(F+k),I=!r;++i<F;)R[i]=e[i];for(var W=i;++_<k;)R[W+_]=t[_];for(;++m<g;)(I||i<c)&&(R[W+n[m]]=e[i++]);return R}function ft(e,t){var n=-1,r=e.length;for(t||(t=Ve(r));++n<r;)t[n]=e[n];return t}function Vt(e,t,n,r){var i=!n;n||(n={});for(var c=-1,m=t.length;++c<m;){var g=t[c],_=r?r(n[g],e[g],g,n,e):d;_===d&&(_=e[g]),i?Qt(n,g,_):xr(n,g,_)}return n}function Zf(e,t){return Vt(e,si(e),t)}function Hf(e,t){return Vt(e,Bu(e),t)}function oa(e,t){return function(n,r){var i=te(n)?p:yf,c=t?t():{};return i(n,e,X(r,2),c)}}function Xn(e){return fe(function(t,n){var r=-1,i=n.length,c=i>1?n[i-1]:d,m=i>2?n[2]:d;for(c=e.length>3&&typeof c=="function"?(i--,c):d,m&&lt(n[0],n[1],m)&&(c=i<3?d:c,i=1),t=ke(t);++r<i;){var g=n[r];g&&e(t,g,r,c)}return t})}function qs(e,t){return function(n,r){if(n==null)return n;if(!pt(n))return e(n,r);for(var i=n.length,c=t?i:-1,m=ke(n);(t?c--:++c<i)&&r(m[c],c,m)!==!1;);return n}}function Ps(e){return function(t,n,r){for(var i=-1,c=ke(t),m=r(t),g=m.length;g--;){var _=m[e?g:++i];if(n(c[_],_,c)===!1)break}return t}}function Gf(e,t,n){function r(){return(this&&this!==Je&&this instanceof r?c:e).apply(i?n:this,arguments)}var i=t&vt,c=jr(e);return r}function zs(e){return function(t){t=ve(t);var n=yt(t)?Ne(t):d,r=n?n[0]:t.charAt(0),i=n?gn(n,1).join(""):t.slice(1);return r[e]()+i}}function Qn(e){return function(t){return E(ku(Fu(t).replace(Md,"")),e,"")}}function jr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ir(e.prototype),r=e.apply(n,t);return Le(r)?r:n}}function Kf(e,t,n){function r(){for(var c=arguments.length,m=Ve(c),g=c,_=er(r);g--;)m[g]=arguments[g];var k=c<3&&m[0]!==_&&m[c-1]!==_?[]:wt(m,_);return c-=k.length,c<n?Zs(e,t,ia,r.placeholder,d,m,k,d,d,n-c):u(this&&this!==Je&&this instanceof r?i:e,this,m)}var i=jr(e);return r}function Us(e){return function(t,n,r){var i=ke(t);if(!pt(t)){var c=X(n,3);t=Ge(t),n=function(g){return c(i[g],g,i)}}var m=e(t,n,r);return m>-1?i[c?t[m]:m]:d}}function Bs(e){return tn(function(t){var n=t.length,r=n,i=J.prototype.thru;for(e&&t.reverse();r--;){var c=t[r];if(typeof c!="function")throw new Rt(He);if(i&&!m&&ca(c)=="wrapper")var m=new J([],!0)}for(r=m?r:n;++r<n;){c=t[r];var g=ca(c),_=g=="wrapper"?ii(c):d;m=_&&zo(_[0])&&_[1]==(Lt|St|Nt|kn)&&!_[4].length&&_[9]==1?m[ca(_[0])].apply(m,_[3]):c.length==1&&zo(c)?m[g]():m.thru(c)}return function(){var k=arguments,F=k[0];if(m&&k.length==1&&te(F))return m.plant(F).value();for(var R=0,I=n?t[R].apply(this,k):F;++R<n;)I=t[R].call(this,I);return I}})}function ia(e,t,n,r,i,c,m,g,_,k){function F(){for(var pe=arguments.length,me=Ve(pe),rt=pe;rt--;)me[rt]=arguments[rt];if(G)var gt=er(F),xn=cr(me,gt);if(r&&(me=Os(me,r,i,G)),c&&(me=Ds(me,c,m,G)),pe-=xn,G&&pe<k)return Zs(e,t,ia,F.placeholder,n,me,wt(me,gt),g,_,k-pe);var De=I?n:this,At=W?De[e]:e;return pe=me.length,g?me=pp(me,g):ne&&pe>1&&me.reverse(),R&&_<pe&&(me.length=_),this&&this!==Je&&this instanceof F&&(At=K||jr(At)),At.apply(De,me)}var R=t&Lt,I=t&vt,W=t&Kt,G=t&(St|fn),ne=t&Zn,K=W?d:jr(e);return F}function Ws(e,t){return function(n,r){return jf(n,e,t(r),{})}}function sa(e,t){return function(n,r){var i;if(n===d&&r===d)return t;if(n!==d&&(i=n),r!==d){if(i===d)return r;typeof n=="string"||typeof r=="string"?(n=_t(n),r=_t(r)):(n=As(n),r=As(r)),i=e(n,r)}return i}}function Io(e){return tn(function(t){return t=w(t,N(X())),fe(function(n){var r=this;return e(t,function(i){return u(i,r,n)})})})}function ua(e,t){t=t===d?" ":_t(t);var n=t.length;if(n<2)return n?ko(t,e):t;var r=ko(t,Ra(e/Ut(t)));return yt(t)?gn(Ne(r),0,e).join(""):r.slice(0,e)}function Yf(e,t,n,r){function i(){for(var g=-1,_=arguments.length,k=-1,F=r.length,R=Ve(F+_),I=this&&this!==Je&&this instanceof i?m:e;++k<F;)R[k]=r[k];for(;_--;)R[k++]=arguments[++g];return u(I,c?n:this,R)}var c=t&vt,m=jr(e);return i}function Vs(e){return function(t,n,r){return r&&typeof r!="number"&&lt(t,n,r)&&(n=r=d),t=an(t),n===d?(n=t,t=0):n=an(n),r=r===d?t<n?1:-1:an(r),Of(t,n,r,e)}}function la(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=kt(t),n=kt(n)),e(t,n)}}function Zs(e,t,n,r,i,c,m,g,_,k){var F=t&St,R=F?m:d,I=F?d:m,W=F?c:d,G=F?d:c;t|=F?Nt:Fn,t&=~(F?Fn:Nt),t&it||(t&=-4);var ne=[e,t,i,W,R,G,I,g,_,k],K=n.apply(d,ne);return zo(e)&&Wu(K,ne),K.placeholder=r,ru(K,e,t)}function Eo(e){var t=nr[e];return function(n,r){if(n=kt(n),r=r==null?0:tt(se(r),292),r&&Eu(n)){var i=(ve(n)+"e").split("e");return i=(ve(t(i[0]+"e"+(+i[1]+r)))+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return t(n)}}function Hs(e){return function(t){var n=nt(t);return n==It?jn(t):n==Et?Wn(t):Ie(t,e(t))}}function en(e,t,n,r,i,c,m,g){var _=t&Kt;if(!_&&typeof e!="function")throw new Rt(He);var k=r?r.length:0;if(k||(t&=-97,r=i=d),m=m===d?m:Ze(se(m),0),g=g===d?g:se(g),k-=i?i.length:0,t&Fn){var F=r,R=i;r=i=d}var I=_?d:ii(e),W=[e,t,n,r,i,F,R,c,m,g];if(I&&cp(W,I),e=W[0],t=W[1],n=W[2],r=W[3],i=W[4],g=W[9]=W[9]===d?_?0:e.length:Ze(W[9]-k,0),!g&&t&(St|fn)&&(t&=-25),t&&t!=vt)G=t==St||t==fn?Kf(e,t,g):t!=Nt&&t!=(vt|Nt)||i.length?ia.apply(d,W):Yf(e,t,n,r);else var G=Gf(e,t,n);return ru((I?zu:Wu)(G,W),e,t)}function Gs(e,t,n,r){return e===d||Dt(e,rr[n])&&!_e.call(r,n)?t:e}function Ks(e,t,n,r,i,c){return Le(e)&&Le(t)&&(c.set(t,e),na(e,t,d,Ks,c),c.delete(t)),e}function Jf(e){return Fr(e)?d:e}function Ys(e,t,n,r,i,c){var m=n&Bt,g=e.length,_=t.length;if(g!=_&&!(m&&_>g))return!1;var k=c.get(e),F=c.get(t);if(k&&F)return k==t&&F==e;var R=-1,I=!0,W=n&dn?new Nn:d;for(c.set(e,t),c.set(t,e);++R<g;){var G=e[R],ne=t[R];if(r)var K=m?r(ne,G,R,t,e,c):r(G,ne,R,e,t,c);if(K!==d){if(K)continue;I=!1;break}if(W){if(!S(t,function(pe,me){if(!D(W,me)&&(G===pe||i(G,pe,n,r,c)))return W.push(me)})){I=!1;break}}else if(G!==ne&&!i(G,ne,n,r,c)){I=!1;break}}return c.delete(e),c.delete(t),I}function Xf(e,t,n,r,i,c,m){switch(n){case Kn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case vr:return!(e.byteLength!=t.byteLength||!c(new ja(e),new ja(t)));case Rn:case An:case hr:return Dt(+e,+t);case Hr:return e.name==t.name&&e.message==t.message;case gr:case yr:return e==t+"";case It:var g=jn;case Et:var _=r&Bt;if(g||(g=Ue),e.size!=t.size&&!_)return!1;var k=m.get(e);if(k)return k==t;r|=dn,m.set(e,t);var F=Ys(g(e),g(t),r,i,c,m);return m.delete(e),F;case Kr:if(Sr)return Sr.call(e)==Sr.call(t)}return!1}function Qf(e,t,n,r,i,c){var m=n&Bt,g=Oo(e),_=g.length;if(_!=Oo(t).length&&!m)return!1;for(var k=_;k--;){var F=g[k];if(!(m?F in t:_e.call(t,F)))return!1}var R=c.get(e),I=c.get(t);if(R&&I)return R==t&&I==e;var W=!0;c.set(e,t),c.set(t,e);for(var G=m;++k<_;){F=g[k];var ne=e[F],K=t[F];if(r)var pe=m?r(K,ne,F,t,e,c):r(ne,K,F,e,t,c);if(!(pe===d?ne===K||i(ne,K,n,r,c):pe)){W=!1;break}G||(G=F=="constructor")}if(W&&!G){var me=e.constructor,rt=t.constructor;me!=rt&&"constructor"in e&&"constructor"in t&&!(typeof me=="function"&&me instanceof me&&typeof rt=="function"&&rt instanceof rt)&&(W=!1)}return c.delete(e),c.delete(t),W}function tn(e){return ui(tu(e,d,uu),e+"")}function Oo(e){return bs(e,Ge,si)}function Do(e){return bs(e,mt,Bu)}function ca(e){for(var t=e.name+"",n=or[t],r=_e.call(or,t)?n.length:0;r--;){var i=n[r],c=i.func;if(c==null||c==e)return i.name}return t}function er(e){return(_e.call(o,"placeholder")?o:e).placeholder}function X(){var e=o.iteratee||Ko;return e=e===Ko?_s:e,arguments.length?e(arguments[0],arguments[1]):e}function da(e,t){var n=e.__data__;return sp(t)?n[typeof t=="string"?"string":"hash"]:n.map}function qo(e){for(var t=Ge(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Qs(i)]}return t}function En(e,t){var n=zt(e,t);return xs(n)?n:d}function ep(e){var t=_e.call(e,Dn),n=e[Dn];try{e[Dn]=d;var r=!0}catch{}var i=wa.call(e);return r&&(t?e[Dn]=n:delete e[Dn]),i}function tp(e,t,n){for(var r=-1,i=n.length;++r<i;){var c=n[r],m=c.size;switch(c.type){case"drop":e+=m;break;case"dropRight":t-=m;break;case"take":t=tt(t,e+m);break;case"takeRight":e=Ze(e,t-m)}}return{start:e,end:t}}function np(e){var t=e.match(Jc);return t?t[1].split(Xc):[]}function Js(e,t,n){t=hn(t,e);for(var r=-1,i=t.length,c=!1;++r<i;){var m=Zt(t[r]);if(!(c=e!=null&&n(e,m)))break;e=e[m]}return c||++r!=i?c:(i=e==null?0:e.length,!!i&&ya(i)&&nn(m,i)&&(te(e)||qn(e)))}function rp(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&_e.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Xs(e){return typeof e.constructor!="function"||Mr(e)?{}:ir(Ma(e))}function ap(e,t,n){var r=e.constructor;switch(t){case vr:return Lo(e);case Rn:case An:return new r(+e);case Kn:return Uf(e,n);case Xa:case Qa:case eo:case to:case no:case ro:case ao:case oo:case io:return Is(e,n);case It:return new r;case hr:case yr:return new r(e);case gr:return Bf(e);case Et:return new r;case Kr:return Wf(e)}}function op(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Yc,`{
/* [wrapped with `+t+`] */
`)}function ip(e){return te(e)||qn(e)||!!(Iu&&e&&e[Iu])}function nn(e,t){var n=typeof e;return t=t??pn,!!t&&(n=="number"||n!="symbol"&&sd.test(e))&&e>-1&&e%1==0&&e<t}function lt(e,t,n){if(!Le(n))return!1;var r=typeof t;return!!(r=="number"?pt(n)&&nn(t,n.length):r=="string"&&t in n)&&Dt(n[t],e)}function Po(e,t){if(te(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!Ct(e))||Zc.test(e)||!Vc.test(e)||t!=null&&e in ke(t)}function sp(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function zo(e){var t=ca(e),n=o[t];if(typeof n!="function"||!(t in z.prototype))return!1;if(e===n)return!0;var r=ii(n);return!!r&&e===r[0]}function up(e){return!!$u&&$u in e}function Mr(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||rr)}function Qs(e){return e===e&&!Le(e)}function eu(e,t){return function(n){return n!=null&&n[e]===t&&(t!==d||e in ke(n))}}function lp(e){var t=ha(e,function(r){return n.size===Mn&&n.clear(),r}),n=t.cache;return t}function cp(e,t){var n=e[1],r=t[1],i=n|r,c=i<(vt|Kt|Lt),m=r==Lt&&n==St||r==Lt&&n==kn&&e[7].length<=t[8]||r==(Lt|kn)&&t[7].length<=t[8]&&n==St;if(!c&&!m)return e;r&vt&&(e[2]=t[2],i|=n&vt?0:it);var g=t[3];if(g){var _=e[3];e[3]=_?Os(_,g,t[4]):g,e[4]=_?wt(e[3],bt):t[4]}return g=t[5],g&&(_=e[5],e[5]=_?Ds(_,g,t[6]):g,e[6]=_?wt(e[5],bt):t[6]),g=t[7],g&&(e[7]=g),r&Lt&&(e[8]=e[8]==null?t[8]:tt(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function dp(e){var t=[];if(e!=null)for(var n in ke(e))t.push(n);return t}function fp(e){return wa.call(e)}function tu(e,t,n){return t=Ze(t===d?e.length-1:t,0),function(){for(var r=arguments,i=-1,c=Ze(r.length-t,0),m=Ve(c);++i<c;)m[i]=r[t+i];i=-1;for(var g=Ve(t+1);++i<t;)g[i]=r[i];return g[t]=n(m),u(e,this,g)}}function nu(e,t){return t.length<2?e:In(e,Mt(t,0,-1))}function pp(e,t){for(var n=e.length,r=tt(t.length,n),i=ft(e);r--;){var c=t[r];e[r]=nn(c,n)?i[c]:d}return e}function Uo(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]}function ru(e,t,n){var r=t+"";return ui(e,op(r,mp(np(r),n)))}function au(e){var t=0,n=0;return function(){var r=Cg(),i=Vr-(r-n);if(n=r,i>0){if(++t>=Wr)return arguments[0]}else t=0;return e.apply(d,arguments)}}function fa(e,t){var n=-1,r=e.length,i=r-1;for(t=t===d?r:t;++n<t;){var c=Fo(n,i),m=e[c];e[c]=e[n],e[n]=m}return e.length=t,e}function Zt(e){if(typeof e=="string"||Ct(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function On(e){if(e!=null){try{return Ca.call(e)}catch{}try{return e+""}catch{}}return""}function mp(e,t){return f(be,function(n){var r="_."+n[0];t&n[1]&&!x(e,r)&&e.push(r)}),e.sort()}function ou(e){if(e instanceof z)return e.clone();var t=new J(e.__wrapped__,e.__chain__);return t.__actions__=ft(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function hp(e,t,n){t=(n?lt(e,t,n):t===d)?1:Ze(se(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,c=0,m=Ve(Ra(r/t));i<r;)m[c++]=Mt(e,i,i+=t);return m}function gp(e){for(var t=-1,n=e==null?0:e.length,r=0,i=[];++t<n;){var c=e[t];c&&(i[r++]=c)}return i}function yp(){var e=arguments.length;if(!e)return[];for(var t=Ve(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return j(te(n)?ft(n):[n],Xe(t,1))}function bp(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===d?1:se(t),Mt(e,t<0?0:t,r)):[]}function vp(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===d?1:se(t),t=r-t,Mt(e,0,t<0?0:t)):[]}function xp(e,t){return e&&e.length?aa(e,X(t,3),!0,!0):[]}function _p(e,t){return e&&e.length?aa(e,X(t,3),!0):[]}function Cp(e,t,n,r){var i=e==null?0:e.length;return i?(n&&typeof n!="number"&&lt(e,t,n)&&(n=0,r=i),_f(e,t,n,r)):[]}function iu(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:se(n);return i<0&&(i=Ze(r+i,0)),L(e,X(t,3),i)}function su(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=r-1;return n!==d&&(i=se(n),i=n<0?Ze(r+i,0):tt(i,r-1)),L(e,X(t,3),i,!0)}function uu(e){return e!=null&&e.length?Xe(e,1):[]}function wp(e){return e!=null&&e.length?Xe(e,Hn):[]}function Tp(e,t){return e!=null&&e.length?(t=t===d?1:se(t),Xe(e,t)):[]}function jp(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function lu(e){return e&&e.length?e[0]:d}function Mp(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:se(n);return i<0&&(i=Ze(r+i,0)),A(e,t,i)}function Fp(e){return e!=null&&e.length?Mt(e,0,-1):[]}function kp(e,t){return e==null?"":xg.call(e,t)}function Ft(e){var t=e==null?0:e.length;return t?e[t-1]:d}function Rp(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=r;return n!==d&&(i=se(n),i=i<0?Ze(r+i,0):tt(i,r-1)),t===t?pr(e,t,i):L(e,ce,i,!0)}function Ap(e,t){return e&&e.length?js(e,se(t)):d}function cu(e,t){return e&&e.length&&t&&t.length?Mo(e,t):e}function $p(e,t,n){return e&&e.length&&t&&t.length?Mo(e,t,X(n,2)):e}function Sp(e,t,n){return e&&e.length&&t&&t.length?Mo(e,t,d,n):e}function Np(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],c=e.length;for(t=X(t,3);++r<c;){var m=e[r];t(m,r,e)&&(n.push(m),i.push(r))}return ks(e,i),n}function Bo(e){return e==null?e:Tg.call(e)}function Lp(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&lt(e,t,n)?(t=0,n=r):(t=t==null?0:se(t),n=n===d?r:se(n)),Mt(e,t,n)):[]}function Ip(e,t){return ra(e,t)}function Ep(e,t,n){return Ro(e,t,X(n,2))}function Op(e,t){var n=e==null?0:e.length;if(n){var r=ra(e,t);if(r<n&&Dt(e[r],t))return r}return-1}function Dp(e,t){return ra(e,t,!0)}function qp(e,t,n){return Ro(e,t,X(n,2),!0)}function Pp(e,t){if(e!=null&&e.length){var n=ra(e,t,!0)-1;if(Dt(e[n],t))return n}return-1}function zp(e){return e&&e.length?Rs(e):[]}function Up(e,t){return e&&e.length?Rs(e,X(t,2)):[]}function Bp(e){var t=e==null?0:e.length;return t?Mt(e,1,t):[]}function Wp(e,t,n){return e&&e.length?(t=n||t===d?1:se(t),Mt(e,0,t<0?0:t)):[]}function Vp(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===d?1:se(t),t=r-t,Mt(e,t<0?0:t,r)):[]}function Zp(e,t){return e&&e.length?aa(e,X(t,3),!1,!0):[]}function Hp(e,t){return e&&e.length?aa(e,X(t,3)):[]}function Gp(e){return e&&e.length?mn(e):[]}function Kp(e,t){return e&&e.length?mn(e,X(t,2)):[]}function Yp(e,t){return t=typeof t=="function"?t:d,e&&e.length?mn(e,d,t):[]}function Wo(e){if(!e||!e.length)return[];var t=0;return e=y(e,function(n){if(qe(n))return t=Ze(n.length,t),!0}),ie(t,function(n){return w(e,ee(n))})}function du(e,t){if(!e||!e.length)return[];var n=Wo(e);return t==null?n:w(n,function(r){return u(t,d,r)})}function Jp(e,t){return Ns(e||[],t||[],xr)}function Xp(e,t){return Ns(e||[],t||[],Tr)}function fu(e){var t=o(e);return t.__chain__=!0,t}function Qp(e,t){return t(e),e}function pa(e,t){return t(e)}function em(){return fu(this)}function tm(){return new J(this.value(),this.__chain__)}function nm(){this.__values__===d&&(this.__values__=Cu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?d:this.__values__[this.__index__++]}}function rm(){return this}function am(e){for(var t,n=this;n instanceof q;){var r=ou(n);r.__index__=0,r.__values__=d,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function om(){var e=this.__wrapped__;if(e instanceof z){var t=e;return this.__actions__.length&&(t=new z(this)),t=t.reverse(),t.__actions__.push({func:pa,args:[Bo],thisArg:d}),new J(t,this.__chain__)}return this.thru(Bo)}function im(){return Ss(this.__wrapped__,this.__actions__)}function sm(e,t,n){var r=te(e)?h:xf;return n&&lt(e,t,n)&&(t=d),r(e,X(t,3))}function um(e,t){return(te(e)?y:ys)(e,X(t,3))}function lm(e,t){return Xe(ma(e,t),1)}function cm(e,t){return Xe(ma(e,t),Hn)}function dm(e,t,n){return n=n===d?1:se(n),Xe(ma(e,t),n)}function pu(e,t){return(te(e)?f:bn)(e,X(t,3))}function mu(e,t){return(te(e)?b:qu)(e,X(t,3))}function fm(e,t,n,r){e=pt(e)?e:tr(e),n=n&&!r?se(n):0;var i=e.length;return n<0&&(n=Ze(i+n,0)),ba(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&A(e,t,n)>-1}function ma(e,t){return(te(e)?w:Cs)(e,X(t,3))}function pm(e,t,n,r){return e==null?[]:(te(t)||(t=t==null?[]:[t]),n=r?d:n,te(n)||(n=n==null?[]:[n]),Ms(e,t,n))}function mm(e,t,n){var r=te(e)?E:de,i=arguments.length<3;return r(e,X(t,4),n,i,bn)}function hm(e,t,n){var r=te(e)?O:de,i=arguments.length<3;return r(e,X(t,4),n,i,qu)}function gm(e,t){return(te(e)?y:ys)(e,ga(X(t,3)))}function ym(e){return(te(e)?ps:Df)(e)}function bm(e,t,n){return t=(n?lt(e,t,n):t===d)?1:se(t),(te(e)?hf:qf)(e,t)}function vm(e){return(te(e)?gf:Pf)(e)}function xm(e){if(e==null)return 0;if(pt(e))return ba(e)?Ut(e):e.length;var t=nt(e);return t==It||t==Et?e.size:To(e).length}function _m(e,t,n){var r=te(e)?S:zf;return n&&lt(e,t,n)&&(t=d),r(e,X(t,3))}function Cm(e,t){if(typeof t!="function")throw new Rt(He);return e=se(e),function(){if(--e<1)return t.apply(this,arguments)}}function hu(e,t,n){return t=n?d:t,t=e&&t==null?e.length:t,en(e,Lt,d,d,d,d,t)}function gu(e,t){var n;if(typeof t!="function")throw new Rt(He);return e=se(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=d),n}}function yu(e,t,n){t=n?d:t;var r=en(e,St,d,d,d,d,d,t);return r.placeholder=yu.placeholder,r}function bu(e,t,n){t=n?d:t;var r=en(e,fn,d,d,d,d,d,t);return r.placeholder=bu.placeholder,r}function vu(e,t,n){function r(De){var At=I,Lr=W;return I=W=d,me=De,ne=e.apply(Lr,At)}function i(De){return me=De,K=Nr(g,t),rt?r(De):ne}function c(De){var At=De-pe,Lr=De-me,tl=t-At;return gt?tt(tl,G-Lr):tl}function m(De){var At=De-pe,Lr=De-me;return pe===d||At>=t||At<0||gt&&Lr>=G}function g(){var De=Na();return m(De)?_(De):(K=Nr(g,c(De)),d)}function _(De){return K=d,xn&&I?r(De):(I=W=d,ne)}function k(){K!==d&&Uu(K),me=0,I=pe=W=K=d}function F(){return K===d?ne:_(Na())}function R(){var De=Na(),At=m(De);if(I=arguments,W=this,pe=De,At){if(K===d)return i(pe);if(gt)return Uu(K),K=Nr(g,t),r(pe)}return K===d&&(K=Nr(g,t)),ne}var I,W,G,ne,K,pe,me=0,rt=!1,gt=!1,xn=!0;if(typeof e!="function")throw new Rt(He);return t=kt(t)||0,Le(n)&&(rt=!!n.leading,gt="maxWait"in n,G=gt?Ze(kt(n.maxWait)||0,t):G,xn="trailing"in n?!!n.trailing:xn),R.cancel=k,R.flush=F,R}function wm(e){return en(e,Zn)}function ha(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Rt(He);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],c=n.cache;if(c.has(i))return c.get(i);var m=e.apply(this,r);return n.cache=c.set(i,m)||c,m};return n.cache=new(ha.Cache||Xt),n}function ga(e){if(typeof e!="function")throw new Rt(He);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Tm(e){return gu(2,e)}function jm(e,t){if(typeof e!="function")throw new Rt(He);return t=t===d?t:se(t),fe(e,t)}function Mm(e,t){if(typeof e!="function")throw new Rt(He);return t=t==null?0:Ze(se(t),0),fe(function(n){var r=n[t],i=gn(n,0,t);return r&&j(i,r),u(e,this,i)})}function Fm(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new Rt(He);return Le(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),vu(e,t,{leading:r,maxWait:t,trailing:i})}function km(e){return hu(e,1)}function Rm(e,t){return ci(No(t),e)}function Am(){if(!arguments.length)return[];var e=arguments[0];return te(e)?e:[e]}function $m(e){return jt(e,Gt)}function Sm(e,t){return t=typeof t=="function"?t:d,jt(e,Gt,t)}function Nm(e){return jt(e,ot|Gt)}function Lm(e,t){return t=typeof t=="function"?t:d,jt(e,ot|Gt,t)}function Im(e,t){return t==null||hs(e,t,Ge(t))}function Dt(e,t){return e===t||e!==e&&t!==t}function pt(e){return e!=null&&ya(e.length)&&!rn(e)}function qe(e){return Oe(e)&&pt(e)}function Em(e){return e===!0||e===!1||Oe(e)&&ut(e)==Rn}function Om(e){return Oe(e)&&e.nodeType===1&&!Fr(e)}function Dm(e){if(e==null)return!0;if(pt(e)&&(te(e)||typeof e=="string"||typeof e.splice=="function"||vn(e)||sr(e)||qn(e)))return!e.length;var t=nt(e);if(t==It||t==Et)return!e.size;if(Mr(e))return!To(e).length;for(var n in e)if(_e.call(e,n))return!1;return!0}function qm(e,t){return wr(e,t)}function Pm(e,t,n){n=typeof n=="function"?n:d;var r=n?n(e,t):d;return r===d?wr(e,t,d,n):!!r}function Vo(e){if(!Oe(e))return!1;var t=ut(e);return t==Hr||t==Nc||typeof e.message=="string"&&typeof e.name=="string"&&!Fr(e)}function zm(e){return typeof e=="number"&&Eu(e)}function rn(e){if(!Le(e))return!1;var t=ut(e);return t==Gr||t==Li||t==Ye||t==Ic}function xu(e){return typeof e=="number"&&e==se(e)}function ya(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=pn}function Le(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Oe(e){return e!=null&&typeof e=="object"}function Um(e,t){return e===t||wo(e,t,qo(t))}function Bm(e,t,n){return n=typeof n=="function"?n:d,wo(e,t,qo(t),n)}function Wm(e){return _u(e)&&e!=+e}function Vm(e){if(Ng(e))throw new ei(ct);return xs(e)}function Zm(e){return e===null}function Hm(e){return e==null}function _u(e){return typeof e=="number"||Oe(e)&&ut(e)==hr}function Fr(e){if(!Oe(e)||ut(e)!=Yt)return!1;var t=Ma(e);if(t===null)return!0;var n=_e.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Ca.call(n)==pg}function Gm(e){return xu(e)&&e>=-9007199254740991&&e<=pn}function ba(e){return typeof e=="string"||!te(e)&&Oe(e)&&ut(e)==yr}function Ct(e){return typeof e=="symbol"||Oe(e)&&ut(e)==Kr}function Km(e){return e===d}function Ym(e){return Oe(e)&&nt(e)==br}function Jm(e){return Oe(e)&&ut(e)==Oc}function Cu(e){if(!e)return[];if(pt(e))return ba(e)?Ne(e):ft(e);if(kr&&e[kr])return Un(e[kr]());var t=nt(e);return(t==It?jn:t==Et?Ue:tr)(e)}function an(e){return e?(e=kt(e),e===Hn||e===-1/0?(e<0?-1:1)*Ja:e===e?e:0):e===0?e:0}function se(e){var t=an(e),n=t%1;return t===t?n?t-n:t:0}function wu(e){return e?Ln(se(e),0,Q):0}function kt(e){if(typeof e=="number")return e;if(Ct(e))return Gn;if(Le(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Le(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ce(e);var n=ad.test(e);return n||id.test(e)?Dd(e.slice(2),n?2:8):rd.test(e)?Gn:+e}function Tu(e){return Vt(e,mt(e))}function Xm(e){return e?Ln(se(e),-9007199254740991,pn):e===0?e:0}function ve(e){return e==null?"":_t(e)}function Qm(e,t){var n=ir(e);return t==null?n:ms(n,t)}function eh(e,t){return ae(e,X(t,3),Wt)}function th(e,t){return ae(e,X(t,3),xo)}function nh(e,t){return e==null?e:oi(e,X(t,3),mt)}function rh(e,t){return e==null?e:Pu(e,X(t,3),mt)}function ah(e,t){return e&&Wt(e,X(t,3))}function oh(e,t){return e&&xo(e,X(t,3))}function ih(e){return e==null?[]:ta(e,Ge(e))}function sh(e){return e==null?[]:ta(e,mt(e))}function Zo(e,t,n){var r=e==null?d:In(e,t);return r===d?n:r}function uh(e,t){return e!=null&&Js(e,t,Cf)}function Ho(e,t){return e!=null&&Js(e,t,wf)}function Ge(e){return pt(e)?fs(e):To(e)}function mt(e){return pt(e)?fs(e,!0):Nf(e)}function lh(e,t){var n={};return t=X(t,3),Wt(e,function(r,i,c){Qt(n,t(r,i,c),r)}),n}function ch(e,t){var n={};return t=X(t,3),Wt(e,function(r,i,c){Qt(n,i,t(r,i,c))}),n}function dh(e,t){return ju(e,ga(X(t)))}function ju(e,t){if(e==null)return{};var n=w(Do(e),function(r){return[r]});return t=X(t),Fs(e,n,function(r,i){return t(r,i[0])})}function fh(e,t,n){t=hn(t,e);var r=-1,i=t.length;for(i||(i=1,e=d);++r<i;){var c=e==null?d:e[Zt(t[r])];c===d&&(r=i,c=n),e=rn(c)?c.call(e):c}return e}function ph(e,t,n){return e==null?e:Tr(e,t,n)}function mh(e,t,n,r){return r=typeof r=="function"?r:d,e==null?e:Tr(e,t,n,r)}function hh(e,t,n){var r=te(e),i=r||vn(e)||sr(e);if(t=X(t,4),n==null){var c=e&&e.constructor;n=i?r?new c:[]:Le(e)&&rn(c)?ir(Ma(e)):{}}return(i?f:Wt)(e,function(m,g,_){return t(n,m,g,_)}),n}function gh(e,t){return e==null||Ao(e,t)}function yh(e,t,n){return e==null?e:$s(e,t,No(n))}function bh(e,t,n,r){return r=typeof r=="function"?r:d,e==null?e:$s(e,t,No(n),r)}function tr(e){return e==null?[]:U(e,Ge(e))}function vh(e){return e==null?[]:U(e,mt(e))}function xh(e,t,n){return n===d&&(n=t,t=d),n!==d&&(n=kt(n),n=n===n?n:0),t!==d&&(t=kt(t),t=t===t?t:0),Ln(kt(e),t,n)}function _h(e,t,n){return t=an(t),n===d?(n=t,t=0):n=an(n),e=kt(e),Tf(e,t,n)}function Ch(e,t,n){if(n&&typeof n!="boolean"&&lt(e,t,n)&&(t=n=d),n===d&&(typeof t=="boolean"?(n=t,t=d):typeof e=="boolean"&&(n=e,e=d)),e===d&&t===d?(e=0,t=1):(e=an(e),t===d?(t=e,e=0):t=an(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Ou();return tt(e+i*(t-e+Od("1e-"+((i+"").length-1))),t)}return Fo(e,t)}function Mu(e){return fi(ve(e).toLowerCase())}function Fu(e){return e=ve(e),e&&e.replace(ud,zd).replace(Fd,"")}function wh(e,t,n){e=ve(e),t=_t(t);var r=e.length;n=n===d?r:Ln(se(n),0,r);var i=n;return n-=t.length,n>=0&&e.slice(n,i)==t}function Th(e){return e=ve(e),e&&Uc.test(e)?e.replace(Oi,Ud):e}function jh(e){return e=ve(e),e&&Gc.test(e)?e.replace(so,"\\$&"):e}function Mh(e,t,n){e=ve(e),t=se(t);var r=t?Ut(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return ua(Aa(i),n)+e+ua(Ra(i),n)}function Fh(e,t,n){e=ve(e),t=se(t);var r=t?Ut(e):0;return t&&r<t?e+ua(t-r,n):e}function kh(e,t,n){e=ve(e),t=se(t);var r=t?Ut(e):0;return t&&r<t?ua(t-r,n)+e:e}function Rh(e,t,n){return n||t==null?t=0:t&&(t=+t),wg(ve(e).replace(uo,""),t||0)}function Ah(e,t,n){return t=(n?lt(e,t,n):t===d)?1:se(t),ko(ve(e),t)}function $h(){var e=arguments,t=ve(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function Sh(e,t,n){return n&&typeof n!="number"&&lt(e,t,n)&&(t=n=d),(n=n===d?Q:n>>>0)?(e=ve(e),e&&(typeof t=="string"||t!=null&&!di(t))&&(t=_t(t),!t&&yt(e))?gn(Ne(e),0,n):e.split(t,n)):[]}function Nh(e,t,n){return e=ve(e),n=n==null?0:Ln(se(n),0,e.length),t=_t(t),e.slice(n,n+t.length)==t}function Lh(e,t,n){var r=o.templateSettings;n&&lt(e,t,n)&&(t=d),e=ve(e),t=La({},t,r,Gs);var i,c,m=La({},t.imports,r.imports,Gs),g=Ge(m),_=U(m,g),k=0,F=t.interpolate||Yr,R="__p += '",I=ti((t.escape||Yr).source+"|"+F.source+"|"+(F===Di?nd:Yr).source+"|"+(t.evaluate||Yr).source+"|$","g"),W="//# sourceURL="+(_e.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Sd+"]")+`
`;e.replace(I,function(K,pe,me,rt,gt,xn){return me||(me=rt),R+=e.slice(k,xn).replace(ld,ln),pe&&(i=!0,R+=`' +
__e(`+pe+`) +
'`),gt&&(c=!0,R+=`';
`+gt+`;
__p += '`),me&&(R+=`' +
((__t = (`+me+`)) == null ? '' : __t) +
'`),k=xn+K.length,K}),R+=`';
`;var G=_e.call(t,"variable")&&t.variable;if(G){if(ed.test(G))throw new ei(Ur)}else R=`with (obj) {
`+R+`
}
`;R=(c?R.replace(Dc,""):R).replace(qc,"$1").replace(Pc,"$1;"),R="function("+(G||"obj")+`) {
`+(G?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(i?", __e = _.escape":"")+(c?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+R+`return __p
}`;var ne=el(function(){return Au(g,W+"return "+R).apply(d,_)});if(ne.source=R,Vo(ne))throw ne;return ne}function Ih(e){return ve(e).toLowerCase()}function Eh(e){return ve(e).toUpperCase()}function Oh(e,t,n){if(e=ve(e),e&&(n||t===d))return Ce(e);if(!e||!(t=_t(t)))return e;var r=Ne(e),i=Ne(t);return gn(r,sn(r,i),un(r,i)+1).join("")}function Dh(e,t,n){if(e=ve(e),e&&(n||t===d))return e.slice(0,cn(e)+1);if(!e||!(t=_t(t)))return e;var r=Ne(e);return gn(r,0,un(r,Ne(t))+1).join("")}function qh(e,t,n){if(e=ve(e),e&&(n||t===d))return e.replace(uo,"");if(!e||!(t=_t(t)))return e;var r=Ne(e);return gn(r,sn(r,Ne(t))).join("")}function Ph(e,t){var n=Ga,r=Br;if(Le(t)){var i="separator"in t?t.separator:i;n="length"in t?se(t.length):n,r="omission"in t?_t(t.omission):r}e=ve(e);var c=e.length;if(yt(e)){var m=Ne(e);c=m.length}if(n>=c)return e;var g=n-Ut(r);if(g<1)return r;var _=m?gn(m,0,g).join(""):e.slice(0,g);if(i===d)return _+r;if(m&&(g+=_.length-g),di(i)){if(e.slice(g).search(i)){var k,F=_;for(i.global||(i=ti(i.source,ve(qi.exec(i))+"g")),i.lastIndex=0;k=i.exec(F);)var R=k.index;_=_.slice(0,R===d?g:R)}}else if(e.indexOf(_t(i),g)!=g){var I=_.lastIndexOf(i);I>-1&&(_=_.slice(0,I))}return _+r}function zh(e){return e=ve(e),e&&zc.test(e)?e.replace(Ei,Bd):e}function ku(e,t,n){return e=ve(e),t=n?d:t,t===d?dr(e)?ue(e):H(e):e.match(t)||[]}function Uh(e){var t=e==null?0:e.length,n=X();return e=t?w(e,function(r){if(typeof r[1]!="function")throw new Rt(He);return[n(r[0]),r[1]]}):[],fe(function(r){for(var i=-1;++i<t;){var c=e[i];if(u(c[0],this,r))return u(c[1],this,r)}})}function Bh(e){return vf(jt(e,ot))}function Go(e){return function(){return e}}function Wh(e,t){return e==null||e!==e?t:e}function ht(e){return e}function Ko(e){return _s(typeof e=="function"?e:jt(e,ot))}function Vh(e){return ws(jt(e,ot))}function Zh(e,t){return Ts(e,jt(t,ot))}function Yo(e,t,n){var r=Ge(t),i=ta(t,r);n!=null||Le(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=ta(t,Ge(t)));var c=!(Le(n)&&"chain"in n&&!n.chain),m=rn(e);return f(i,function(g){var _=t[g];e[g]=_,m&&(e.prototype[g]=function(){var k=this.__chain__;if(c||k){var F=e(this.__wrapped__);return(F.__actions__=ft(this.__actions__)).push({func:_,args:arguments,thisArg:e}),F.__chain__=k,F}return _.apply(e,j([this.value()],arguments))})}),e}function Hh(){return Je._===this&&(Je._=mg),this}function Jo(){}function Gh(e){return e=se(e),fe(function(t){return js(t,e)})}function Ru(e){return Po(e)?ee(Zt(e)):Ef(e)}function Kh(e){return function(t){return e==null?d:In(e,t)}}function Xo(){return[]}function Qo(){return!1}function Yh(){return{}}function Jh(){return""}function Xh(){return!0}function Qh(e,t){if(e=se(e),e<1||e>pn)return[];var n=Q,r=tt(e,Q);t=X(t),e-=Q;for(var i=ie(r,t);++n<e;)t(n);return i}function eg(e){return te(e)?w(e,Zt):Ct(e)?[e]:ft(Vu(ve(e)))}function tg(e){var t=++fg;return ve(e)+t}function ng(e){return e&&e.length?ea(e,ht,_o):d}function rg(e,t){return e&&e.length?ea(e,X(t,2),_o):d}function ag(e){return Se(e,ht)}function og(e,t){return Se(e,X(t,2))}function ig(e){return e&&e.length?ea(e,ht,jo):d}function sg(e,t){return e&&e.length?ea(e,X(t,2),jo):d}function ug(e){return e&&e.length?xe(e,ht):0}function lg(e,t){return e&&e.length?xe(e,X(t,2)):0}T=T==null?Je:Jn.defaults(Je.Object(),T,Jn.pick(Je,$d));var Ve=T.Array,va=T.Date,ei=T.Error,Au=T.Function,nr=T.Math,ke=T.Object,ti=T.RegExp,cg=T.String,Rt=T.TypeError,xa=Ve.prototype,dg=Au.prototype,rr=ke.prototype,_a=T["__core-js_shared__"],Ca=dg.toString,_e=rr.hasOwnProperty,fg=0,$u=function(){var e=/[^.]+$/.exec(_a&&_a.keys&&_a.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),wa=rr.toString,pg=Ca.call(ke),mg=Je._,hg=ti("^"+Ca.call(_e).replace(so,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ta=os?T.Buffer:d,yn=T.Symbol,ja=T.Uint8Array,Su=Ta?Ta.allocUnsafe:d,Ma=Bn(ke.getPrototypeOf,ke),Nu=ke.create,Lu=rr.propertyIsEnumerable,Fa=xa.splice,Iu=yn?yn.isConcatSpreadable:d,kr=yn?yn.iterator:d,Dn=yn?yn.toStringTag:d,ka=function(){try{var e=En(ke,"defineProperty");return e({},"",{}),e}catch{}}(),gg=T.clearTimeout!==Je.clearTimeout&&T.clearTimeout,yg=va&&va.now!==Je.Date.now&&va.now,bg=T.setTimeout!==Je.setTimeout&&T.setTimeout,Ra=nr.ceil,Aa=nr.floor,ni=ke.getOwnPropertySymbols,vg=Ta?Ta.isBuffer:d,Eu=T.isFinite,xg=xa.join,_g=Bn(ke.keys,ke),Ze=nr.max,tt=nr.min,Cg=va.now,wg=T.parseInt,Ou=nr.random,Tg=xa.reverse,ri=En(T,"DataView"),Rr=En(T,"Map"),ai=En(T,"Promise"),ar=En(T,"Set"),Ar=En(T,"WeakMap"),$r=En(ke,"create"),$a=Ar&&new Ar,or={},jg=On(ri),Mg=On(Rr),Fg=On(ai),kg=On(ar),Rg=On(Ar),Sa=yn?yn.prototype:d,Sr=Sa?Sa.valueOf:d,Du=Sa?Sa.toString:d,ir=function(){function e(){}return function(t){if(!Le(t))return{};if(Nu)return Nu(t);e.prototype=t;var n=new e;return e.prototype=d,n}}();o.templateSettings={escape:Bc,evaluate:Wc,interpolate:Di,variable:"",imports:{_:o}},o.prototype=q.prototype,o.prototype.constructor=o,J.prototype=ir(q.prototype),J.prototype.constructor=J,z.prototype=ir(q.prototype),z.prototype.constructor=z,Sn.prototype.clear=Zd,Sn.prototype.delete=Hd,Sn.prototype.get=Gd,Sn.prototype.has=Kd,Sn.prototype.set=Yd,Jt.prototype.clear=Jd,Jt.prototype.delete=Xd,Jt.prototype.get=Qd,Jt.prototype.has=ef,Jt.prototype.set=tf,Xt.prototype.clear=nf,Xt.prototype.delete=rf,Xt.prototype.get=af,Xt.prototype.has=of,Xt.prototype.set=sf,Nn.prototype.add=Nn.prototype.push=uf,Nn.prototype.has=lf,Ot.prototype.clear=cf,Ot.prototype.delete=df,Ot.prototype.get=ff,Ot.prototype.has=pf,Ot.prototype.set=mf;var bn=qs(Wt),qu=qs(xo,!0),oi=Ps(),Pu=Ps(!0),zu=$a?function(e,t){return $a.set(e,t),e}:ht,Ag=ka?function(e,t){return ka(e,"toString",{configurable:!0,enumerable:!1,value:Go(t),writable:!0})}:ht,$g=fe,Uu=gg||function(e){return Je.clearTimeout(e)},Sg=ar&&1/Ue(new ar([,-0]))[1]==Hn?function(e){return new ar(e)}:Jo,ii=$a?function(e){return $a.get(e)}:Jo,si=ni?function(e){return e==null?[]:(e=ke(e),y(ni(e),function(t){return Lu.call(e,t)}))}:Xo,Bu=ni?function(e){for(var t=[];e;)j(t,si(e)),e=Ma(e);return t}:Xo,nt=ut;(ri&&nt(new ri(new ArrayBuffer(1)))!=Kn||Rr&&nt(new Rr)!=It||ai&&nt(ai.resolve())!=Ii||ar&&nt(new ar)!=Et||Ar&&nt(new Ar)!=br)&&(nt=function(e){var t=ut(e),n=t==Yt?e.constructor:d,r=n?On(n):"";if(r)switch(r){case jg:return Kn;case Mg:return It;case Fg:return Ii;case kg:return Et;case Rg:return br}return t});var Ng=_a?rn:Qo,Wu=au(zu),Nr=bg||function(e,t){return Je.setTimeout(e,t)},ui=au(Ag),Vu=lp(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Hc,function(n,r,i,c){t.push(i?c.replace(td,"$1"):r||n)}),t}),Lg=fe(function(e,t){return qe(e)?_r(e,Xe(t,1,qe,!0)):[]}),Ig=fe(function(e,t){var n=Ft(t);return qe(n)&&(n=d),qe(e)?_r(e,Xe(t,1,qe,!0),X(n,2)):[]}),Eg=fe(function(e,t){var n=Ft(t);return qe(n)&&(n=d),qe(e)?_r(e,Xe(t,1,qe,!0),d,n):[]}),Og=fe(function(e){var t=w(e,So);return t.length&&t[0]===e[0]?Co(t):[]}),Dg=fe(function(e){var t=Ft(e),n=w(e,So);return t===Ft(n)?t=d:n.pop(),n.length&&n[0]===e[0]?Co(n,X(t,2)):[]}),qg=fe(function(e){var t=Ft(e),n=w(e,So);return t=typeof t=="function"?t:d,t&&n.pop(),n.length&&n[0]===e[0]?Co(n,d,t):[]}),Pg=fe(cu),zg=tn(function(e,t){var n=e==null?0:e.length,r=vo(e,t);return ks(e,w(t,function(i){return nn(i,n)?+i:i}).sort(Es)),r}),Ug=fe(function(e){return mn(Xe(e,1,qe,!0))}),Bg=fe(function(e){var t=Ft(e);return qe(t)&&(t=d),mn(Xe(e,1,qe,!0),X(t,2))}),Wg=fe(function(e){var t=Ft(e);return t=typeof t=="function"?t:d,mn(Xe(e,1,qe,!0),d,t)}),Vg=fe(function(e,t){return qe(e)?_r(e,t):[]}),Zg=fe(function(e){return $o(y(e,qe))}),Hg=fe(function(e){var t=Ft(e);return qe(t)&&(t=d),$o(y(e,qe),X(t,2))}),Gg=fe(function(e){var t=Ft(e);return t=typeof t=="function"?t:d,$o(y(e,qe),d,t)}),Kg=fe(Wo),Yg=fe(function(e){var t=e.length,n=t>1?e[t-1]:d;return n=typeof n=="function"?(e.pop(),n):d,du(e,n)}),Jg=tn(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(c){return vo(c,e)};return!(t>1||this.__actions__.length)&&r instanceof z&&nn(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:pa,args:[i],thisArg:d}),new J(r,this.__chain__).thru(function(c){return t&&!c.length&&c.push(d),c})):this.thru(i)}),Xg=oa(function(e,t,n){_e.call(e,n)?++e[n]:Qt(e,n,1)}),Qg=Us(iu),ey=Us(su),ty=oa(function(e,t,n){_e.call(e,n)?e[n].push(t):Qt(e,n,[t])}),ny=fe(function(e,t,n){var r=-1,i=typeof t=="function",c=pt(e)?Ve(e.length):[];return bn(e,function(m){c[++r]=i?u(t,m,n):Cr(m,t,n)}),c}),ry=oa(function(e,t,n){Qt(e,n,t)}),ay=oa(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),oy=fe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&lt(e,t[0],t[1])?t=[]:n>2&&lt(t[0],t[1],t[2])&&(t=[t[0]]),Ms(e,Xe(t,1),[])}),Na=yg||function(){return Je.Date.now()},li=fe(function(e,t,n){var r=vt;if(n.length){var i=wt(n,er(li));r|=Nt}return en(e,r,t,n,i)}),Zu=fe(function(e,t,n){var r=vt|Kt;if(n.length){var i=wt(n,er(Zu));r|=Nt}return en(t,r,e,n,i)}),iy=fe(function(e,t){return gs(e,1,t)}),sy=fe(function(e,t,n){return gs(e,kt(t)||0,n)});ha.Cache=Xt;var uy=$g(function(e,t){t=t.length==1&&te(t[0])?w(t[0],N(X())):w(Xe(t,1),N(X()));var n=t.length;return fe(function(r){for(var i=-1,c=tt(r.length,n);++i<c;)r[i]=t[i].call(this,r[i]);return u(e,this,r)})}),ci=fe(function(e,t){return en(e,Nt,d,t,wt(t,er(ci)))}),Hu=fe(function(e,t){return en(e,Fn,d,t,wt(t,er(Hu)))}),ly=tn(function(e,t){return en(e,kn,d,d,d,t)}),cy=la(_o),dy=la(function(e,t){return e>=t}),qn=vs(function(){return arguments}())?vs:function(e){return Oe(e)&&_e.call(e,"callee")&&!Lu.call(e,"callee")},te=Ve.isArray,fy=is?N(is):Mf,vn=vg||Qo,py=ss?N(ss):Ff,Gu=us?N(us):Rf,di=ls?N(ls):Af,Ku=cs?N(cs):$f,sr=ds?N(ds):Sf,my=la(jo),hy=la(function(e,t){return e<=t}),gy=Xn(function(e,t){if(Mr(t)||pt(t))return Vt(t,Ge(t),e),d;for(var n in t)_e.call(t,n)&&xr(e,n,t[n])}),Yu=Xn(function(e,t){Vt(t,mt(t),e)}),La=Xn(function(e,t,n,r){Vt(t,mt(t),e,r)}),yy=Xn(function(e,t,n,r){Vt(t,Ge(t),e,r)}),by=tn(vo),vy=fe(function(e,t){e=ke(e);var n=-1,r=t.length,i=r>2?t[2]:d;for(i&&lt(t[0],t[1],i)&&(r=1);++n<r;)for(var c=t[n],m=mt(c),g=-1,_=m.length;++g<_;){var k=m[g],F=e[k];(F===d||Dt(F,rr[k])&&!_e.call(e,k))&&(e[k]=c[k])}return e}),xy=fe(function(e){return e.push(d,Ks),u(Ju,d,e)}),_y=Ws(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=wa.call(t)),e[t]=n},Go(ht)),Cy=Ws(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=wa.call(t)),_e.call(e,t)?e[t].push(n):e[t]=[n]},X),wy=fe(Cr),Ty=Xn(function(e,t,n){na(e,t,n)}),Ju=Xn(function(e,t,n,r){na(e,t,n,r)}),jy=tn(function(e,t){var n={};if(e==null)return n;var r=!1;t=w(t,function(c){return c=hn(c,e),r||(r=c.length>1),c}),Vt(e,Do(e),n),r&&(n=jt(n,ot|mr|Gt,Jf));for(var i=t.length;i--;)Ao(n,t[i]);return n}),My=tn(function(e,t){return e==null?{}:If(e,t)}),Xu=Hs(Ge),Qu=Hs(mt),Fy=Qn(function(e,t,n){return t=t.toLowerCase(),e+(n?Mu(t):t)}),ky=Qn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ry=Qn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ay=zs("toLowerCase"),$y=Qn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Sy=Qn(function(e,t,n){return e+(n?" ":"")+fi(t)}),Ny=Qn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),fi=zs("toUpperCase"),el=fe(function(e,t){try{return u(e,d,t)}catch(n){return Vo(n)?n:new ei(n)}}),Ly=tn(function(e,t){return f(t,function(n){n=Zt(n),Qt(e,n,li(e[n],e))}),e}),Iy=Bs(),Ey=Bs(!0),Oy=fe(function(e,t){return function(n){return Cr(n,e,t)}}),Dy=fe(function(e,t){return function(n){return Cr(e,n,t)}}),qy=Io(w),Py=Io(h),zy=Io(S),Uy=Vs(),By=Vs(!0),Wy=sa(function(e,t){return e+t},0),Vy=Eo("ceil"),Zy=sa(function(e,t){return e/t},1),Hy=Eo("floor"),Gy=sa(function(e,t){return e*t},1),Ky=Eo("round"),Yy=sa(function(e,t){return e-t},0);return o.after=Cm,o.ary=hu,o.assign=gy,o.assignIn=Yu,o.assignInWith=La,o.assignWith=yy,o.at=by,o.before=gu,o.bind=li,o.bindAll=Ly,o.bindKey=Zu,o.castArray=Am,o.chain=fu,o.chunk=hp,o.compact=gp,o.concat=yp,o.cond=Uh,o.conforms=Bh,o.constant=Go,o.countBy=Xg,o.create=Qm,o.curry=yu,o.curryRight=bu,o.debounce=vu,o.defaults=vy,o.defaultsDeep=xy,o.defer=iy,o.delay=sy,o.difference=Lg,o.differenceBy=Ig,o.differenceWith=Eg,o.drop=bp,o.dropRight=vp,o.dropRightWhile=xp,o.dropWhile=_p,o.fill=Cp,o.filter=um,o.flatMap=lm,o.flatMapDeep=cm,o.flatMapDepth=dm,o.flatten=uu,o.flattenDeep=wp,o.flattenDepth=Tp,o.flip=wm,o.flow=Iy,o.flowRight=Ey,o.fromPairs=jp,o.functions=ih,o.functionsIn=sh,o.groupBy=ty,o.initial=Fp,o.intersection=Og,o.intersectionBy=Dg,o.intersectionWith=qg,o.invert=_y,o.invertBy=Cy,o.invokeMap=ny,o.iteratee=Ko,o.keyBy=ry,o.keys=Ge,o.keysIn=mt,o.map=ma,o.mapKeys=lh,o.mapValues=ch,o.matches=Vh,o.matchesProperty=Zh,o.memoize=ha,o.merge=Ty,o.mergeWith=Ju,o.method=Oy,o.methodOf=Dy,o.mixin=Yo,o.negate=ga,o.nthArg=Gh,o.omit=jy,o.omitBy=dh,o.once=Tm,o.orderBy=pm,o.over=qy,o.overArgs=uy,o.overEvery=Py,o.overSome=zy,o.partial=ci,o.partialRight=Hu,o.partition=ay,o.pick=My,o.pickBy=ju,o.property=Ru,o.propertyOf=Kh,o.pull=Pg,o.pullAll=cu,o.pullAllBy=$p,o.pullAllWith=Sp,o.pullAt=zg,o.range=Uy,o.rangeRight=By,o.rearg=ly,o.reject=gm,o.remove=Np,o.rest=jm,o.reverse=Bo,o.sampleSize=bm,o.set=ph,o.setWith=mh,o.shuffle=vm,o.slice=Lp,o.sortBy=oy,o.sortedUniq=zp,o.sortedUniqBy=Up,o.split=Sh,o.spread=Mm,o.tail=Bp,o.take=Wp,o.takeRight=Vp,o.takeRightWhile=Zp,o.takeWhile=Hp,o.tap=Qp,o.throttle=Fm,o.thru=pa,o.toArray=Cu,o.toPairs=Xu,o.toPairsIn=Qu,o.toPath=eg,o.toPlainObject=Tu,o.transform=hh,o.unary=km,o.union=Ug,o.unionBy=Bg,o.unionWith=Wg,o.uniq=Gp,o.uniqBy=Kp,o.uniqWith=Yp,o.unset=gh,o.unzip=Wo,o.unzipWith=du,o.update=yh,o.updateWith=bh,o.values=tr,o.valuesIn=vh,o.without=Vg,o.words=ku,o.wrap=Rm,o.xor=Zg,o.xorBy=Hg,o.xorWith=Gg,o.zip=Kg,o.zipObject=Jp,o.zipObjectDeep=Xp,o.zipWith=Yg,o.entries=Xu,o.entriesIn=Qu,o.extend=Yu,o.extendWith=La,Yo(o,o),o.add=Wy,o.attempt=el,o.camelCase=Fy,o.capitalize=Mu,o.ceil=Vy,o.clamp=xh,o.clone=$m,o.cloneDeep=Nm,o.cloneDeepWith=Lm,o.cloneWith=Sm,o.conformsTo=Im,o.deburr=Fu,o.defaultTo=Wh,o.divide=Zy,o.endsWith=wh,o.eq=Dt,o.escape=Th,o.escapeRegExp=jh,o.every=sm,o.find=Qg,o.findIndex=iu,o.findKey=eh,o.findLast=ey,o.findLastIndex=su,o.findLastKey=th,o.floor=Hy,o.forEach=pu,o.forEachRight=mu,o.forIn=nh,o.forInRight=rh,o.forOwn=ah,o.forOwnRight=oh,o.get=Zo,o.gt=cy,o.gte=dy,o.has=uh,o.hasIn=Ho,o.head=lu,o.identity=ht,o.includes=fm,o.indexOf=Mp,o.inRange=_h,o.invoke=wy,o.isArguments=qn,o.isArray=te,o.isArrayBuffer=fy,o.isArrayLike=pt,o.isArrayLikeObject=qe,o.isBoolean=Em,o.isBuffer=vn,o.isDate=py,o.isElement=Om,o.isEmpty=Dm,o.isEqual=qm,o.isEqualWith=Pm,o.isError=Vo,o.isFinite=zm,o.isFunction=rn,o.isInteger=xu,o.isLength=ya,o.isMap=Gu,o.isMatch=Um,o.isMatchWith=Bm,o.isNaN=Wm,o.isNative=Vm,o.isNil=Hm,o.isNull=Zm,o.isNumber=_u,o.isObject=Le,o.isObjectLike=Oe,o.isPlainObject=Fr,o.isRegExp=di,o.isSafeInteger=Gm,o.isSet=Ku,o.isString=ba,o.isSymbol=Ct,o.isTypedArray=sr,o.isUndefined=Km,o.isWeakMap=Ym,o.isWeakSet=Jm,o.join=kp,o.kebabCase=ky,o.last=Ft,o.lastIndexOf=Rp,o.lowerCase=Ry,o.lowerFirst=Ay,o.lt=my,o.lte=hy,o.max=ng,o.maxBy=rg,o.mean=ag,o.meanBy=og,o.min=ig,o.minBy=sg,o.stubArray=Xo,o.stubFalse=Qo,o.stubObject=Yh,o.stubString=Jh,o.stubTrue=Xh,o.multiply=Gy,o.nth=Ap,o.noConflict=Hh,o.noop=Jo,o.now=Na,o.pad=Mh,o.padEnd=Fh,o.padStart=kh,o.parseInt=Rh,o.random=Ch,o.reduce=mm,o.reduceRight=hm,o.repeat=Ah,o.replace=$h,o.result=fh,o.round=Ky,o.runInContext=v,o.sample=ym,o.size=xm,o.snakeCase=$y,o.some=_m,o.sortedIndex=Ip,o.sortedIndexBy=Ep,o.sortedIndexOf=Op,o.sortedLastIndex=Dp,o.sortedLastIndexBy=qp,o.sortedLastIndexOf=Pp,o.startCase=Sy,o.startsWith=Nh,o.subtract=Yy,o.sum=ug,o.sumBy=lg,o.template=Lh,o.times=Qh,o.toFinite=an,o.toInteger=se,o.toLength=wu,o.toLower=Ih,o.toNumber=kt,o.toSafeInteger=Xm,o.toString=ve,o.toUpper=Eh,o.trim=Oh,o.trimEnd=Dh,o.trimStart=qh,o.truncate=Ph,o.unescape=zh,o.uniqueId=tg,o.upperCase=Ny,o.upperFirst=fi,o.each=pu,o.eachRight=mu,o.first=lu,Yo(o,function(){var e={};return Wt(o,function(t,n){_e.call(o.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),o.VERSION=Ee,f(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){o[e].placeholder=o}),f(["drop","take"],function(e,t){z.prototype[e]=function(n){n=n===d?1:Ze(se(n),0);var r=this.__filtered__&&!t?new z(this):this.clone();return r.__filtered__?r.__takeCount__=tt(n,r.__takeCount__):r.__views__.push({size:tt(n,Q),type:e+(r.__dir__<0?"Right":"")}),r},z.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),f(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Zr||n==Ya;z.prototype[e]=function(i){var c=this.clone();return c.__iteratees__.push({iteratee:X(i,3),type:n}),c.__filtered__=c.__filtered__||r,c}}),f(["head","last"],function(e,t){var n="take"+(t?"Right":"");z.prototype[e]=function(){return this[n](1).value()[0]}}),f(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");z.prototype[e]=function(){return this.__filtered__?new z(this):this[n](1)}}),z.prototype.compact=function(){return this.filter(ht)},z.prototype.find=function(e){return this.filter(e).head()},z.prototype.findLast=function(e){return this.reverse().find(e)},z.prototype.invokeMap=fe(function(e,t){return typeof e=="function"?new z(this):this.map(function(n){return Cr(n,e,t)})}),z.prototype.reject=function(e){return this.filter(ga(X(e)))},z.prototype.slice=function(e,t){e=se(e);var n=this;return n.__filtered__&&(e>0||t<0)?new z(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==d&&(t=se(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},z.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},z.prototype.toArray=function(){return this.take(Q)},Wt(z.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=o[r?"take"+(t=="last"?"Right":""):t],c=r||/^find/.test(t);i&&(o.prototype[t]=function(){var m=this.__wrapped__,g=r?[1]:arguments,_=m instanceof z,k=g[0],F=_||te(m),R=function(pe){var me=i.apply(o,j([pe],g));return r&&I?me[0]:me};F&&n&&typeof k=="function"&&k.length!=1&&(_=F=!1);var I=this.__chain__,W=!!this.__actions__.length,G=c&&!I,ne=_&&!W;if(!c&&F){m=ne?m:new z(this);var K=e.apply(m,g);return K.__actions__.push({func:pa,args:[R],thisArg:d}),new J(K,I)}return G&&ne?e.apply(this,g):(K=this.thru(R),G?r?K.value()[0]:K.value():K)})}),f(["pop","push","shift","sort","splice","unshift"],function(e){var t=xa[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);o.prototype[e]=function(){var i=arguments;if(r&&!this.__chain__){var c=this.value();return t.apply(te(c)?c:[],i)}return this[n](function(m){return t.apply(te(m)?m:[],i)})}}),Wt(z.prototype,function(e,t){var n=o[t];if(n){var r=n.name+"";_e.call(or,r)||(or[r]=[]),or[r].push({name:t,func:n})}}),or[ia(d,Kt).name]=[{name:"wrapper",func:d}],z.prototype.clone=dt,z.prototype.reverse=yo,z.prototype.value=Vd,o.prototype.at=Jg,o.prototype.chain=em,o.prototype.commit=tm,o.prototype.next=nm,o.prototype.plant=am,o.prototype.reverse=om,o.prototype.toJSON=o.prototype.valueOf=o.prototype.value=im,o.prototype.first=o.prototype.head,kr&&(o.prototype[kr]=rm),o},Jn=Wd();$n?(($n.exports=Jn)._=Jn,ho._=Jn):Je._=Jn}).call(Er)})(Ua,Ua.exports);var eC=Ua.exports,Ml=eC.runInContext(),ge=n0(Ml,Ml);const Rc=/^[A-Za-z][_0-9A-Za-z]*$/,Ac=a=>({name:"attributeNameAlreadyUsed",message:je.unique.id,test(s){if(!s)return!1;const u=ge.snakeCase(s);return!a.some(p=>ge.snakeCase(p)===u)}}),ki=a=>({name:"forbiddenAttributeName",message:C("error.attributeName.reserved-name"),test(s){if(!s)return!1;const u=ge.snakeCase(s);return!a.some(p=>ge.snakeCase(p)===u)}}),$={default:()=>Te().nullable(),max:()=>qt().integer().nullable(),min:()=>qt().integer().when("max",(a,s)=>a?s.max(a,C("error.validation.minSupMax")):s).nullable(),maxLength:()=>qt().integer().positive(C("error.validation.positive")).nullable(),minLength:()=>qt().integer().min(1).when("maxLength",(a,s)=>a?s.max(a,C("error.validation.minSupMax")):s).nullable(),name(a,s){return Te().test(Ac(a)).test(ki(s)).matches(Rc,je.regex.id).required(je.required.id)},required:()=>qr(),type:()=>Te().required(je.required.id),unique:()=>qr().nullable()},vi=(a,s)=>({name:$.name(a,s),type:$.type(),default:$.default(),unique:$.unique(),required:$.required(),maxLength:$.maxLength(),minLength:$.minLength(),regex:Te().test({name:"isValidRegExpPattern",message:C("error.validation.regex"),test(p){try{return new RegExp(p||"")!==null}catch{return!1}}}).nullable()}),xi=()=>({name:"isMinSuperiorThanMax",message:C("error.validation.minSupMax"),test(a){if(!a)return!0;const{max:s}=this.parent;return!s||Number.isNaN(hi(a))?!0:hi(s)>=hi(a)}}),Ea={date(a,s){const u={name:$.name(a,s),type:$.type()};return Re(u)},datetime(a,s){const u={name:$.name(a,s),type:$.type()};return Re(u)},time(a,s){const u={name:$.name(a,s),type:$.type()};return Re(u)},default(a,s){const u={name:$.name(a,s),type:$.type()};return Re(u)},biginteger(a,s){const u={name:$.name(a,s),type:$.type(),default:Te().nullable().matches(/^-?\d*$/),unique:$.unique(),required:$.required(),max:Te().nullable().matches(/^-?\d*$/,je.regex.id),min:Te().nullable().test(xi()).matches(/^-?\d*$/,je.regex.id)};return Re(u)},boolean(a,s){const u={name:$.name(a,s),default:qr().nullable(),required:$.required(),unique:$.unique()};return Re(u)},component(a,s){const u={name:$.name(a,s),type:$.type(),required:$.required(),max:$.max(),min:$.min(),component:Te().required(je.required.id)};return Re(u)},decimal(a,s){const u={name:$.name(a,s),type:$.type(),default:qt(),required:$.required(),max:qt(),min:qt().test(xi())};return Re(u)},dynamiczone(a,s){const u={name:$.name(a,s),type:$.type(),required:$.required(),max:$.max(),min:$.min()};return Re(u)},email(a,s){const u={name:$.name(a,s),type:$.type(),default:Te().email().nullable(),unique:$.unique(),required:$.required(),maxLength:$.maxLength(),minLength:$.minLength()};return Re(u)},enumeration(a,s){const u=/^[_A-Za-z][_0-9A-Za-z]*$/,p={name:Te().test(Ac(a)).test(ki(s)).matches(u,je.regex.id).required(je.required.id),type:$.type(),default:$.default(),unique:$.unique(),required:$.required(),enum:ll().of(Te()).min(1,je.min.id).test({name:"areEnumValuesUnique",message:C("error.validation.enum-duplicate"),test(f){return f?!Q1(f.map(bi).filter((h,y,x)=>x.indexOf(h)!==y)).length:!1}}).test({name:"doesNotHaveEmptyValues",message:C("error.validation.enum-empty-string"),test:f=>f?!f.map(bi).some(b=>b===""):!1}).test({name:"doesMatchRegex",message:C("error.validation.enum-regex"),test:f=>f?f.map(bi).every(b=>u.test(b)):!1}),enumName:Te().nullable()};return Re(p)},float(a,s){const u={name:$.name(a,s),type:$.type(),required:$.required(),default:qt(),max:qt(),min:qt().test(xi())};return Re(u)},integer(a,s){const u={name:$.name(a,s),type:$.type(),default:qt().integer(),unique:$.unique(),required:$.required(),max:$.max(),min:$.min()};return Re(u)},json(a,s){const u={name:$.name(a,s),type:$.type(),required:$.required(),unique:$.unique()};return Re(u)},media(a,s){const u={name:$.name(a,s),type:$.type(),multiple:qr(),required:$.required(),allowedTypes:ll().of(Te().oneOf(["images","videos","files","audios"])).min(1).nullable()};return Re(u)},password(a,s){const u={name:$.name(a,s),type:$.type(),default:$.default(),unique:$.unique(),required:$.required(),maxLength:$.maxLength(),minLength:$.minLength()};return Re(u)},relation(a,s,u,{initialData:p,modifiedData:f}){const b={name:$.name(a,s),target:Te().required(je.required.id),relation:Te().required(),type:Te().required(),targetAttribute:r0(()=>{const h=Si(f.relation,f.targetAttribute);if(h==="oneWay"||h==="manyWay")return Te().nullable();const y=Te().test(ki(s)),M=[...u.map(({name:w})=>w),f.name].filter(w=>w!==p.targetAttribute);return y.matches(Rc,je.regex.id).test({name:"forbiddenTargetAttributeName",message:C("error.validation.relation.targetAttribute-taken"),test(w){return w?!M.includes(w):!1}}).required(je.required.id)})};return Re(b)},richtext(a,s){const u={name:$.name(a,s),type:$.type(),default:$.default(),unique:$.unique(),required:$.required(),maxLength:$.maxLength(),minLength:$.minLength()};return Re(u)},blocks(a,s){const u={name:$.name(a,s),type:$.type(),default:$.default(),unique:$.unique(),required:$.required(),maxLength:$.maxLength(),minLength:$.minLength()};return Re(u)},string(a,s){const u=vi(a,s);return Re(u)},text(a,s){const u=vi(a,s);return Re(u)},uid(a,s){const u=vi(a,s);return Re(u)}},$c=/^[A-Za-z][-_0-9A-Za-z]*$/,tC=a=>{const s={name:Te().matches($c,je.regex.id).test({name:"nameNotAllowed",message:je.unique.id,test(u){return u?!a.includes(u?.toLowerCase()):!1}}).required(je.required.id)};return Re(s)},nC={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:C("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},rC=(a,s,u,p,f)=>{const b={displayName:Te().test({name:"nameAlreadyUsed",message:je.unique.id,test(h){if(!h)return!1;const y=qa(h,u),x=ge.snakeCase(y),M=ge.snakeCase(f);return a.every(w=>ge.snakeCase(w)!==x)&&p.every(w=>ge.snakeCase(w)!==M)}}).test({name:"nameNotAllowed",message:C("error.contentTypeName.reserved-name"),test(h){if(!h)return!1;const y=ge.snakeCase(h);return s.every(x=>ge.snakeCase(x)!==y)}}).required(je.required.id),category:Te().matches($c,je.regex.id).required(je.required.id),icon:Te()};return Re(b)},Fl={name:"displayName",type:"text",intlLabel:{id:C("contentType.displayName.label"),defaultMessage:"Display name"}},_i={advanced:{default(){return{sections:[{items:[{intlLabel:{id:C("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:C("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[Fl,{description:{id:C("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:C("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:C("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:C("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[Fl,{disabled:!0,description:{id:C("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:C("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:C("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:C("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:C("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:C("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:C("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:C("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},aC=({usedContentTypeNames:a=[],reservedModels:s=[],singularNames:u=[],pluralNames:p=[],collectionNames:f=[]})=>{const b={displayName:Te().test({name:"nameAlreadyUsed",message:je.unique.id,test(h){if(!h)return!1;const y=ic(h),x=ge.snakeCase(y);return!a.some(M=>ge.snakeCase(M)===x)}}).test({name:"nameNotAllowed",message:C("error.contentTypeName.reserved-name"),test(h){if(!h)return!1;const y=ge.snakeCase(h);return!s.some(x=>ge.snakeCase(x)===y)}}).required(je.required.id),pluralName:Te().test({name:"pluralNameAlreadyUsed",message:je.unique.id,test(h){if(!h)return!1;const y=ge.snakeCase(h);return!p.some(x=>ge.snakeCase(x)===y)}}).test({name:"pluralNameAlreadyUsedAsSingular",message:C("error.contentType.pluralName-equals-singularName"),test(h){if(!h)return!1;const y=ge.snakeCase(h);return!u.some(x=>ge.snakeCase(x)===y)}}).test({name:"pluralAndSingularAreUnique",message:C("error.contentType.pluralName-used"),test(h,y){return h?ge.snakeCase(y.parent.singularName)!==ge.snakeCase(h):!1}}).test({name:"pluralNameNotAllowed",message:C("error.contentTypeName.reserved-name"),test(h){if(!h)return!1;const y=ge.snakeCase(h);return!s.some(x=>ge.snakeCase(x)===y)}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:C("error.contentType.pluralName-equals-collectionName"),test(h){if(!h)return!1;const y=ge.snakeCase(h);return!f.some(x=>ge.snakeCase(x)===y)}}).required(je.required.id),singularName:Te().test({name:"singularNameAlreadyUsed",message:je.unique.id,test(h){if(!h)return!1;const y=ge.snakeCase(h);return!u.some(x=>ge.snakeCase(x)===y)}}).test({name:"singularNameAlreadyUsedAsPlural",message:C("error.contentType.singularName-equals-pluralName"),test(h){if(!h)return!1;const y=ge.snakeCase(h);return!p.some(x=>ge.snakeCase(x)===y)}}).test({name:"pluralAndSingularAreUnique",message:C("error.contentType.singularName-used"),test(h,y){return h?ge.snakeCase(y.parent.pluralName)!==ge.snakeCase(h):!1}}).test({name:"singularNameNotAllowed",message:C("error.contentTypeName.reserved-name"),test(h){if(!h)return!1;const y=ge.snakeCase(h);return!s.some(x=>ge.snakeCase(x)===y)}}).required(je.required.id),draftAndPublish:qr(),kind:Te().oneOf(["singleType","collectionType"])};return Re(b)},Ci={advanced:{default(){return{sections:ur.advanced()}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Fi]},...ur.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Fi]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:C("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},kl=(a,s)=>{a.forEach(u=>{if(!("sectionTitle"in u)){s[0].items?.push(u);return}s.push(u)})},oC=(a,s)=>`components_${ge.snakeCase(s)}_${Pa(ge.snakeCase(a))}`,Rl=(a,s)=>a.filter(({name:u})=>u!==s.initialData.name).map(({name:u})=>u),_n={customField:{schema({schemaAttributes:a,attributeType:s,customFieldValidator:u,reservedNames:p,schemaData:f,ctbFormsAPI:b}){const h=Rl(a,f);let y;return s==="relation"?y=Ea[s](h,p.attributes,[],{initialData:{},modifiedData:{}}):y=Ea[s](h,p.attributes),b.makeCustomFieldValidator(y,u,h,p.attributes,f)},form:{base({customField:a}){const s=[{sectionTitle:null,items:[Ht]}];return a.options?.base&&kl(a.options.base,s),{sections:s}},advanced({customField:a,data:s,step:u,extensions:p,...f}){const b=[{sectionTitle:null,items:[]}],h=p.getAdvancedForm(["attribute",a.type],{data:s,type:a.type,step:u,...f});if(a.options?.advanced&&kl(a.options.advanced,b),h){const y={sectionTitle:{id:C("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:h};b.push(y)}return{sections:b}}}},attribute:{schema(a,s,u,p,f,b){const h=a?.schema?.attributes??[],y=Rl(h,f);try{const x=Ea[s](y,u.attributes,p,f);return b.makeValidator(["attribute",s],x,y,u.attributes,p,f)}catch(x){return console.error("Error yup build schema",x),Ea.default(y,u.attributes)}},form:{advanced({data:a,type:s,step:u,extensions:p,...f}){try{const b=jl.advanced[s](a,u).sections,h=p.getAdvancedForm(["attribute",s],{data:a,type:s,step:u,...f});return{sections:b.reduce((x,M)=>(M.sectionTitle===null?x.push(M):x.push({...M,items:[...M.items,...h]}),x),[])}}catch(b){return console.error(b),{sections:[]}}},base({data:a,type:s,step:u,attributes:p}){try{return jl.base[s](a,u,p)}catch{return N1}}}},contentType:{schema(a,s,u,p,f,b){const h=Object.values(b).map(S=>S.schema.singularName),y=Object.values(b).map(S=>S?.schema?.pluralName??""),x=s?a.filter(S=>S!==u):a,M=s?h.filter(S=>{const{schema:P}=b[u];return P.singularName!==S}):h,w=s?y.filter(S=>{const{schema:P}=b[u];return P.pluralName!==S}):y,j=Object.values(b).map(S=>S?.schema?.collectionName??""),E=s?j.filter(S=>{const{schema:P}=b[u],H=P.collectionName;return S!==H}):j,O=aC({usedContentTypeNames:x,reservedModels:p.models,singularNames:M,pluralNames:w,collectionNames:E});return f.makeValidator(["contentType"],O,x,p.models,M,w)},form:{base({actionType:a}){return a==="create"?_i.base.create():_i.base.edit()},advanced({extensions:a}){const s=_i.advanced.default().sections.map(p=>p.items).flat(),u=a.getAdvancedForm(["contentType"]);return{sections:[{items:[...s,...u]}]}}}},component:{schema(a,s,u,p=!1,f,b,h=null){const y=p?a.filter(j=>j!==h):a,x=Object.values(f).map(j=>j?.schema?.collectionName),M=oC(b,s),w=p?x.filter(j=>j!==M):x;return rC(y,u.models,s,w,M)},form:{advanced(){return{sections:ur.advanced()}},base(){return{sections:ur.base()}}}},addComponentToDynamicZone:{form:{advanced(){return Ci.advanced.default()},base({data:a}){return a?.createComponent??!1?Ci.base.createComponent():Ci.base.default()}}},editCategory:{schema(a,s){const u=a.filter(p=>p!==s.name).map(p=>p.toLowerCase());return tC(u)},form:{advanced:()=>({sections:[]}),base(){return nC.base}}}},iC=()=>a=>a[`${Qe}_formModal`]||a0,sC=()=>sc(iC(),a=>a),uC=(a,s)=>{const u=Y(a,["contentType","schema","kind"],"");return u==="singleType"||u===s.kind?!0:Y(a,["contentType","schema","attributes"],[]).filter(({relation:b,type:h,targetAttribute:y})=>{const x=Si(b,y);return h==="relation"&&!["oneWay","manyWay"].includes(x||"")}).length===0},lC=(a="",s,u)=>{const p=["text","boolean","blocks","json","number","email","date","password","media","enumeration","relation","richtext"],f=a==="contentType";if(f)return[[...p.slice(0,-1),"uid",...p.slice(-1)],["component","dynamiczone"]];if(a){const h=Fc(s,u)>=ac;if(!f&&!h)return[p,["component"]]}return[p]},Al=a=>a.reduce((s,u)=>{const p=u.items.reduce((f,b)=>(b.name&&f.push(b.name),f),[]);return[...s,...p]},[]),cC=Pt.form`
  overflow: auto;
`,dC=()=>{const{onCloseModal:a,onNavigateToChooseAttributeModal:s,onNavigateToAddCompoToDZModal:u,onNavigateToCreateComponentStep2:p,actionType:f,attributeName:b,attributeType:h,customFieldUid:y,categoryName:x,dynamicZoneTarget:M,forTarget:w,modalType:j,isOpen:E,kind:O,step:S,targetUid:P,showBackLink:H,activeTab:ae,setActiveTab:L}=lr(),A=Dr("FormModal",Q=>Q.getPlugin),ce=Dr("FormModal",Q=>Q.customFields.get)(y),Se=he.useMemo(sC,[]),ee=Ha(),{toggleNotification:Ae}=Ba(),de=uc(Q=>Se(Q),o0),et=i0(),{trackUsage:xe}=Wa(),{formatMessage:ie}=ye(),Ce=A(Qe)?.apis.forms,N=Ce.components.inputs,{addAttribute:U,addCustomFieldAttribute:D,addCreatedComponentToDynamicZone:sn,allComponentsCategories:un,changeDynamicZoneComponents:cr,contentTypes:ln,components:zt,createSchema:yt,deleteCategory:dr,deleteData:Un,editCategory:jn,editCustomFieldAttribute:Bn,submitData:wt,modifiedData:Ue,nestedComponents:Wn,setModifiedData:fr,sortedContentTypesList:pr,updateSchema:Ut,reservedNames:Ne}=Tn(),{componentToCreate:cn,formErrors:B,initialData:V,isCreatingComponentWhileAddingAField:ue,modifiedData:d}=de,Ee=w==="contentType"||w==="component"?[w]:[w,P];he.useEffect(()=>{if(E){const Q=pr.filter(Cc);j==="editCategory"&&fr(),f==="edit"&&j==="attribute"&&w==="contentType"&&xe("willEditFieldOfContentType");const st=[...Ee,"schema","attributes"],xt=ji(Y(Ue,st,[]),M)||null;if(j==="editCategory"&&f==="edit"&&ee(ze.setDataToEdit({data:{name:x}})),j==="contentType"&&f==="create"&&ee(ze.setDataToEdit({data:{draftAndPublish:!0}})),j==="contentType"&&f==="edit"){const{displayName:be,draftAndPublish:Me,kind:Ke,pluginOptions:Ye,pluralName:Rn,singularName:An}=Y(Ue,[...Ee,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});ee(ze.setDataToEdit({data:{displayName:be,draftAndPublish:Me,kind:Ke,pluginOptions:Ye,pluralName:Rn,singularName:An}}))}if(j==="component"&&f==="edit"){const be=Y(Ue,Ee,{});ee(ze.setDataToEdit({data:{displayName:be.schema.displayName,category:be.category,icon:be.schema.icon}}))}if(j==="addComponentToDynamicZone"&&f==="edit"){const be={...xt,components:[],name:M,createComponent:!1,componentToCreate:{type:"component"}};ee(ze.setDynamicZoneDataSchema({attributeToEdit:be}))}if(h){const Me={...ji(Y(Ue,st,[]),b),name:b};h==="component"&&f==="edit"&&(Me.repeatable||lc(Me,"repeatable",!1)),ee(j==="customField"?f==="edit"?ze.setCustomFieldDataSchema({isEditing:!0,modifiedDataToSetForEditing:Me}):ze.setCustomFieldDataSchema({customField:ce,isEditing:!1,modifiedDataToSetForEditing:Me}):ze.setAttributeDataSchema({attributeType:h,nameToSetForRelation:Y(Q,["0","title"],"error"),targetUid:Y(Q,["0","uid"],"error"),isEditing:f==="edit",modifiedDataToSetForEditing:Me,step:S}))}}else ee(ze.resetProps())},[f,b,h,x,M,w,E,j]);const We=j==="contentType",ct=j==="component",He=j==="attribute",Ur=j==="customField",Vn=h==="component"&&He,Mn=f==="create",bt=Y(d,"createComponent",!1)||ue,ot=S==="1",mr=j==="editCategory",Gt=j==="chooseAttribute",Bt=ic(d.displayName||""),dn=Y(Ue,[...Ee,"schema","attributes"],null),vt=async()=>{let Q;const st=bt&&S==="1"?Y(d,"componentToCreate",{}):d;if(We)Q=_n.contentType.schema(Object.keys(ln),f==="edit",Y(Ue,[...Ee,"uid"],null),Ne,Ce,ln);else if(ct)Q=_n.component.schema(Object.keys(zt),d.category||"",Ne,f==="edit",zt,d.displayName||"",Y(Ue,[...Ee,"uid"],null));else if(Ur)Q=_n.customField.schema({schemaAttributes:Y(Ue,[...Ee,"schema","attributes"],[]),attributeType:ce.type,reservedNames:Ne,schemaData:{modifiedData:d,initialData:V},ctbFormsAPI:Ce,customFieldValidator:ce.options?.validator});else if(Vn&&bt&&ot)Q=_n.component.schema(Object.keys(zt),Y(d,"componentToCreate.category",""),Ne,f==="edit",zt,d.componentToCreate.displayName||"");else if(He&&!ot){const xt=h==="relation"?"relation":d.type;let be=[];if(xt==="relation"){const Me=Y(d,["target"],null);be=Y(ln,[Me,"schema","attributes"],[]).filter(({name:Ye})=>f!=="edit"?!0:Ye!==V.targetAttribute)}Q=_n.attribute.schema(Y(Ue,Ee,{}),xt,Ne,be,{modifiedData:d,initialData:V},Ce)}else if(mr)Q=_n.editCategory.schema(un,V);else if(ot&&bt)Q=_n.component.schema(Object.keys(zt),Y(d,"componentToCreate.category",""),Ne,f==="edit",zt,d.componentToCreate.displayName||"");else return;await Q.validate(st,{abortEarly:!1})},Kt=he.useCallback(({target:{name:Q,value:st,type:xt,...be}})=>{const Me=["enumName","max","min","maxLength","minLength","regex","default"];let Ke;Me.includes(Q)&&st===""?Ke=null:Ke=st;const Ye=Object.assign({},B);Q==="max"&&delete Ye.min,Q==="maxLength"&&delete Ye.minLength,delete Ye[Q],ee(ze.setErrors({errors:Ye})),ee(ze.onChange({keys:Q.split("."),value:Ke}))},[ee,B]),it=async(Q,st=Mn)=>{Q.preventDefault();try{await vt(),Fn(st);const xt=w==="components"?P:Bt;if(We)if(Mn)yt({...d,kind:O},j,Bt),et({pathname:`/plugins/${Qe}/content-types/${Bt}`}),s({forTarget:w,targetUid:xt});else{uC(Ue,d)?(a(),await wt(d)):Ae({type:"danger",message:ie({id:"notification.contentType.relations.conflict"})});return}else if(j==="component")if(Mn){const be=qa(d.displayName,d.category),{category:Me,...Ke}=d;yt(Ke,"component",be,Me),et({pathname:`/plugins/${Qe}/component-categories/${Me}/${be}`}),s({forTarget:w,targetUid:be})}else{Ut(d,j,P),a();return}else if(mr){if(pl(V.name)===pl(d.name)){a();return}jn(V.name,d);return}else if(Ur){const be={attributeToSet:{...d,customField:y},forTarget:w,targetUid:P,initialAttribute:V};f==="edit"?Bn(be):D(be),st?s({forTarget:w,targetUid:xt}):a();return}else if(He&&!bt){if(h==="dynamiczone"){U(d,w,P,f==="edit",V),Mn?(ee(ze.resetPropsAndSetTheFormForAddingACompoToADz()),L("basic"),u({dynamicZoneTarget:d.name})):a();return}if(!Vn){U(d,w,P,f==="edit",V),st?s({forTarget:w,targetUid:xt}):a();return}if(ot){p(),ee(ze.resetPropsAndSetFormForAddingAnExistingCompo({}));return}U(d,w,P,f==="edit",V,!0),st?s({forTarget:w,targetUid:P}):a()}else if(He&&bt){if(ot){xe("willCreateComponentFromAttributesModal"),ee(ze.resetPropsAndSaveCurrentData({})),p();return}const{category:be,type:Me,...Ke}=cn,Ye=qa(cn.displayName,be);yt(Ke,Me,Ye,be,bt),U(d,w,P,!1),ee(ze.resetProps()),st?s({forTarget:"components",targetUid:Ye}):a();return}else{if(ot)if(bt){const{category:be,type:Me,...Ke}=d.componentToCreate,Ye=qa(d.componentToCreate.displayName,be);yt(Ke,Me,Ye,be,bt),sn(M,[Ye]),s({forTarget:"components",targetUid:Ye})}else cr(M,d.components),a();else console.error("This case is not handled");return}ee(ze.resetProps())}catch(xt){const be=h_(xt);ee(ze.setErrors({errors:be}))}},St=()=>{window.confirm(ie({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(a(),ee(ze.resetProps()))},fn=()=>{Va(d,V)?(a(),ee(ze.resetProps())):St()},Nt=Q=>{if(Q==="advanced"){if(We){xe("didSelectContentTypeSettings");return}w==="contentType"&&xe("didSelectContentTypeFieldSettings")}},Fn=Q=>{j==="attribute"&&w==="contentType"&&h!=="dynamiczone"&&Q&&xe("willAddMoreFieldToContentType")},Lt=()=>!!(j==="editCategory"||j==="component"||s0(d,"createComponent")),kn=lC(w,P,Wn);if(!j)return null;const Zn=Y(_n,[j,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),Ga=w==="components"||w==="component",Br={customInputs:{"allowed-types-select":y_,"boolean-radio-group":$_,"checkbox-with-number-field":S_,"icon-picker":z_,"content-type-radio-group":N_,"radio-group":Ni,relation:M1,"select-category":F1,"select-component":k1,"select-components":R1,"select-default-boolean":R_,"select-number":kc,"select-date":A1,"toggle-draft-publish":L_,"text-plural":U_,"text-singular":$1,"textarea-enum":S1,...N},componentToCreate:cn,dynamicZoneTarget:M,formErrors:B,isAddingAComponentToAnotherComponent:Ga,isCreatingComponentWhileAddingAField:ue,mainBoxHeader:Y(Ue,[...Ee,"schema","displayName"],""),modifiedData:d,naturePickerType:w,isCreating:Mn,targetUid:P,forTarget:w},Wr=Zn.advanced({data:d,type:h,step:S,actionType:f,attributes:dn,extensions:Ce,forTarget:w,contentTypeSchema:Ue.contentType||{},customField:ce}).sections,Vr=Zn.base({data:d,type:h,step:S,actionType:f,attributes:dn,extensions:Ce,forTarget:w,contentTypeSchema:Ue.contentType||{},customField:ce}).sections,Zr=Al(Vr),Ka=Al(Wr),Ya=Object.keys(B).some(Q=>Zr.includes(Q)),Hn=Object.keys(B).some(Q=>Ka.includes(Q)),pn=Y(ln,[P,"schema","kind"]),Ja=()=>f==="edit"&&dn.every(({name:Q})=>Q!==d?.name),Gn=()=>{Ja()&&xe("didEditFieldNameOnContentType")};return l.jsx(wn.Root,{open:E,onOpenChange:fn,children:l.jsxs(wn.Content,{children:[l.jsx(E_,{actionType:f,attributeName:b,categoryName:x,contentTypeKind:O,dynamicZoneTarget:M,modalType:j,forTarget:w,targetUid:P,attributeType:h,customFieldUid:y,showBackLink:H}),Gt&&l.jsx(k_,{attributes:kn,forTarget:w,kind:pn||"collectionType"}),!Gt&&l.jsxs(cC,{onSubmit:it,children:[l.jsx(wn.Body,{children:l.jsxs($t.Root,{variant:"simple",value:ae,onValueChange:Q=>{L(Q),Nt(Q)},hasError:Ya?"basic":Hn?"advanced":void 0,children:[l.jsxs(le,{justifyContent:"space-between",children:[l.jsx(D_,{actionType:f,forTarget:w,kind:O,step:S,modalType:j,attributeType:h,attributeName:b,customField:ce}),l.jsxs($t.List,{children:[l.jsx($t.Trigger,{value:"basic",children:ie({id:C("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})}),l.jsx($t.Trigger,{value:"advanced",disabled:Lt(),children:ie({id:C("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})})]})]}),l.jsx(Ai,{marginBottom:6}),l.jsx($t.Content,{value:"basic",children:l.jsx(le,{direction:"column",alignItems:"stretch",gap:6,children:l.jsx(Tl,{form:Vr,formErrors:B,genericInputProps:Br,modifiedData:d,onChange:Kt})})}),l.jsx($t.Content,{value:"advanced",children:l.jsx(le,{direction:"column",alignItems:"stretch",gap:6,children:l.jsx(Tl,{form:Wr,formErrors:B,genericInputProps:Br,modifiedData:d,onChange:Kt})})})]})}),l.jsxs(wn.Footer,{children:[l.jsx(Pe,{variant:"tertiary",onClick:fn,children:ie({id:"app.components.Button.cancel",defaultMessage:"Cancel"})}),l.jsx(I_,{deleteCategory:dr,deleteContentType:Un,deleteComponent:Un,categoryName:V.name,isAttributeModal:j==="attribute",isCustomFieldModal:j==="customField",isComponentToDzModal:j==="addComponentToDynamicZone",isComponentAttribute:h==="component",isComponentModal:j==="component",isContentTypeModal:j==="contentType",isCreatingComponent:f==="create",isCreatingDz:f==="create",isCreatingComponentAttribute:d.createComponent||!1,isCreatingComponentInDz:d.createComponent||!1,isCreatingComponentWhileAddingAField:ue,isCreatingContentType:f==="create",isEditingAttribute:f==="edit",isDzAttribute:h==="dynamiczone",isEditingCategory:j==="editCategory",isInFirstComponentStep:S==="1",onSubmitAddComponentAttribute:it,onSubmitAddComponentToDz:it,onSubmitCreateComponent:it,onSubmitCreateContentType:it,onSubmitCreateDz:it,onSubmitEditAttribute:it,onSubmitEditCategory:it,onSubmitEditComponent:it,onSubmitEditContentType:it,onSubmitEditCustomFieldAttribute:it,onSubmitEditDz:it,onClickFinish:Gn})]})]})]})})},fC=()=>a=>a[`${Qe}_dataManagerProvider`]||u0,pC=()=>sc(fC(),a=>a),mC=(a,s)=>{const u=Object.keys(a).filter(p=>{const f=Y(a,p,{}),b=Y(s,p,{}),h=Y(f,["isTemporary"],!1),y=!Va(f,b);return h||y});return dc(u)},hC=(a,s)=>{const u=Sc(Y(a,"schema.attributes",[]),s),p=Y(a,"isTemporary",!1)?{tmpUID:a.uid}:{uid:a.uid};return Object.assign({},p,{category:a.category},cc(a.schema,"attributes"),{attributes:u})},$l=(a,s=!1)=>{const u=Y(a,"uid",null),p=Sc(Y(a,"schema.attributes",[]),u),f=s?{category:Y(a,"category","")}:{},b=Object.assign(f,cc(a.schema,"attributes"),{attributes:p});return delete b.uid,delete b.isTemporary,delete b.visible,delete b.restrictRelationsTo,b},Sc=(a,s)=>a.reduce((u,{name:p,...f})=>{const b=f,h=b.target===s,y=b.type==="relation",x=Y(b,"targetAttribute",null);if(!h)if(y){const M=Object.assign({},b,{targetAttribute:Sl(x)});u[p]=Oa(M)}else u[p]=Oa(b);if(h){const M=b.target,w=Object.assign({},b,{target:M,targetAttribute:Sl(x)});u[p]=Oa(w)}if(b.customField){const M={...b,type:"customField"};u[p]=Oa(M)}return u},{}),Sl=a=>a==="-"?null:a,Oa=a=>Object.keys(a).reduce((s,u)=>(a[u]!==null&&u!=="plugin"&&(s[u]=a[u]),s),{}),gC=(a,s,u)=>mC(a,s).map(b=>{const h=Y(a,b,{});return hC(h,u)}),yC=a=>j0(Object.keys(a).map(s=>({visible:a[s].schema.visible,name:s,title:a[s].schema.displayName,plugin:a[s].plugin||null,uid:s,to:`/plugins/${Qe}/content-types/${s}`,kind:a[s].schema.kind,restrictRelationsTo:a[s].schema.restrictRelationsTo})).filter(s=>s!==null),s=>l0(s.title)),Nl=a=>a.reduce((s,u)=>(s[u.uid]=u,s),{}),bC=(a,s,u,p)=>{const f=s.reduce((y,x)=>{const M=Y(u,x,{});return y[x]=M,y},{});return{[p?"contentType":"component"]:a,components:f}},Ll=a=>Object.keys(a).reduce((s,u)=>{const p=a[u].schema;return s[u]={...a[u],schema:{...p,attributes:vC(p.attributes)}},s},{}),vC=a=>Object.keys(a).reduce((s,u)=>(s.push({...a[u],name:u}),s),[]),xC=a=>Object.keys(a).reduce((u,p)=>{const f=Y(a,[p]),b=_C(f);return b.childComponents.length>0&&u.push(b),u},[]),_C=a=>{const s=Y(a,["schema","attributes"],[]);return{component:a.uid,childComponents:s.filter(u=>{const{type:p}=u;return p==="component"}).map(u=>({component:u.component}))}},CC=a=>{const s=Object.keys(a).reduce((u,p)=>{const f=a?.[p]?.schema?.attributes??[],b=wC(f,p);return[...u,...b]},[]);return TC(s)},wC=(a,s)=>a.reduce((u,p)=>{const{type:f,component:b}=p;return f==="component"&&u.push({component:b,parentCompoUid:s}),u},[]),TC=a=>{const s=new Map;return a.forEach(({component:p,parentCompoUid:f})=>{s.has(p)||s.set(p,new Set),s.get(p).add(f)}),Array.from(s.entries()).map(([p,f])=>({component:p,uidsOfAllParents:Array.from(f)}))},jC=(a,s)=>{const u=Object.keys(a).map(p=>Y(a,[p,...s],""));return dc(u)},Il="did-not-kill-server",MC="server is down";function Or(a,s){return new Promise(u=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":"false"}}).then(p=>{if(p.status>=400)throw new Error(MC);if(!s)throw new Error(Il);u(a)}).catch(p=>{setTimeout(()=>Or(a,p.message!==Il).then(u),100)})})}const FC=a=>Object.values(a.attributes).filter(u=>u.type==="dynamiczone").every(u=>Array.isArray(u.components)&&u.components.length>0),kC=({children:a})=>{const s=Ha(),{components:u,contentTypes:p,isLoading:f,initialData:b,modifiedData:h,reservedNames:y}=uc(pC()),{toggleNotification:x}=Ba(),{lockAppWithAutoreload:M,unlockAppWithAutoreload:w}=c0(),{setCurrentStep:j,setStepState:E}=fc("DataManagerProvider",B=>B),S=Dr("DataManagerProvider",B=>B.getPlugin)(Qe),P=d0("DataManagerProvider",B=>B.autoReload),{formatMessage:H}=ye(),{trackUsage:ae}=Wa(),L=f0("DataManagerProvider",B=>B.refetchPermissions),{pathname:A}=p0(),{onCloseModal:oe}=lr(),ce=cl(`/plugins/${Qe}/content-types/:uid`),Se=cl(`/plugins/${Qe}/component-categories/:categoryUid/:componentUid`),ee=m0(),{put:Ae,post:de,del:et}=ee,xe=P,ie=ce!==null,Ie=ie?"contentType":"component",Ce=ie?Y(ce,"params.uid",null):Y(Se,"params.componentUid",null),N=he.useRef(),U=ie?"content-types":"components";N.current=async()=>{try{const[B,V,ue]=await Promise.all([ee.get("/content-type-builder/components"),ee.get("/content-type-builder/content-types"),ee.get("/content-type-builder/reserved-names")]),d=Nl(B.data.data),Ee=Ll(d),We=Nl(V.data.data),ct=Ll(We);s(at.init({components:Ee,contentTypes:ct,reservedNames:ue.data}))}catch(B){console.error({err:B}),x({type:"danger",message:H({id:"notification.error",defaultMessage:"An error occurred"})})}},he.useEffect(()=>(N.current(),()=>{s(at.reloadPlugin())}),[]),he.useEffect(()=>{!f&&Ce&&Wn()},[f,A,Ce]),he.useEffect(()=>{P||x({type:"info",message:H({id:C("notification.info.autoreaload-disable")})})},[P,x,H]);const D=(B,V,ue,d=!1,Ee,We=!1)=>{if(d){const ct={attributeToSet:B,forTarget:V,targetUid:ue,initialAttribute:Ee,shouldAddComponentToData:We};s(at.editAttribute(ct))}else{const ct={attributeToSet:B,forTarget:V,targetUid:ue,shouldAddComponentToData:We};s(at.addAttribute(ct))}},sn=({attributeToSet:B,forTarget:V,targetUid:ue})=>{s(at.addCustomFieldAttribute({attributeToSet:B,forTarget:V,targetUid:ue}))},un=({attributeToSet:B,forTarget:V,targetUid:ue,initialAttribute:d})=>{s(at.editCustomFieldAttribute({attributeToSet:B,forTarget:V,targetUid:ue,initialAttribute:d}))},cr=(B,V)=>{s(at.addCreatedComponentToDynamicZone({dynamicZoneTarget:B,componentsToAdd:V}))},ln=(B,V,ue,d,Ee=!1)=>{if(V==="contentType"){const We={data:B,uid:ue};s(at.createSchema(We))}else{const We={data:B,uid:ue,componentCategory:d,shouldAddComponentToData:Ee};s(at.createComponentSchema(We))}},zt=(B,V)=>{s(at.changeDynamicZoneComponents({dynamicZoneTarget:B,newComponents:V}))},yt=(B,V,ue="")=>{B==="components"?s(at.removeFieldFromDisplayedComponent({attributeToRemoveName:V,componentUid:ue})):(B==="contentType"&&ae("willDeleteFieldOfContentType"),s(at.removeField({mainDataKey:B,attributeToRemoveName:V})))},dr=async B=>{try{const V=`/${Qe}/component-categories/${B}`,ue=window.confirm(H({id:C("popUpWarning.bodyMessage.category.delete")}));oe(),ue&&(M?.(),await et(V),await Or(!0),w?.(),await Ne())}catch(V){console.error({err:V}),x({type:"danger",message:H({id:"notification.error",defaultMessage:"An error occurred"})})}finally{w?.()}},Un=async()=>{try{const B=`/${Qe}/${U}/${Ce}`,V=Y(h,[Ie,"isTemporary"],!1),ue=window.confirm(H({id:C(`popUpWarning.bodyMessage.${ie?"contentType":"component"}.delete`)}));if(oe(),ue){if(V){s(at.deleteNotSavedType());return}M?.(),await et(B),await Or(!0),await w?.(),await N.current(),await Ne()}}catch(B){console.error({err:B}),x({type:"danger",message:H({id:"notification.error",defaultMessage:"An error occurred"})})}finally{w?.()}},jn=async(B,V)=>{try{const ue=`/${Qe}/component-categories/${B}`;oe(),M?.(),await Ae(ue,V),await Or(!0),await w?.(),await Ne()}catch(ue){console.error({err:ue}),x({type:"danger",message:H({id:"notification.error",defaultMessage:"An error occurred"})})}finally{w?.()}},Bn=()=>{const B=Object.assign({},u,h.components);if(!ie){const ue=Y(h,"component",{});lc(B,Y(ue,["uid"],""),ue)}return xC(B)},wt=()=>CC(u),Ue=(B,V)=>{s(at.removeComponentFromDynamicZone({dzName:B,componentToRemoveIndex:V}))},Wn=()=>{const V=Y(ie?p:u,Ce??"",{schema:{attributes:[]}}),ue=h0(V.schema.attributes,u),d=bC(V,ue,u,ie),Ee=Y(V,"isTemporary",!1)&&c_(Y(V,"schema.attributes",[]))===0;s(at.setModifiedData({schemaToSet:d,hasJustCreatedSchema:Ee}))},fr=he.useMemo(()=>{const B=ie?p:u;return Ce==="create-content-type"?!1:!Object.keys(B).includes(Ce||"")&&!f},[u,p,Ce,ie,f]),pr=he.useMemo(()=>{const B=Object.keys(p).filter(V=>Y(p,[V,"schema","visible"],!0)).sort();return Y(B,"0","create-content-type")},[p]);if(fr)return l.jsx(g0,{to:`/plugins/${Qe}/content-types/${pr}`});const Ut=async B=>{try{const V=Y(h,[Ie,"isTemporary"],!1),ue={components:gC(h.components,u,Ce)};if(ie){const ct=(S?.apis?.forms).mutateContentTypeSchema({...$l(h.contentType),...B},b.contentType);if(!FC(ct)){x({type:"danger",message:H({id:C("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"})});return}ue.contentType=ct,ae("willSaveContentType")}else ue.component=$l(h.component,!0),ae("willSaveComponent");M?.();const d=`/${Qe}/${U}`,Ee=V?d:`${d}/${Ce}`;if(V?await de(Ee,ue):await Ae(Ee,ue),V&&(b.contentType?.schema.kind==="collectionType"||b.contentType?.schema.kind==="singleType")&&(E("contentTypeBuilder.success",!0),ae("didCreateGuidedTourCollectionType"),j(null)),ie){ae("didSaveContentType");const We=Y(ue,["contentType","schema","name"],""),ct=Y(b,["contentType","schema","name"],"");!V&&We!==ct&&ae("didEditNameOfContentType")}else ae("didSaveComponent");await Or(!0),w?.(),await N.current(),await Ne()}catch(V){ie||ae("didNotSaveComponent"),console.error({err:V.response}),x({type:"danger",message:H({id:"notification.error",defaultMessage:"An error occurred"})})}finally{w?.()}},Ne=async()=>{await L()},cn=(B,V,ue)=>{s(at.updateSchema({data:B,schemaType:V,uid:ue}))};return l.jsxs(pc.Provider,{value:{addAttribute:D,addCustomFieldAttribute:sn,addCreatedComponentToDynamicZone:cr,allComponentsCategories:jC(u,["category"]),changeDynamicZoneComponents:zt,components:u,componentsGroupedByCategory:C0(u,"category"),componentsThatHaveOtherComponentInTheirAttributes:Bn(),contentTypes:p,createSchema:ln,deleteCategory:dr,deleteData:Un,editCategory:jn,editCustomFieldAttribute:un,isInDevelopmentMode:xe,initialData:b,isInContentTypeView:ie,modifiedData:h,nestedComponents:wt(),removeAttribute:yt,removeComponentFromDynamicZone:Ue,reservedNames:y,setModifiedData:Wn,sortedContentTypesList:yC(p),submitData:Ut,updateSchema:cn},children:[a,xe&&l.jsx(dC,{})]})};var RC=he.memo(kC);const El={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null,activeTab:"basic"},AC=({children:a})=>{const[s,u]=he.useState(El),{trackUsage:p}=Wa(),f=({attributeType:L,customFieldUid:A})=>{u(oe=>({...oe,actionType:"create",modalType:"customField",attributeType:L,customFieldUid:A,activeTab:"basic"}))},b=({attributeType:L,step:A})=>{s.forTarget==="contentType"&&p("didSelectContentTypeFieldType",{type:L}),u(oe=>({...oe,actionType:"create",modalType:"attribute",step:A,attributeType:L,showBackLink:!0,activeTab:"basic"}))},h=({dynamicZoneTarget:L,targetUid:A})=>{u(oe=>({...oe,dynamicZoneTarget:L,targetUid:A,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},y=({forTarget:L,targetUid:A})=>{u(oe=>({...oe,actionType:"create",forTarget:L,targetUid:A,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1,activeTab:"basic"}))},x=L=>{u(A=>({...A,...L,isOpen:!0,activeTab:"basic"}))},M=L=>{u(A=>({...A,categoryName:L,actionType:"edit",modalType:"editCategory",isOpen:!0,activeTab:"basic"}))},w=({forTarget:L,targetUid:A,attributeName:oe,attributeType:ce,customFieldUid:Se})=>{u(ee=>({...ee,modalType:"customField",customFieldUid:Se,actionType:"edit",forTarget:L,targetUid:A,attributeName:oe,attributeType:ce,isOpen:!0,activeTab:"basic"}))},j=({forTarget:L,targetUid:A,attributeName:oe,attributeType:ce,step:Se})=>{u(ee=>({...ee,modalType:"attribute",actionType:"edit",forTarget:L,targetUid:A,attributeName:oe,attributeType:ce,step:Se,isOpen:!0}))},E=({modalType:L,forTarget:A,targetUid:oe,kind:ce})=>{u(Se=>({...Se,modalType:L,actionType:"edit",forTarget:A,targetUid:oe,kind:ce,isOpen:!0,activeTab:"basic"}))},O=()=>{u(El)},S=({forTarget:L,targetUid:A})=>{u(oe=>({...oe,forTarget:L,targetUid:A,modalType:"chooseAttribute",activeTab:"basic"}))},P=()=>{u(L=>({...L,attributeType:"component",modalType:"attribute",step:"2",activeTab:"basic"}))},H=({dynamicZoneTarget:L})=>{u(A=>({...A,dynamicZoneTarget:L,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null,activeTab:"basic"}))},ae=L=>{u(A=>({...A,activeTab:L}))};return l.jsx(mc.Provider,{value:{...s,onClickSelectField:b,onClickSelectCustomField:f,onCloseModal:O,onNavigateToChooseAttributeModal:S,onNavigateToAddCompoToDZModal:H,onOpenModalAddComponentsToDZ:h,onNavigateToCreateComponentStep2:P,onOpenModalAddField:y,onOpenModalCreateSchema:x,onOpenModalEditCategory:M,onOpenModalEditField:j,onOpenModalEditCustomField:w,onOpenModalEditSchema:E,setFormModalNavigationState:u,setActiveTab:ae},children:a})},Ol=he.lazy(()=>_0(()=>import("./ListView-L93yk8iN.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),$C=()=>{const{formatMessage:a}=ye(),s=a({id:`${Qe}.plugin.name`,defaultMessage:"Content Types Builder"}),u=fc("App",f=>f.startSection),p=he.useRef(u);return he.useEffect(()=>{p.current&&p.current("contentTypeBuilder")},[]),l.jsxs(gi.Protect,{permissions:y0.main,children:[l.jsx(gi.Title,{children:s}),l.jsx(b0,{children:l.jsx(AC,{children:l.jsx(RC,{children:l.jsx(v0.Root,{sideNav:l.jsx(k0,{}),children:l.jsx(he.Suspense,{fallback:l.jsx(gi.Loading,{}),children:l.jsxs(x0,{children:[l.jsx(dl,{path:"content-types/:uid",element:l.jsx(Ol,{})}),l.jsx(dl,{path:"component-categories/:categoryUid/:componentUid",element:l.jsx(Ol,{})})]})})})})})})]})},OC=Object.freeze(Object.defineProperty({__proto__:null,default:$C},Symbol.toStringTag,{value:"Module"}));export{za as A,Tc as C,lr as a,C as g,OC as i,Tn as u};
